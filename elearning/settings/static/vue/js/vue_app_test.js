(function(e){function t(t){for(var s,a,i=t[0],c=t[1],l=t[2],d=0,p=[];d<i.length;d++)a=i[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);u&&u(t);while(p.length)p.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],s=!0,i=1;i<n.length;i++){var c=n[i];0!==o[c]&&(s=!1)}s&&(r.splice(t--,1),e=a(a.s=n[0]))}return e}var s={},o={vue_app_test:0},r=[];function a(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=s,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(n,s,function(t){return e[t]}.bind(null,s));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("84b8")},"0a48":function(e,t,n){"use strict";n("26e4")},"159a":function(e,t,n){},"26e4":function(e,t,n){},"3bf0":function(e,t,n){"use strict";n("c0b2")},"84b8":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("ba4c"),o=n.n(s),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.loading?n("b-spinner",{staticStyle:{position:"fixed",top:"50%",left:"50%"},attrs:{label:"Loading..."}}):e._e(),n("div",{staticClass:"container-fluid h-100"},[n("div",{staticClass:"row"},e._l(e.questions,(function(t,s){return n("Question",{key:s,attrs:{text:t.text,answers:t.answers,questionIndex:s},on:{answer:function(t){return e.registerAnswer(t,s)}}})})),1),n("div",{attrs:{id:"send-answers-btn"}},[n("button",{ref:"sendAnswers",staticClass:"btn btn-dark",attrs:{disabled:e.loading},on:{click:function(t){return e.sendAnswers()}}},[n("font-awesome-icon",{staticClass:"mr-1",attrs:{icon:"check"}}),e._v(" Invia risposte ")],1)]),n("b-modal",{attrs:{"ok-only":!0,"ok-title":"Torna al corso",size:"xl",id:"outcome-modal"},on:{hide:e.toCoursePage},scopedSlots:e._u([{key:"modal-header",fn:function(t){return[n("h1",[e._v("Risultati")])]}},{key:"default",fn:function(t){return[n("div",{staticClass:"container"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 col-md-3"},[n("p",[n("strong",[e._v("Punteggio: ")]),n("span",{staticClass:"score"},[e._v(e._s(e.outcomeObj.score))])])]),n("div",{staticClass:"col-4 col-md-3"},[n("strong",[e._v("Risposte corrette:")]),e._v(" "+e._s(e.outcomeObj.correctlyAnsweredQuestions.length)+" ")]),n("div",{staticClass:"col-4 col-md-3"},[n("strong",[e._v("Risposte errate:")]),e._v(" "+e._s(e.outcomeObj.incorrectlyAnsweredQuestions.length)+" ")]),n("div",{staticClass:"col-4 col-md-3"},[n("strong",[e._v("Risposte non date:")]),e._v(" "+e._s(e.outcomeObj.unansweredQuestions.length)+" ")]),n("div",{staticClass:"col-10"},[n("p",[n("strong",[e._v("Esito: ")]),e.outcomeObj.passing?n("span",{staticClass:"passed"},[n("strong",[e._v("superato")])]):n("span",{staticClass:"failed"},[n("strong",[e._v("non superato")])])])])])]),e.outcomeObj.correctlyAnsweredQuestions.length?n("div",[n("p",[e._v(" Domande a cui hai risposto correttamente: "),n("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-1",modifiers:{"collapse-1":!0}}],staticClass:"small-button",attrs:{variant:"primary"},on:{click:function(t){e.corrShown=!e.corrShown}}},[e._v(e._s(e.corrShownText))])],1),n("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse-1"}},[n("b-card",[n("div",{staticClass:"card-text"},e._l(e.outcomeObj.correctlyAnsweredQuestions,(function(t,s){return n("SeenQuestion",{key:s,attrs:{text:t.text,answers:t.answers,solution:t.solution,correctAnswerIndex:t.correctAnswerIndex,givenAnswer:t.yourAnswer,questionIddex:"1_"+s,questionId:t.questionId,sendReportApiUrl:e.sendReportApiUrl}})})),1)])],1)],1):e._e(),e.outcomeObj.incorrectlyAnsweredQuestions.length?n("div",[n("p",[e._v(" Domande a cui hai risposto in maniera errata: "),n("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-2",modifiers:{"collapse-2":!0}}],staticClass:"small-button",attrs:{variant:"primary"},on:{click:function(t){e.incorrShown=!e.incorrShown}}},[e._v(e._s(e.incorrShownText))])],1),n("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse-2"}},[n("b-card",[n("div",{staticClass:"card-text"},e._l(e.outcomeObj.incorrectlyAnsweredQuestions,(function(t,s){return n("SeenQuestion",{key:s,attrs:{text:t.text,answers:t.answers,solution:t.solution,correctAnswerIndex:t.correctAnswerIndex,givenAnswer:t.yourAnswer,questionIndex:"2_"+s,questionId:t.questionId,sendReportApiUrl:e.sendReportApiUrl}})})),1)])],1)],1):e._e(),e.outcomeObj.unansweredQuestions.length?n("div",[n("p",[e._v(" Domande a cui non hai risposto: "),n("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-3",modifiers:{"collapse-3":!0}}],staticClass:"small-button",attrs:{variant:"primary"},on:{click:function(t){e.unansShown=!e.unansShown}}},[e._v(e._s(e.unansShownText))])],1),n("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse-3"}},[n("b-card",[n("div",{staticClass:"card-text text-justify-center"},e._l(e.outcomeObj.unansweredQuestions,(function(t,s){return n("SeenQuestion",{key:s,attrs:{text:t.text,answers:t.answers,solution:t.solution,correctAnswerIndex:t.correctAnswerIndex,givenAnswer:t.yourAnswer,questionIndex:"3_"+s,questionId:t.questionId,sendReportApiUrl:e.sendReportApiUrl}})})),1)])],1)],1):e._e()]}}])})],1)],1)},a=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"col-12 col-md-10 question-wrapper"},[n("p",{staticClass:"question-text"},[n("strong",{staticClass:"question-label"},[e._v("Domanda"+e._s(-1!=e.questionIndex?" "+(e.questionIndex+1):"")+".")]),n("span",{domProps:{innerHTML:e._s(e.text)}})]),n("ol",{staticClass:"answer-list"},e._l(e.answers,(function(t,s){return n("li",{key:s},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.chosenAnswer,expression:"chosenAnswer"}],attrs:{type:"radio",id:s+"_"+e.questionIndex},domProps:{value:s,checked:e._q(e.chosenAnswer,s)},on:{change:[function(t){e.chosenAnswer=s},function(t){return e.$emit("answer",e.chosenAnswer+1)}]}}),e._v(" "),n("label",{staticClass:"answer",attrs:{for:s+"_"+e.questionIndex}},[n("span",{domProps:{innerHTML:e._s(t)}})])])})),0)])},c=[],l=(n("a9e3"),{name:"Question",props:{text:String,answers:Array,givenAnswer:Number,questionIndex:Number},components:{},data:function(){return{chosenAnswer:-1,mathjaxOptions:{tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["[","]"]],processEscapes:!0,processEnvironments:!0}}}}}),u=l,d=(n("0a48"),n("2877")),p=Object(d["a"])(u,i,c,!1,null,"d6c71e5c",null),m=p.exports,w=n("ac9a"),f=n("ecee"),v=n("c074"),b=n("bc3a"),h=n.n(b);f["c"].add(v["b"]);var g={name:"Test",components:{Question:m,SeenQuestion:w["a"]},props:{sendReportApiUrl:String,questions:Array,courseDashboardUrl:String,sendAnswersApiUrl:String},data:function(){return{answers:{},outcomeObj:{},corrShown:!1,incorrShown:!1,unansShown:!1,loading:!1}},mounted:function(){for(var e=0;e<this.questions.length;e++)this.answers[e]=-1;h.a.defaults.xsrfCookieName="csrftoken",h.a.defaults.xsrfHeaderName="X-CSRFTOKEN"},computed:{corrShownText:function(){return this.corrShown?"Nascondi":"Mostra"},incorrShownText:function(){return this.incorrShown?"Nascondi":"Mostra"},unansShownText:function(){return this.unansShown?"Nascondi":"Mostra"}},methods:{registerAnswer:function(e,t){this.answers[t]=e},sendAnswers:function(){var e=this,t=JSON.stringify(this.answers);console.log(t),this.loading=!0,h.a.post(this.sendAnswersApiUrl,t).then((function(t){e.outcomeObj=t.data,e.$root.$emit("bv::show::modal","outcome-modal","#sendAnswers"),console.log(t),e.loading=!1})).catch((function(e){alert(e),console.log(e)}))},toCoursePage:function(){window.location.href=this.courseDashboardUrl}}},x=g,_=(n("3bf0"),Object(d["a"])(x,r,a,!1,null,null,null)),S=_.exports,y=n("5f5b"),A=n("b1e0"),C=n("ad3d");o.a.use(y["a"]),o.a.use(A["a"]),o.a.component("font-awesome-icon",C["a"]),o.a.config.productionTip=!1,new o.a({el:"#app",components:{test:S}})},ac9a:function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"seen-question-box col-md-10",class:{"col-12":!e.questionOnly,"col-10 mx-auto":e.questionOnly}},[n("p",{staticClass:"question-text"},[n("span",{domProps:{innerHTML:e._s(e.text)}})]),null!=e.wrongAnswersPercentage&&e.questionOnly?n("div",[n("div",{staticClass:"w-100 progress-border"},[n("div",{staticClass:"progress-amount bg-danger",style:"width:"+e.wrongAnswersPercentage+"%"}),n("span",{staticClass:"average-text"},[e._v(" "+e._s(e.wrongAnswersPercentage.toFixed(1))+"% di errori ")])])]):e._e(),e.questionOnly?e._e():n("div",[e._l(e.answers,(function(t,s){return n("p",{key:s,staticClass:"answer-p",class:{correct:s+1==e.correctAnswerIndex&&e.correctShown,incorrect:s+1!=e.correctAnswerIndex&&e.correctShown}},[n("strong",[e._v(e._s(s+1)+".")]),e._v(" "),n("span",{domProps:{innerHTML:e._s(t)}}),s+1==e.givenAnswer?n("span",{staticClass:"comment"},[n("em",{class:{"text-muted":!e.correctShown}},[e._v("(La tua risposta)")])]):e._e()])})),-1==e.givenAnswer?n("p",{staticClass:"text-muted"},[n("em",[e._v("(Non hai risposto a questa domanda)")])]):e._e(),n("p",[n("strong",[e._v("Risposta corretta: ")]),n("b-button",{staticClass:"small-button",attrs:{variant:"outline-success"},on:{click:function(t){e.correctShown=!e.correctShown}}},[e._v(e._s(e.showCorrAnsText))])],1),n("p",[n("strong",[e._v("Soluzione: ")]),n("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"collapse-"+e.operatingIndex,expression:"'collapse-' + operatingIndex"}],staticClass:"small-button",attrs:{variant:"outline-primary"},on:{click:function(t){e.solShown=!e.solShown}}},[e._v(e._s(e.showSolText))]),n("br"),n("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse-"+e.operatingIndex}},[n("span",{domProps:{innerHTML:e._s(e.solution)}})])],1),n("div",{staticClass:"grid",staticStyle:{"justify-items":"end"}},[e.reportSuccessful?n("span",{staticClass:"correct"},[n("i",{staticClass:"fas fa-check mr-1"}),e._v(" Segnalazione ricevuta con successo")]):n("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"report-modal-"+e.questionId,expression:"'report-modal-' + questionId"}],staticClass:"py-0",attrs:{variant:"outline-danger"}},[n("i",{staticClass:"far fa-flag mr-1"}),e._v(" Segnala errore")])],1)],2),n("b-modal",{attrs:{"cancel-title":"Annulla","ok-title":"Invia segnalazione","ok-disabled":!e.reportText.length,size:"lg",title:"Segnala errore",id:"report-modal-"+e.questionId},on:{ok:e.sendReport}},[n("p",[e._v("Dicci cosa non va con questa domanda.")]),n("vue-editor",{staticClass:"big-editor",attrs:{editorToolbar:e.customToolbar,id:"report-editor-"+e.questionId},model:{value:e.reportText,callback:function(t){e.reportText=t},expression:"reportText"}})],1)],1)},o=[],r=(n("a9e3"),n("5873")),a=n("bc3a"),i=n.n(a),c={name:"SeenQuestion",components:{VueEditor:r["a"]},props:{sendReportApiUrl:String,text:String,solution:String,answers:Array,correctAnswerIndex:Number,givenAnswer:Number,questionIndex:{type:[String,Number],default:null},questionId:Number,questionOnly:{type:Boolean,default:!1},wrongAnswersPercentage:{type:Number,default:null}},mounted:function(){i.a.defaults.xsrfCookieName="csrftoken",i.a.defaults.xsrfHeaderName="X-CSRFTOKEN"},data:function(){return{reportSuccessful:!1,customToolbar:[["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],[{color:[]}]],reportText:"",correctShown:!1,solShown:!1,mathjaxOptions:{tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["[","]"]],processEscapes:!0,processEnvironments:!0}}}},computed:{showCorrAnsText:function(){return this.correctShown?"Nascondi":"Mostra"},showSolText:function(){return this.solShown?"Nascondi":"Mostra"},operatingIndex:function(){var e;return null!==(e=this.questionIndex)&&void 0!==e?e:this.questionId}},methods:{sendReport:function(){var e=this;i.a.post(this.sendReportApiUrl,{questionId:this.questionId,text:this.reportText}).then((function(t){console.log(t),e.reportSuccessful=!0})).catch((function(e){alert(e),console.log(e)}))}}},l=c,u=(n("b826"),n("2877")),d=Object(u["a"])(l,s,o,!1,null,"3937f0b7",null);t["a"]=d.exports},b826:function(e,t,n){"use strict";n("159a")},c0b2:function(e,t,n){}});