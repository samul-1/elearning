(function(e){function t(t){for(var n,a,i=t[0],l=t[1],c=t[2],d=0,p=[];d<i.length;d++)a=i[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(p.length)p.shift()();return r.push.apply(r,c||[]),s()}function s(){for(var e,t=0;t<r.length;t++){for(var s=r[t],n=!0,i=1;i<s.length;i++){var l=s[i];0!==o[l]&&(n=!1)}n&&(r.splice(t--,1),e=a(a.s=s[0]))}return e}var n={},o={vue_app_test_history:0},r=[];function a(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=e,a.c=n,a.d=function(e,t,s){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(s,n,function(t){return e[t]}.bind(null,n));return s},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;r.push([2,"chunk-vendors"]),s()})({"1df6":function(e,t,s){},2:function(e,t,s){e.exports=s("6194")},"46dd":function(e,t,s){"use strict";s("9e93")},5946:function(e,t,s){"use strict";s("e2c7")},6194:function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var n=s("ba4c"),o=s.n(n),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.tests.length?e._e():s("div",{staticStyle:{"margin-top":"3rem"}},[s("b-card",{attrs:{"bg-variant":"light","text-variant":"black"}},[s("b-card-text",{staticClass:"grid-card"},[s("font-awesome-icon",{staticClass:"mr-1",staticStyle:{width:"80px",height:"80px"},attrs:{icon:"exclamation-circle"}}),s("span",[e._v("Non hai ancora effettuato alcun test.")])],1)],1)],1),s("div",{staticClass:"grid-test-history"},e._l(e.tests,(function(t,n){return s("TakenTest",{key:n,ref:n,refInFor:!0,class:{"expanded-grid-column":n==e.expanded},attrs:{correctlyAnsweredQuestions:t.correctlyAnsweredQuestions,incorrectlyAnsweredQuestions:t.incorrectlyAnsweredQuestions,unansweredQuestions:t.unansweredQuestions,score:t.score,passing:t.passing,timestamp:t.timestamp,index:n,maxScore:e.maxScore,sendReportApiUrl:e.sendReportApiUrl},on:{expanded:e.previewExpanded}})})),1)])},a=[],i=(s("a9e3"),s("d3b7"),s("ddb0"),s("3835")),l=s("b85c"),c=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"test-wrapper"},[e.fullShown?e._e():s("div",{staticClass:"test-preview",class:{"preview-passed":this.passing,"preview-failed":!this.passing,"full-shown":this.fullShown}},[s("div",{staticClass:"test-date-preview"},[e._v(e._s(e.formattedDate))]),s("span",{staticClass:"test-score-preview"},[s("span",{staticClass:"your-score-preview"},[e._v(e._s(e.score))]),e._v(" / "+e._s(e.maxScore)+" ")]),s("span",{staticClass:"test-outcome-preview",class:{passed:this.passing,failed:!this.passing}},[s("font-awesome-icon",{staticClass:"mr-1",attrs:{icon:this.passing?"check":"times"}}),e._v(" "+e._s(e.outcome)+" ")],1),s("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"collapse-"+e.index,expression:"'collapse-' + index"}],attrs:{variant:this.passing?"outline-success":"outline-danger"},on:{click:function(t){e.fullShown=!e.fullShown,e.$emit("expanded",e.index,e.fullShown)}}},[e._v("Mostra dettagli ")])],1),e.fullShown?s("div",{staticClass:"full taken-test"},[s("div",{staticClass:"row w-100"},[s("div",{staticClass:"col-12 order-1 col-lg-4 order-lg-2 align-self-end"},[s("p",{staticClass:"test-date"},[e._v(" Test sostenuto in data "+e._s(e.formattedTimestamp)+" ")])]),s("div",{staticClass:"col-12 order-2 col-lg-8 order-lg-1 align-self-start"},[s("h3",{staticClass:"test-score"},[e._v("Punteggio: "+e._s(e.score))])])]),s("p",{staticClass:"test-outcome",class:{passed:this.passing,failed:!this.passing}},[e._v(" "+e._s(e.outcome)+" ")]),s("CollapsableQuestionList",{attrs:{sendReportApiUrl:e.sendReportApiUrl,text:"Domande a cui hai risposto correttamente:",questions:e.correctlyAnsweredQuestions,index:"test-"+e.index+"-1"}}),s("CollapsableQuestionList",{attrs:{sendReportApiUrl:e.sendReportApiUrl,text:"Domande a cui hai risposto in maniera errata:",questions:e.incorrectlyAnsweredQuestions,index:"test-"+e.index+"-2"}}),s("CollapsableQuestionList",{attrs:{sendReportApiUrl:e.sendReportApiUrl,text:"Domande a cui non hai risposto:",questions:e.unansweredQuestions,index:"test-"+e.index+"-3"}}),s("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"collapse-"+e.index,expression:"'collapse-' + index"}],attrs:{variant:this.passing?"outline-success":"outline-danger"},on:{click:function(t){e.fullShown=!e.fullShown,e.$emit("expanded",e.index,e.fullShown)}}},[e._v(e._s(e.buttonText)+" ")])],1):e._e()])},u=[],d=s("ecee"),p=s("c074"),f=s("67ac");d["c"].add(p["b"]),d["c"].add(p["m"]);var m={components:{CollapsableQuestionList:f["a"]},name:"TakenTest",props:{sendReportApiUrl:String,index:Number,score:Number,timestamp:String,correctlyAnsweredQuestions:Array,incorrectlyAnsweredQuestions:Array,unansweredQuestions:Array,passing:Number,maxScore:Number},data:function(){return{fullShown:!1,monthNames:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]}},computed:{outcome:function(){return this.passing?"Superato":"Non superato"},buttonText:function(){return this.fullShown?"Nascondi dettagli":"Mostra dettagli"},formattedTimestamp:function(){var e=new Date(this.timestamp);return(e.getDate()<10?"0"+e.getDate():e.getDate()+1)+"/"+(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"/"+e.getFullYear()+", alle "+(e.getHours()<10?"0"+e.getHours():e.getHours())+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())},formattedDate:function(){var e=new Date(this.timestamp);return e.getDate()+" "+this.monthNames[e.getMonth()].toUpperCase()+" "+e.getFullYear()}},methods:{collapse:function(){this.fullShown=!1}}},g=m,v=(s("baf1"),s("2877")),h=Object(v["a"])(g,c,u,!1,null,"11d28435",null),w=h.exports;d["c"].add(p["e"]);var b={name:"TestHistory",components:{TakenTest:w},props:{tests:Array,maxScore:Number,sendReportApiUrl:String},mounted:function(){},data:function(){return{expanded:-1}},methods:{previewExpanded:function(e,t){console.log(e+" "+t),this.expanded=t?e:null;var s,n=Object(l["a"])(this.tests.entries());try{for(n.s();!(s=n.n()).done;){var o=Object(i["a"])(s.value,1),r=o[0];r!=e&&this.$refs[r][0].collapse()}}catch(a){n.e(a)}finally{n.f()}}}},x=b,_=(s("a6d9"),Object(v["a"])(x,r,a,!1,null,"5ed4d334",null)),y=_.exports,S=s("5f5b"),A=s("b1e0"),C=s("ad3d");o.a.use(S["a"]),o.a.use(A["a"]),o.a.component("font-awesome-icon",C["a"]),o.a.config.productionTip=!1,new o.a({el:"#app",components:{"test-history":y}})},"67ac":function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"list-wrapper"},[s("p",{class:{"text-muted":!e.questions.length}},[e._v(" "+e._s(e.text)+" "),s("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"collapse-"+e.index,expression:"'collapse-' + index"}],staticClass:"small-button",attrs:{variant:"primary",disabled:!e.questions.length},on:{click:function(t){e.shown=!e.shown}}},[e._v(e._s(e.shownText)+" ")])],1),s("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse-"+e.index}},[s("b-card",{staticClass:"transparent-card no-border"},[s("div",{staticClass:"card-text"},e._l(e.questions,(function(t,n){return s("SeenQuestion",{key:n,attrs:{text:t.text,answers:t.answers,solution:t.solution,correctAnswerIndex:t.correctAnswerIndex,givenAnswer:t.yourAnswer,questionId:t.questionId,questionIndex:"list"+e.index+"-"+n,questionOnly:e.questionOnly,wrongAnswersPercentage:t.wrongAnswersPercentage,sendReportApiUrl:e.sendReportApiUrl}})})),1)])],1)],1)},o=[],r=(s("a9e3"),s("ac9a")),a={name:"CollapsableQuestionList",components:{SeenQuestion:r["a"]},props:{sendReportApiUrl:String,text:String,questions:Array,index:String,questionOnly:{type:Boolean,default:!1},wrongAnswerPercentage:{type:Number,default:null}},mounted:function(){},data:function(){return{shown:!1}},methods:{},computed:{shownText:function(){return this.shown?"Nascondi":"Mostra"}}},i=a,l=(s("5946"),s("2877")),c=Object(l["a"])(i,n,o,!1,null,null,null);t["a"]=c.exports},"9e93":function(e,t,s){},a63c:function(e,t,s){},a6d9:function(e,t,s){"use strict";s("1df6")},ac9a:function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"seen-question-box col-10"},[s("p",{staticClass:"question-text"},[s("span",{domProps:{innerHTML:e._s(e.text)}})]),null!=e.wrongAnswersPercentage&&e.questionOnly?s("div",[s("div",{staticClass:"w-100 progress-border"},[s("div",{staticClass:"progress-amount bg-danger",style:"width:"+e.wrongAnswersPercentage+"%"}),s("span",{staticClass:"average-text"},[e._v(" "+e._s(e.wrongAnswersPercentage.toFixed(1))+"% di errori ")])])]):e._e(),e.questionOnly?e._e():s("div",[e._l(e.answers,(function(t,n){return s("p",{key:n,staticClass:"answer-p",class:{correct:n+1==e.correctAnswerIndex&&e.correctShown,incorrect:n+1!=e.correctAnswerIndex&&e.correctShown}},[s("strong",[e._v(e._s(n+1)+".")]),e._v(" "),s("span",{domProps:{innerHTML:e._s(t)}}),n+1==e.givenAnswer?s("span",{staticClass:"comment"},[s("em",{class:{"text-muted":!e.correctShown}},[e._v("(La tua risposta)")])]):e._e()])})),-1==e.givenAnswer?s("p",{staticClass:"text-muted"},[s("em",[e._v("(Non hai risposto a questa domanda)")])]):e._e(),s("p",[s("strong",[e._v("Risposta corretta: ")]),s("b-button",{staticClass:"small-button",attrs:{variant:"outline-success"},on:{click:function(t){e.correctShown=!e.correctShown}}},[e._v(e._s(e.showCorrAnsText))])],1),s("p",[s("strong",[e._v("Soluzione: ")]),s("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"collapse-"+e.operatingIndex,expression:"'collapse-' + operatingIndex"}],staticClass:"small-button",attrs:{variant:"outline-primary"},on:{click:function(t){e.solShown=!e.solShown}}},[e._v(e._s(e.showSolText))]),s("br"),s("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse-"+e.operatingIndex}},[s("span",{domProps:{innerHTML:e._s(e.solution)}})])],1),s("div",{staticClass:"grid",staticStyle:{"justify-items":"end"}},[e.reportSuccessful?s("span",{staticClass:"correct"},[s("i",{staticClass:"fas fa-check mr-1"}),e._v(" Segnalazione ricevuta con successo")]):s("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"report-modal-"+e.questionId,expression:"'report-modal-' + questionId"}],staticClass:"py-0",attrs:{variant:"outline-danger"}},[s("i",{staticClass:"far fa-flag mr-1"}),e._v(" Segnala errore")])],1)],2),s("b-modal",{attrs:{"cancel-title":"Annulla","ok-title":"Invia segnalazione","ok-disabled":!e.reportText.length,size:"lg",title:"Segnala errore",id:"report-modal-"+e.questionId},on:{ok:e.sendReport}},[s("p",[e._v("Dicci cosa non va con questa domanda.")]),s("vue-editor",{staticClass:"big-editor",attrs:{editorToolbar:e.customToolbar,id:"report-editor-"+e.questionId},model:{value:e.reportText,callback:function(t){e.reportText=t},expression:"reportText"}})],1)],1)},o=[],r=(s("a9e3"),s("5873")),a=s("bc3a"),i=s.n(a),l={name:"SeenQuestion",components:{VueEditor:r["a"]},props:{sendReportApiUrl:String,text:String,solution:String,answers:Array,correctAnswerIndex:Number,givenAnswer:Number,questionIndex:{type:[String,Number],default:null},questionId:Number,questionOnly:{type:Boolean,default:!1},wrongAnswersPercentage:{type:Number,default:null}},mounted:function(){i.a.defaults.xsrfCookieName="csrftoken",i.a.defaults.xsrfHeaderName="X-CSRFTOKEN"},data:function(){return{reportSuccessful:!1,customToolbar:[["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],[{color:[]}]],reportText:"",correctShown:!1,solShown:!1,mathjaxOptions:{tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["[","]"]],processEscapes:!0,processEnvironments:!0}}}},computed:{showCorrAnsText:function(){return this.correctShown?"Nascondi":"Mostra"},showSolText:function(){return this.solShown?"Nascondi":"Mostra"},operatingIndex:function(){var e;return null!==(e=this.questionIndex)&&void 0!==e?e:this.questionId}},methods:{sendReport:function(){var e=this;i.a.post(this.sendReportApiUrl,{questionId:this.questionId,text:this.reportText}).then((function(t){console.log(t),e.reportSuccessful=!0})).catch((function(e){alert(e),console.log(e)}))}}},c=l,u=(s("46dd"),s("2877")),d=Object(u["a"])(c,n,o,!1,null,"7bb51738",null);t["a"]=d.exports},baf1:function(e,t,s){"use strict";s("a63c")},e2c7:function(e,t,s){}});