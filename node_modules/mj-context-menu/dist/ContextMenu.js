(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["ContextMenu"] = factory();
	else
		root["ContextMenu"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./js/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./js/abstract_entry.js":
/*!******************************!*\
  !*** ./js/abstract_entry.js ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var __extends = this && this.__extends || function () {
  var _extendStatics = function extendStatics(d, b) {
    _extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) {
        if (b.hasOwnProperty(p)) d[p] = b[p];
      }
    };

    return _extendStatics(d, b);
  };

  return function (d, b) {
    _extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.AbstractEntry = void 0;

var menu_element_js_1 = __webpack_require__(/*! ./menu_element.js */ "./js/menu_element.js");

var html_classes_js_1 = __webpack_require__(/*! ./html_classes.js */ "./js/html_classes.js");

var AbstractEntry = function (_super) {
  __extends(AbstractEntry, _super);

  function AbstractEntry(_menu, _type) {
    var _this = _super.call(this) || this;

    _this._menu = _menu;
    _this._type = _type;
    _this.className = html_classes_js_1.HtmlClasses['MENUITEM'];
    _this.role = 'menuitem';
    _this.hidden = false;
    return _this;
  }

  Object.defineProperty(AbstractEntry.prototype, "menu", {
    get: function get() {
      return this._menu;
    },
    set: function set(menu) {
      this._menu = menu;
    },
    enumerable: false,
    configurable: true
  });
  Object.defineProperty(AbstractEntry.prototype, "type", {
    get: function get() {
      return this._type;
    },
    enumerable: false,
    configurable: true
  });

  AbstractEntry.prototype.hide = function () {
    this.hidden = true;
    this.menu.generateMenu();
  };

  AbstractEntry.prototype.show = function () {
    this.hidden = false;
    this.menu.generateMenu();
  };

  AbstractEntry.prototype.isHidden = function () {
    return this.hidden;
  };

  return AbstractEntry;
}(menu_element_js_1.MenuElement);

exports.AbstractEntry = AbstractEntry;

/***/ }),

/***/ "./js/abstract_item.js":
/*!*****************************!*\
  !*** ./js/abstract_item.js ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var __extends = this && this.__extends || function () {
  var _extendStatics = function extendStatics(d, b) {
    _extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) {
        if (b.hasOwnProperty(p)) d[p] = b[p];
      }
    };

    return _extendStatics(d, b);
  };

  return function (d, b) {
    _extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

var __values = this && this.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function next() {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.AbstractItem = void 0;

var abstract_entry_js_1 = __webpack_require__(/*! ./abstract_entry.js */ "./js/abstract_entry.js");

var menu_util_js_1 = __webpack_require__(/*! ./menu_util.js */ "./js/menu_util.js");

var html_classes_js_1 = __webpack_require__(/*! ./html_classes.js */ "./js/html_classes.js");

var AbstractItem = function (_super) {
  __extends(AbstractItem, _super);

  function AbstractItem(menu, type, _content, id) {
    var _this = _super.call(this, menu, type) || this;

    _this._content = _content;
    _this.disabled = false;
    _this.callbacks = [];
    _this._id = id ? id : _content;
    return _this;
  }

  Object.defineProperty(AbstractItem.prototype, "content", {
    get: function get() {
      return this._content;
    },
    set: function set(content) {
      this._content = content;
      this.generateHtml();

      if (this.menu) {
        this.menu.generateHtml();
      }
    },
    enumerable: false,
    configurable: true
  });
  Object.defineProperty(AbstractItem.prototype, "id", {
    get: function get() {
      return this._id;
    },
    enumerable: false,
    configurable: true
  });

  AbstractItem.prototype.press = function () {
    if (!this.disabled) {
      this.executeAction();
      this.executeCallbacks_();
    }
  };

  AbstractItem.prototype.executeAction = function () {};

  AbstractItem.prototype.registerCallback = function (func) {
    if (this.callbacks.indexOf(func) === -1) {
      this.callbacks.push(func);
    }
  };

  AbstractItem.prototype.unregisterCallback = function (func) {
    var index = this.callbacks.indexOf(func);

    if (index !== -1) {
      this.callbacks.splice(index, 1);
    }
  };

  AbstractItem.prototype.mousedown = function (event) {
    this.press();
    this.stop(event);
  };

  AbstractItem.prototype.mouseover = function (event) {
    this.focus();
    this.stop(event);
  };

  AbstractItem.prototype.mouseout = function (event) {
    this.deactivate();
    this.stop(event);
  };

  AbstractItem.prototype.generateHtml = function () {
    _super.prototype.generateHtml.call(this);

    var html = this.html;
    html.setAttribute('aria-disabled', 'false');
    html.textContent = this.content;
  };

  AbstractItem.prototype.activate = function () {
    if (!this.disabled) {
      this.html.classList.add(html_classes_js_1.HtmlClasses['MENUACTIVE']);
    }
  };

  AbstractItem.prototype.deactivate = function () {
    this.html.classList.remove(html_classes_js_1.HtmlClasses['MENUACTIVE']);
  };

  AbstractItem.prototype.focus = function () {
    this.menu.focused = this;

    _super.prototype.focus.call(this);

    this.activate();
  };

  AbstractItem.prototype.unfocus = function () {
    this.deactivate();

    _super.prototype.unfocus.call(this);
  };

  AbstractItem.prototype.escape = function (_event) {
    menu_util_js_1.MenuUtil.close(this);
  };

  AbstractItem.prototype.up = function (event) {
    this.menu.up(event);
  };

  AbstractItem.prototype.down = function (event) {
    this.menu.down(event);
  };

  AbstractItem.prototype.left = function (event) {
    this.menu.left(event);
  };

  AbstractItem.prototype.right = function (event) {
    this.menu.right(event);
  };

  AbstractItem.prototype.space = function (_event) {
    this.press();
  };

  AbstractItem.prototype.disable = function () {
    this.disabled = true;
    var html = this.html;
    html.classList.add(html_classes_js_1.HtmlClasses['MENUDISABLED']);
    html.setAttribute('aria-disabled', 'true');
  };

  AbstractItem.prototype.enable = function () {
    this.disabled = false;
    var html = this.html;
    html.classList.remove(html_classes_js_1.HtmlClasses['MENUDISABLED']);
    html.removeAttribute('aria-disabled');
  };

  AbstractItem.prototype.executeCallbacks_ = function () {
    var e_1, _a;

    try {
      for (var _b = __values(this.callbacks), _c = _b.next(); !_c.done; _c = _b.next()) {
        var func = _c.value;

        try {
          func(this);
        } catch (e) {
          menu_util_js_1.MenuUtil.error(e, 'Callback for menu entry ' + this.id + ' failed.');
        }
      }
    } catch (e_1_1) {
      e_1 = {
        error: e_1_1
      };
    } finally {
      try {
        if (_c && !_c.done && (_a = _b["return"])) _a.call(_b);
      } finally {
        if (e_1) throw e_1.error;
      }
    }
  };

  return AbstractItem;
}(abstract_entry_js_1.AbstractEntry);

exports.AbstractItem = AbstractItem;

/***/ }),

/***/ "./js/abstract_menu.js":
/*!*****************************!*\
  !*** ./js/abstract_menu.js ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var __extends = this && this.__extends || function () {
  var _extendStatics = function extendStatics(d, b) {
    _extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) {
        if (b.hasOwnProperty(p)) d[p] = b[p];
      }
    };

    return _extendStatics(d, b);
  };

  return function (d, b) {
    _extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

var __values = this && this.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function next() {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.AbstractMenu = void 0;

var abstract_postable_js_1 = __webpack_require__(/*! ./abstract_postable.js */ "./js/abstract_postable.js");

var abstract_item_js_1 = __webpack_require__(/*! ./abstract_item.js */ "./js/abstract_item.js");

var html_classes_js_1 = __webpack_require__(/*! ./html_classes.js */ "./js/html_classes.js");

var item_submenu_js_1 = __webpack_require__(/*! ./item_submenu.js */ "./js/item_submenu.js");

var AbstractMenu = function (_super) {
  __extends(AbstractMenu, _super);

  function AbstractMenu() {
    var _this = _super !== null && _super.apply(this, arguments) || this;

    _this.className = html_classes_js_1.HtmlClasses['CONTEXTMENU'];
    _this.role = 'menu';
    _this._items = [];
    _this._baseMenu = null;
    return _this;
  }

  Object.defineProperty(AbstractMenu.prototype, "baseMenu", {
    get: function get() {
      return this._baseMenu;
    },
    set: function set(menu) {
      this._baseMenu = menu;
    },
    enumerable: false,
    configurable: true
  });
  Object.defineProperty(AbstractMenu.prototype, "items", {
    get: function get() {
      return this._items;
    },
    set: function set(items) {
      this._items = items;
    },
    enumerable: false,
    configurable: true
  });
  Object.defineProperty(AbstractMenu.prototype, "pool", {
    get: function get() {
      return this.variablePool;
    },
    enumerable: false,
    configurable: true
  });
  Object.defineProperty(AbstractMenu.prototype, "focused", {
    get: function get() {
      return this._focused;
    },
    set: function set(item) {
      if (this._focused === item) {
        return;
      }

      if (!this._focused) {
        this.unfocus();
      }

      var old = this._focused;
      this._focused = item;

      if (old) {
        old.unfocus();
      }
    },
    enumerable: false,
    configurable: true
  });

  AbstractMenu.prototype.up = function (_event) {
    var items = this.items.filter(function (x) {
      return x instanceof abstract_item_js_1.AbstractItem && !x.isHidden();
    });

    if (items.length === 0) {
      return;
    }

    if (!this.focused) {
      items[items.length - 1].focus();
      return;
    }

    var index = items.indexOf(this.focused);

    if (index === -1) {
      return;
    }

    index = index ? --index : items.length - 1;
    items[index].focus();
  };

  AbstractMenu.prototype.down = function (_event) {
    var items = this.items.filter(function (x) {
      return x instanceof abstract_item_js_1.AbstractItem && !x.isHidden();
    });

    if (items.length === 0) {
      return;
    }

    if (!this.focused) {
      items[0].focus();
      return;
    }

    var index = items.indexOf(this.focused);

    if (index === -1) {
      return;
    }

    index++;
    index = index === items.length ? 0 : index;
    items[index].focus();
  };

  AbstractMenu.prototype.generateHtml = function () {
    _super.prototype.generateHtml.call(this);

    this.generateMenu();
  };

  AbstractMenu.prototype.generateMenu = function () {
    var e_1, _a;

    var html = this.html;
    html.classList.add(html_classes_js_1.HtmlClasses['MENU']);

    try {
      for (var _b = __values(this.items), _c = _b.next(); !_c.done; _c = _b.next()) {
        var item = _c.value;

        if (!item.isHidden()) {
          html.appendChild(item.html);
          continue;
        }

        var itemHtml = item.html;

        if (itemHtml.parentNode) {
          itemHtml.parentNode.removeChild(itemHtml);
        }
      }
    } catch (e_1_1) {
      e_1 = {
        error: e_1_1
      };
    } finally {
      try {
        if (_c && !_c.done && (_a = _b["return"])) _a.call(_b);
      } finally {
        if (e_1) throw e_1.error;
      }
    }
  };

  AbstractMenu.prototype.post = function (x, y) {
    this.variablePool.update();

    _super.prototype.post.call(this, x, y);
  };

  AbstractMenu.prototype.unpostSubmenus = function () {
    var e_2, _a;

    var submenus = this.items.filter(function (x) {
      return x instanceof item_submenu_js_1.Submenu;
    });

    try {
      for (var submenus_1 = __values(submenus), submenus_1_1 = submenus_1.next(); !submenus_1_1.done; submenus_1_1 = submenus_1.next()) {
        var submenu = submenus_1_1.value;
        submenu.submenu.unpost();

        if (submenu !== this.focused) {
          submenu.unfocus();
        }
      }
    } catch (e_2_1) {
      e_2 = {
        error: e_2_1
      };
    } finally {
      try {
        if (submenus_1_1 && !submenus_1_1.done && (_a = submenus_1["return"])) _a.call(submenus_1);
      } finally {
        if (e_2) throw e_2.error;
      }
    }
  };

  AbstractMenu.prototype.unpost = function () {
    _super.prototype.unpost.call(this);

    this.unpostSubmenus();
    this.focused = null;
  };

  AbstractMenu.prototype.find = function (id) {
    var e_3, _a;

    try {
      for (var _b = __values(this.items), _c = _b.next(); !_c.done; _c = _b.next()) {
        var item = _c.value;

        if (item.type === 'rule') {
          continue;
        }

        if (item.id === id) {
          return item;
        }

        if (item.type === 'submenu') {
          var result = item.submenu.find(id);

          if (result) {
            return result;
          }
        }
      }
    } catch (e_3_1) {
      e_3 = {
        error: e_3_1
      };
    } finally {
      try {
        if (_c && !_c.done && (_a = _b["return"])) _a.call(_b);
      } finally {
        if (e_3) throw e_3.error;
      }
    }

    return null;
  };

  return AbstractMenu;
}(abstract_postable_js_1.AbstractPostable);

exports.AbstractMenu = AbstractMenu;

/***/ }),

/***/ "./js/abstract_navigatable.js":
/*!************************************!*\
  !*** ./js/abstract_navigatable.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.AbstractNavigatable = void 0;

var key_navigatable_js_1 = __webpack_require__(/*! ./key_navigatable.js */ "./js/key_navigatable.js");

var mouse_navigatable_js_1 = __webpack_require__(/*! ./mouse_navigatable.js */ "./js/mouse_navigatable.js");

var AbstractNavigatable = function () {
  function AbstractNavigatable() {
    this.bubble = false;
  }

  AbstractNavigatable.prototype.bubbleKey = function () {
    this.bubble = true;
  };

  AbstractNavigatable.prototype.keydown = function (event) {
    switch (event.keyCode) {
      case key_navigatable_js_1.KEY.ESCAPE:
        this.escape(event);
        break;

      case key_navigatable_js_1.KEY.RIGHT:
        this.right(event);
        break;

      case key_navigatable_js_1.KEY.LEFT:
        this.left(event);
        break;

      case key_navigatable_js_1.KEY.UP:
        this.up(event);
        break;

      case key_navigatable_js_1.KEY.DOWN:
        this.down(event);
        break;

      case key_navigatable_js_1.KEY.RETURN:
      case key_navigatable_js_1.KEY.SPACE:
        this.space(event);
        break;

      default:
        return;
    }

    this.bubble ? this.bubble = false : this.stop(event);
  };

  AbstractNavigatable.prototype.escape = function (_event) {};

  AbstractNavigatable.prototype.space = function (_event) {};

  AbstractNavigatable.prototype.left = function (_event) {};

  AbstractNavigatable.prototype.right = function (_event) {};

  AbstractNavigatable.prototype.up = function (_event) {};

  AbstractNavigatable.prototype.down = function (_event) {};

  AbstractNavigatable.prototype.stop = function (event) {
    if (event) {
      event.stopPropagation();
      event.preventDefault();
      event.cancelBubble = true;
    }
  };

  AbstractNavigatable.prototype.mousedown = function (event) {
    return this.stop(event);
  };

  AbstractNavigatable.prototype.mouseup = function (event) {
    return this.stop(event);
  };

  AbstractNavigatable.prototype.mouseover = function (event) {
    return this.stop(event);
  };

  AbstractNavigatable.prototype.mouseout = function (event) {
    return this.stop(event);
  };

  AbstractNavigatable.prototype.click = function (event) {
    return this.stop(event);
  };

  AbstractNavigatable.prototype.addEvents = function (element) {
    element.addEventListener(mouse_navigatable_js_1.MOUSE.DOWN, this.mousedown.bind(this));
    element.addEventListener(mouse_navigatable_js_1.MOUSE.UP, this.mouseup.bind(this));
    element.addEventListener(mouse_navigatable_js_1.MOUSE.OVER, this.mouseover.bind(this));
    element.addEventListener(mouse_navigatable_js_1.MOUSE.OUT, this.mouseout.bind(this));
    element.addEventListener(mouse_navigatable_js_1.MOUSE.CLICK, this.click.bind(this));
    element.addEventListener('keydown', this.keydown.bind(this));
    element.addEventListener('dragstart', this.stop.bind(this));
    element.addEventListener(mouse_navigatable_js_1.MOUSE.SELECTSTART, this.stop.bind(this));
    element.addEventListener('contextmenu', this.stop.bind(this));
    element.addEventListener(mouse_navigatable_js_1.MOUSE.DBLCLICK, this.stop.bind(this));
  };

  return AbstractNavigatable;
}();

exports.AbstractNavigatable = AbstractNavigatable;

/***/ }),

/***/ "./js/abstract_postable.js":
/*!*********************************!*\
  !*** ./js/abstract_postable.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var __extends = this && this.__extends || function () {
  var _extendStatics = function extendStatics(d, b) {
    _extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) {
        if (b.hasOwnProperty(p)) d[p] = b[p];
      }
    };

    return _extendStatics(d, b);
  };

  return function (d, b) {
    _extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.AbstractPostable = void 0;

var menu_element_js_1 = __webpack_require__(/*! ./menu_element.js */ "./js/menu_element.js");

var AbstractPostable = function (_super) {
  __extends(AbstractPostable, _super);

  function AbstractPostable() {
    var _this = _super !== null && _super.apply(this, arguments) || this;

    _this.posted = false;
    return _this;
  }

  AbstractPostable.prototype.isPosted = function () {
    return this.posted;
  };

  AbstractPostable.prototype.post = function (x, y) {
    if (this.posted) {
      return;
    }

    if (typeof x !== 'undefined' && typeof y !== 'undefined') {
      this.html.setAttribute('style', 'left: ' + x + 'px; top: ' + y + 'px;');
    }

    this.display();
    this.posted = true;
  };

  AbstractPostable.prototype.unpost = function () {
    if (!this.posted) {
      return;
    }

    var html = this.html;

    if (html.parentNode) {
      html.parentNode.removeChild(html);
    }

    this.posted = false;
  };

  return AbstractPostable;
}(menu_element_js_1.MenuElement);

exports.AbstractPostable = AbstractPostable;

/***/ }),

/***/ "./js/abstract_variable_item.js":
/*!**************************************!*\
  !*** ./js/abstract_variable_item.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var __extends = this && this.__extends || function () {
  var _extendStatics = function extendStatics(d, b) {
    _extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) {
        if (b.hasOwnProperty(p)) d[p] = b[p];
      }
    };

    return _extendStatics(d, b);
  };

  return function (d, b) {
    _extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.AbstractVariableItem = void 0;

var abstract_item_js_1 = __webpack_require__(/*! ./abstract_item.js */ "./js/abstract_item.js");

var AbstractVariableItem = function (_super) {
  __extends(AbstractVariableItem, _super);

  function AbstractVariableItem() {
    return _super !== null && _super.apply(this, arguments) || this;
  }

  AbstractVariableItem.prototype.generateHtml = function () {
    _super.prototype.generateHtml.call(this);

    var html = this.html;

    if (!this.span) {
      this.generateSpan();
    }

    html.appendChild(this.span);
    this.update();
  };

  AbstractVariableItem.prototype.register = function () {
    this.variable.register(this);
  };

  AbstractVariableItem.prototype.unregister = function () {
    this.variable.unregister(this);
  };

  AbstractVariableItem.prototype.update = function () {
    this.updateAria();

    if (this.span) {
      this.updateSpan();
    }
  };

  return AbstractVariableItem;
}(abstract_item_js_1.AbstractItem);

exports.AbstractVariableItem = AbstractVariableItem;

/***/ }),

/***/ "./js/close_button.js":
/*!****************************!*\
  !*** ./js/close_button.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var __extends = this && this.__extends || function () {
  var _extendStatics = function extendStatics(d, b) {
    _extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) {
        if (b.hasOwnProperty(p)) d[p] = b[p];
      }
    };

    return _extendStatics(d, b);
  };

  return function (d, b) {
    _extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CloseButton = void 0;

var abstract_postable_js_1 = __webpack_require__(/*! ./abstract_postable.js */ "./js/abstract_postable.js");

var html_classes_js_1 = __webpack_require__(/*! ./html_classes.js */ "./js/html_classes.js");

var CloseButton = function (_super) {
  __extends(CloseButton, _super);

  function CloseButton(element) {
    var _this = _super.call(this) || this;

    _this.element = element;
    _this.className = html_classes_js_1.HtmlClasses['MENUCLOSE'];
    _this.role = 'button';
    return _this;
  }

  CloseButton.prototype.generateHtml = function () {
    var html = document.createElement('span');
    html.classList.add(this.className);
    html.setAttribute('role', this.role);
    html.setAttribute('tabindex', '0');
    var content = document.createElement('span');
    content.textContent = "\xD7";
    html.appendChild(content);
    this.html = html;
  };

  CloseButton.prototype.display = function () {};

  CloseButton.prototype.unpost = function () {
    _super.prototype.unpost.call(this);

    this.element.unpost();
  };

  CloseButton.prototype.keydown = function (event) {
    this.bubbleKey();

    _super.prototype.keydown.call(this, event);
  };

  CloseButton.prototype.space = function (event) {
    this.unpost();
    this.stop(event);
  };

  CloseButton.prototype.mousedown = function (event) {
    this.unpost();
    this.stop(event);
  };

  return CloseButton;
}(abstract_postable_js_1.AbstractPostable);

exports.CloseButton = CloseButton;

/***/ }),

/***/ "./js/context_menu.js":
/*!****************************!*\
  !*** ./js/context_menu.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var __extends = this && this.__extends || function () {
  var _extendStatics = function extendStatics(d, b) {
    _extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) {
        if (b.hasOwnProperty(p)) d[p] = b[p];
      }
    };

    return _extendStatics(d, b);
  };

  return function (d, b) {
    _extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ContextMenu = void 0;

var abstract_menu_js_1 = __webpack_require__(/*! ./abstract_menu.js */ "./js/abstract_menu.js");

var html_classes_js_1 = __webpack_require__(/*! ./html_classes.js */ "./js/html_classes.js");

var menu_store_js_1 = __webpack_require__(/*! ./menu_store.js */ "./js/menu_store.js");

var variable_pool_js_1 = __webpack_require__(/*! ./variable_pool.js */ "./js/variable_pool.js");

var ContextMenu = function (_super) {
  __extends(ContextMenu, _super);

  function ContextMenu(factory) {
    var _this = _super.call(this) || this;

    _this.factory = factory;
    _this.id = '';
    _this.moving = false;
    _this._store = new menu_store_js_1.MenuStore(_this);
    _this.widgets = [];
    _this.variablePool = new variable_pool_js_1.VariablePool();
    return _this;
  }

  ContextMenu.fromJson = function (factory, _a) {
    var pool = _a.pool,
        items = _a.items,
        _b = _a.id,
        id = _b === void 0 ? '' : _b;
    var ctxtMenu = new this(factory);
    ctxtMenu.id = id;
    var varParser = factory.get('variable');
    pool.forEach(function (x) {
      return varParser(factory, x, ctxtMenu.pool);
    });
    var itemList = factory.get('items')(factory, items, ctxtMenu);
    ctxtMenu.items = itemList;
    return ctxtMenu;
  };

  ContextMenu.prototype.generateHtml = function () {
    if (this.isPosted()) {
      this.unpost();
    }

    _super.prototype.generateHtml.call(this);

    this._frame = document.createElement('div');

    this._frame.classList.add(html_classes_js_1.HtmlClasses['MENUFRAME']);

    var styleString = 'left: 0px; top: 0px; z-index: 200; width: 100%; ' + 'height: 100%; border: 0px; padding: 0px; margin: 0px;';

    this._frame.setAttribute('style', 'position: absolute; ' + styleString);

    var innerDiv = document.createElement('div');
    innerDiv.setAttribute('style', 'position: fixed; ' + styleString);

    this._frame.appendChild(innerDiv);

    innerDiv.addEventListener('mousedown', function (event) {
      this.unpost();
      this.unpostWidgets();
      this.stop(event);
    }.bind(this));
  };

  ContextMenu.prototype.display = function () {
    document.body.appendChild(this.frame);
    this.frame.appendChild(this.html);
    this.focus();
  };

  ContextMenu.prototype.escape = function (_event) {
    this.unpost();
    this.unpostWidgets();
  };

  ContextMenu.prototype.unpost = function () {
    _super.prototype.unpost.call(this);

    if (this.widgets.length > 0) {
      return;
    }

    this.frame.parentNode.removeChild(this.frame);
    var store = this.store;

    if (!this.moving) {
      store.insertTaborder();
    }

    store.active.focus();
  };

  ContextMenu.prototype.left = function (_event) {
    this.move_(this.store.previous());
  };

  ContextMenu.prototype.right = function (_event) {
    this.move_(this.store.next());
  };

  Object.defineProperty(ContextMenu.prototype, "frame", {
    get: function get() {
      return this._frame;
    },
    enumerable: false,
    configurable: true
  });
  Object.defineProperty(ContextMenu.prototype, "store", {
    get: function get() {
      return this._store;
    },
    enumerable: false,
    configurable: true
  });

  ContextMenu.prototype.post = function (numberOrEvent, isY) {
    if (typeof isY !== 'undefined') {
      if (!this.moving) {
        this.store.removeTaborder();
      }

      _super.prototype.post.call(this, numberOrEvent, isY);

      return;
    }

    var event = numberOrEvent;
    var node;

    if (event instanceof Event) {
      node = event.target;
      this.stop(event);
    } else {
      node = event;
    }

    var x;
    var y;

    if (event instanceof MouseEvent) {
      x = event.pageX, y = event.pageY;

      if (!x && !y && event.clientX) {
        x = event.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;
        y = event.clientY + document.body.scrollTop + document.documentElement.scrollTop;
      }
    }

    if (!x && !y && node) {
      var offsetX = window.pageXOffset || document.documentElement.scrollLeft;
      var offsetY = window.pageYOffset || document.documentElement.scrollTop;
      var rect = node.getBoundingClientRect();
      x = (rect.right + rect.left) / 2 + offsetX;
      y = (rect.bottom + rect.top) / 2 + offsetY;
    }

    this.store.active = node;
    this.anchor = this.store.active;
    var menu = this.html;
    var margin = 5;

    if (x + menu.offsetWidth > document.body.offsetWidth - margin) {
      x = document.body.offsetWidth - menu.offsetWidth - margin;
    }

    this.post(x, y);
  };

  ContextMenu.prototype.registerWidget = function (widget) {
    this.widgets.push(widget);
  };

  ContextMenu.prototype.unregisterWidget = function (widget) {
    var index = this.widgets.indexOf(widget);

    if (index > -1) {
      this.widgets.splice(index, 1);
    }

    if (this.widgets.length === 0) {
      this.unpost();
    }
  };

  ContextMenu.prototype.unpostWidgets = function () {
    this.widgets.forEach(function (x) {
      return x.unpost();
    });
  };

  ContextMenu.prototype.toJson = function () {
    return {
      type: ''
    };
  };

  ContextMenu.prototype.move_ = function (next) {
    if (this.anchor && next !== this.anchor) {
      this.moving = true;
      this.unpost();
      this.post(next);
      this.moving = false;
    }
  };

  return ContextMenu;
}(abstract_menu_js_1.AbstractMenu);

exports.ContextMenu = ContextMenu;

/***/ }),

/***/ "./js/css_util.js":
/*!************************!*\
  !*** ./js/css_util.js ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CssStyles = void 0;

var html_classes_js_1 = __webpack_require__(/*! ./html_classes.js */ "./js/html_classes.js");

var CssStyles;

(function (CssStyles) {
  function makeClass_(name) {
    return '.' + (html_classes_js_1.HtmlClasses[name] || name);
  }

  var INFO_STYLES = {};
  INFO_STYLES[makeClass_('INFOCLOSE')] = '{' + '  top:.2em; right:.2em;' + '}', INFO_STYLES[makeClass_('INFOCONTENT')] = '{' + '  overflow:auto; text-align:left; font-size:80%;' + '  padding:.4em .6em; border:1px inset; margin:1em 0px;' + '  max-height:20em; max-width:30em; background-color:#EEEEEE;' + '  white-space:normal;' + '}', INFO_STYLES[makeClass_('INFO') + makeClass_('MOUSEPOST')] = '{' + 'outline:none;' + '}', INFO_STYLES[makeClass_('INFO')] = '{' + '  position:fixed; left:50%; width:auto; text-align:center;' + '  border:3px outset; padding:1em 2em; background-color:#DDDDDD;' + '  color:black;' + '  cursor:default; font-family:message-box; font-size:120%;' + '  font-style:normal; text-indent:0; text-transform:none;' + '  line-height:normal; letter-spacing:normal; word-spacing:normal;' + '  word-wrap:normal; white-space:nowrap; float:none; z-index:201;' + '  border-radius: 15px;                     /* Opera 10.5 and IE9 */' + '  -webkit-border-radius:15px;               /* Safari and Chrome */' + '  -moz-border-radius:15px;                  /* Firefox */' + '  -khtml-border-radius:15px;                /* Konqueror */' + '  box-shadow:0px 10px 20px #808080;         /* Opera 10.5 and IE9 */' + '  -webkit-box-shadow:0px 10px 20px #808080; /* Safari 3 & Chrome */' + '  -moz-box-shadow:0px 10px 20px #808080;    /* Forefox 3.5 */' + '  -khtml-box-shadow:0px 10px 20px #808080;  /* Konqueror */' + '  filter:progid:DXImageTransform.Microsoft.dropshadow(OffX=2,' + ' OffY=2, Color="gray", Positive="true"); /* IE */' + '}';
  var MENU_STYLES = {};
  MENU_STYLES[makeClass_('MENU')] = '{' + '  position:absolute;' + '  background-color:white;' + '  color:black;' + '  width:auto; padding:5px 0px;' + '  border:1px solid #CCCCCC; margin:0; cursor:default;' + '  font: menu; text-align:left; text-indent:0; text-transform:none;' + '  line-height:normal; letter-spacing:normal; word-spacing:normal;' + '  word-wrap:normal; white-space:nowrap; float:none; z-index:201;' + '  border-radius: 5px;                     /* Opera 10.5 and IE9 */' + '  -webkit-border-radius: 5px;             /* Safari and Chrome */' + '  -moz-border-radius: 5px;                /* Firefox */' + '  -khtml-border-radius: 5px;              /* Konqueror */' + '  box-shadow:0px 10px 20px #808080;         /* Opera 10.5 and IE9 */' + '  -webkit-box-shadow:0px 10px 20px #808080; /* Safari 3 & Chrome */' + '  -moz-box-shadow:0px 10px 20px #808080;    /* Forefox 3.5 */' + '  -khtml-box-shadow:0px 10px 20px #808080;  /* Konqueror */' + '}', MENU_STYLES[makeClass_('MENUITEM')] = '{' + '  padding: 1px 2em;' + '  background:transparent;' + '}', MENU_STYLES[makeClass_('MENUARROW')] = '{' + '  position:absolute; right:.5em; padding-top:.25em; color:#666666;' + '  font-family: null; font-size: .75em' + '}', MENU_STYLES[makeClass_('MENUACTIVE') + ' ' + makeClass_('MENUARROW')] = '{color:white}', MENU_STYLES[makeClass_('MENUARROW') + makeClass_('RTL')] = '{left:.5em; right:auto}', MENU_STYLES[makeClass_('MENUCHECK')] = '{' + '  position:absolute; left:.7em;' + '  font-family: null' + '}', MENU_STYLES[makeClass_('MENUCHECK') + makeClass_('RTL')] = '{ right:.7em; left:auto }', MENU_STYLES[makeClass_('MENURADIOCHECK')] = '{' + '  position:absolute; left: .7em;' + '}', MENU_STYLES[makeClass_('MENURADIOCHECK') + makeClass_('RTL')] = '{' + '  right: .7em; left:auto' + '}', MENU_STYLES[makeClass_('MENUINPUTBOX')] = '{' + '  padding-left: 1em; right:.5em; color:#666666;' + '  font-family: null;' + '}', MENU_STYLES[makeClass_('MENUINPUTBOX') + makeClass_('RTL')] = '{' + '  left: .1em;' + '}', MENU_STYLES[makeClass_('MENUCOMBOBOX')] = '{' + '  left:.1em; padding-bottom:.5em;' + '}', MENU_STYLES[makeClass_('MENUSLIDER')] = '{' + '  left: .1em;' + '}', MENU_STYLES[makeClass_('SLIDERVALUE')] = '{' + '  position:absolute; right:.1em; padding-top:.25em; color:#333333;' + '  font-size: .75em' + '}', MENU_STYLES[makeClass_('SLIDERBAR')] = '{' + '  outline: none; background: #d3d3d3' + '}', MENU_STYLES[makeClass_('MENULABEL')] = '{' + '  padding: 1px 2em 3px 1.33em;' + '  font-style:italic' + '}', MENU_STYLES[makeClass_('MENURULE')] = '{' + '  border-top: 1px solid #DDDDDD;' + '  margin: 4px 3px;' + '}', MENU_STYLES[makeClass_('MENUDISABLED')] = '{' + '  color:GrayText' + '}', MENU_STYLES[makeClass_('MENUACTIVE')] = '{' + '  background-color: #606872;' + '  color: white;' + '}', MENU_STYLES[makeClass_('MENUDISABLED') + ':focus'] = '{' + '  background-color: #E8E8E8' + '}', MENU_STYLES[makeClass_('MENULABEL') + ':focus'] = '{' + '  background-color: #E8E8E8' + '}', MENU_STYLES[makeClass_('CONTEXTMENU') + ':focus'] = '{' + '  outline:none' + '}', MENU_STYLES[makeClass_('CONTEXTMENU') + ' ' + makeClass_('MENUITEM') + ':focus'] = '{' + '  outline:none' + '}', MENU_STYLES[makeClass_('SELECTIONMENU')] = '{' + '  position:relative; float:left;' + '  border-bottom: none;' + ' -webkit-box-shadow:none;' + ' -webkit-border-radius:0px; ' + '}', MENU_STYLES[makeClass_('SELECTIONITEM')] = '{' + '  padding-right: 1em;' + '}', MENU_STYLES[makeClass_('SELECTION')] = '{' + '  right: 40%; width:50%; ' + '}', MENU_STYLES[makeClass_('SELECTIONBOX')] = '{' + '  padding: 0em; max-height:20em; max-width: none;' + '  background-color:#FFFFFF;' + '}', MENU_STYLES[makeClass_('SELECTIONDIVIDER')] = '{' + '  clear: both; border-top: 2px solid #000000;' + '}', MENU_STYLES[makeClass_('MENU') + ' ' + makeClass_('MENUCLOSE')] = '{' + '  top:-10px; left:-10px' + '}';
  var CLOSE_ICON_STYLES = {};
  CLOSE_ICON_STYLES[makeClass_('MENUCLOSE')] = '{' + '  position:absolute;' + '  cursor:pointer;' + '  display:inline-block;' + '  border:2px solid #AAA;' + '  border-radius:18px;' + '  -webkit-border-radius: 18px;             /* Safari and Chrome */' + '  -moz-border-radius: 18px;                /* Firefox */' + '  -khtml-border-radius: 18px;              /* Konqueror */' + '  font-family: "Courier New", Courier;' + '  font-size:24px;' + '  color:#F0F0F0' + '}', CLOSE_ICON_STYLES[makeClass_('MENUCLOSE') + ' span'] = '{' + '  display:block; background-color:#AAA; border:1.5px solid;' + '  border-radius:18px;' + '  -webkit-border-radius: 18px;             /* Safari and Chrome */' + '  -moz-border-radius: 18px;                /* Firefox */' + '  -khtml-border-radius: 18px;              /* Konqueror */' + '  line-height:0;' + '  padding:8px 0 6px     /* may need to be browser-specific */' + '}', CLOSE_ICON_STYLES[makeClass_('MENUCLOSE') + ':hover'] = '{' + '  color:white!important;' + '  border:2px solid #CCC!important' + '}', CLOSE_ICON_STYLES[makeClass_('MENUCLOSE') + ':hover span'] = '{' + '  background-color:#CCC!important' + '}', CLOSE_ICON_STYLES[makeClass_('MENUCLOSE') + ':hover:focus'] = '{' + '  outline:none' + '}';
  var INFO_ADDED = false;
  var MENU_ADDED = false;
  var CLOSE_ICON_ADDED = false;

  function addMenuStyles(opt_document) {
    if (MENU_ADDED) {
      return;
    }

    addStyles_(MENU_STYLES, opt_document);
    MENU_ADDED = true;
    addCloseIconStyles_(opt_document);
  }

  CssStyles.addMenuStyles = addMenuStyles;

  function addInfoStyles(opt_document) {
    if (INFO_ADDED) {
      return;
    }

    addStyles_(INFO_STYLES, opt_document);
    INFO_ADDED = true;
    addCloseIconStyles_(opt_document);
  }

  CssStyles.addInfoStyles = addInfoStyles;

  function addCloseIconStyles_(opt_document) {
    if (CLOSE_ICON_ADDED) {
      return;
    }

    addStyles_(CLOSE_ICON_STYLES, opt_document);
    CLOSE_ICON_ADDED = true;
  }

  function addStyles_(styles, opt_document) {
    var doc = opt_document || document;
    var element = doc.createElement('style');
    element.type = 'text/css';
    var inner = '';

    for (var style in styles) {
      inner += style;
      inner += ' ';
      inner += styles[style];
      inner += '\n';
    }

    element.innerHTML = inner;
    doc.head.appendChild(element);
  }
})(CssStyles = exports.CssStyles || (exports.CssStyles = {}));

/***/ }),

/***/ "./js/html_classes.js":
/*!****************************!*\
  !*** ./js/html_classes.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.HtmlAttrs = exports.HtmlClasses = void 0;
var PREFIX = 'CtxtMenu';

function prefix_(name) {
  return PREFIX + '_' + name;
}

function prefixClass_(name) {
  return prefix_(name);
}

function prefixAttr_(name) {
  return prefix_(name);
}

exports.HtmlClasses = {
  ATTACHED: prefixClass_('Attached'),
  CONTEXTMENU: prefixClass_('ContextMenu'),
  MENU: prefixClass_('Menu'),
  MENUARROW: prefixClass_('MenuArrow'),
  MENUACTIVE: prefixClass_('MenuActive'),
  MENUCHECK: prefixClass_('MenuCheck'),
  MENUCLOSE: prefixClass_('MenuClose'),
  MENUCOMBOBOX: prefixClass_('MenuComboBox'),
  MENUDISABLED: prefixClass_('MenuDisabled'),
  MENUFRAME: prefixClass_('MenuFrame'),
  MENUITEM: prefixClass_('MenuItem'),
  MENULABEL: prefixClass_('MenuLabel'),
  MENURADIOCHECK: prefixClass_('MenuRadioCheck'),
  MENUINPUTBOX: prefixClass_('MenuInputBox'),
  MENURULE: prefixClass_('MenuRule'),
  MENUSLIDER: prefixClass_('MenuSlider'),
  MOUSEPOST: prefixClass_('MousePost'),
  RTL: prefixClass_('RTL'),
  INFO: prefixClass_('Info'),
  INFOCLOSE: prefixClass_('InfoClose'),
  INFOCONTENT: prefixClass_('InfoContent'),
  INFOSIGNATURE: prefixClass_('InfoSignature'),
  INFOTITLE: prefixClass_('InfoTitle'),
  SLIDERVALUE: prefixClass_('SliderValue'),
  SLIDERBAR: prefixClass_('SliderBar'),
  SELECTION: prefixClass_('Selection'),
  SELECTIONBOX: prefixClass_('SelectionBox'),
  SELECTIONMENU: prefixClass_('SelectionMenu'),
  SELECTIONDIVIDER: prefixClass_('SelectionDivider'),
  SELECTIONITEM: prefixClass_('SelectionItem')
};
exports.HtmlAttrs = {
  COUNTER: prefixAttr_('Counter'),
  KEYDOWNFUNC: prefixAttr_('keydownFunc'),
  CONTEXTMENUFUNC: prefixAttr_('contextmenuFunc'),
  OLDTAB: prefixAttr_('Oldtabindex'),
  TOUCHFUNC: prefixAttr_('TouchFunc')
};

/***/ }),

/***/ "./js/index.js":
/*!*********************!*\
  !*** ./js/index.js ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ParserFactory = exports.Variable = exports.SelectionBox = exports.version = exports.Parser = exports.Popup = exports.Info = exports.CssStyles = exports.ContextMenu = void 0;

var context_menu_1 = __webpack_require__(/*! ./context_menu */ "./js/context_menu.js");

var css_util_1 = __webpack_require__(/*! ./css_util */ "./js/css_util.js");

var info_1 = __webpack_require__(/*! ./info */ "./js/info.js");

var popup_1 = __webpack_require__(/*! ./popup */ "./js/popup.js");

var parse_1 = __webpack_require__(/*! ./parse */ "./js/parse.js");

var selection_box_1 = __webpack_require__(/*! ./selection_box */ "./js/selection_box.js");

var variable_1 = __webpack_require__(/*! ./variable */ "./js/variable.js");

var parser_factory_1 = __webpack_require__(/*! ./parser_factory */ "./js/parser_factory.js");

exports.ContextMenu = context_menu_1.ContextMenu;
exports.CssStyles = css_util_1.CssStyles;
exports.Info = info_1.Info;
exports.Popup = popup_1.Popup;
exports.Parser = parse_1.Parser;
exports.version = '0.4.2';
exports.SelectionBox = selection_box_1.SelectionBox;
exports.Variable = variable_1.Variable;
exports.ParserFactory = parser_factory_1.ParserFactory;

/***/ }),

/***/ "./js/info.js":
/*!********************!*\
  !*** ./js/info.js ***!
  \********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var __extends = this && this.__extends || function () {
  var _extendStatics = function extendStatics(d, b) {
    _extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) {
        if (b.hasOwnProperty(p)) d[p] = b[p];
      }
    };

    return _extendStatics(d, b);
  };

  return function (d, b) {
    _extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Info = void 0;

var close_button_js_1 = __webpack_require__(/*! ./close_button.js */ "./js/close_button.js");

var html_classes_js_1 = __webpack_require__(/*! ./html_classes.js */ "./js/html_classes.js");

var abstract_postable_js_1 = __webpack_require__(/*! ./abstract_postable.js */ "./js/abstract_postable.js");

var Info = function (_super) {
  __extends(Info, _super);

  function Info(title, content, signature) {
    var _this = _super.call(this) || this;

    _this.title = title;
    _this.signature = signature;
    _this.className = html_classes_js_1.HtmlClasses['INFO'];
    _this.role = 'dialog';
    _this.contentDiv = _this.generateContent();
    _this.close = _this.generateClose();

    _this.content = content || function () {
      return '';
    };

    return _this;
  }

  Info.prototype.attachMenu = function (menu) {
    this.menu = menu;
  };

  Info.prototype.generateHtml = function () {
    _super.prototype.generateHtml.call(this);

    var html = this.html;
    html.appendChild(this.generateTitle());
    html.appendChild(this.contentDiv);
    html.appendChild(this.generateSignature());
    html.appendChild(this.close.html);
    html.setAttribute('tabindex', '0');
  };

  Info.prototype.post = function () {
    _super.prototype.post.call(this);

    var doc = document.documentElement;
    var html = this.html;
    var H = window.innerHeight || doc.clientHeight || doc.scrollHeight || 0;
    var x = Math.floor(-html.offsetWidth / 2);
    var y = Math.floor((H - html.offsetHeight) / 3);
    html.setAttribute('style', 'margin-left: ' + x + 'px; top: ' + y + 'px;');

    if (window.event instanceof MouseEvent) {
      html.classList.add(html_classes_js_1.HtmlClasses['MOUSEPOST']);
    }

    html.focus();
  };

  Info.prototype.display = function () {
    this.menu.registerWidget(this);
    this.contentDiv.innerHTML = this.content();
    var html = this.menu.html;

    if (html.parentNode) {
      html.parentNode.removeChild(html);
    }

    this.menu.frame.appendChild(this.html);
  };

  Info.prototype.click = function (_event) {};

  Info.prototype.keydown = function (event) {
    this.bubbleKey();

    _super.prototype.keydown.call(this, event);
  };

  Info.prototype.escape = function (_event) {
    this.unpost();
  };

  Info.prototype.unpost = function () {
    _super.prototype.unpost.call(this);

    this.html.classList.remove(html_classes_js_1.HtmlClasses['MOUSEPOST']);
    this.menu.unregisterWidget(this);
  };

  Info.prototype.generateClose = function () {
    var close = new close_button_js_1.CloseButton(this);
    var html = close.html;
    html.classList.add(html_classes_js_1.HtmlClasses['INFOCLOSE']);
    html.setAttribute('aria-label', 'Close Dialog Box');
    return close;
  };

  Info.prototype.generateTitle = function () {
    var span = document.createElement('span');
    span.innerHTML = this.title;
    span.classList.add(html_classes_js_1.HtmlClasses['INFOTITLE']);
    return span;
  };

  Info.prototype.generateContent = function () {
    var div = document.createElement('div');
    div.classList.add(html_classes_js_1.HtmlClasses['INFOCONTENT']);
    div.setAttribute('tabindex', '0');
    return div;
  };

  Info.prototype.generateSignature = function () {
    var span = document.createElement('span');
    span.innerHTML = this.signature;
    span.classList.add(html_classes_js_1.HtmlClasses['INFOSIGNATURE']);
    return span;
  };

  Info.prototype.toJson = function () {
    return {
      type: ''
    };
  };

  return Info;
}(abstract_postable_js_1.AbstractPostable);

exports.Info = Info;

/***/ }),

/***/ "./js/item_checkbox.js":
/*!*****************************!*\
  !*** ./js/item_checkbox.js ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var __extends = this && this.__extends || function () {
  var _extendStatics = function extendStatics(d, b) {
    _extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) {
        if (b.hasOwnProperty(p)) d[p] = b[p];
      }
    };

    return _extendStatics(d, b);
  };

  return function (d, b) {
    _extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Checkbox = void 0;

var abstract_variable_item_js_1 = __webpack_require__(/*! ./abstract_variable_item.js */ "./js/abstract_variable_item.js");

var menu_util_js_1 = __webpack_require__(/*! ./menu_util.js */ "./js/menu_util.js");

var html_classes_js_1 = __webpack_require__(/*! ./html_classes.js */ "./js/html_classes.js");

var Checkbox = function (_super) {
  __extends(Checkbox, _super);

  function Checkbox(menu, content, variable, id) {
    var _this = _super.call(this, menu, 'checkbox', content, id) || this;

    _this.role = 'menuitemcheckbox';
    _this.variable = menu.pool.lookup(variable);

    _this.register();

    return _this;
  }

  Checkbox.fromJson = function (_factory, _a, menu) {
    var content = _a.content,
        variable = _a.variable,
        id = _a.id;
    return new this(menu, content, variable, id);
  };

  Checkbox.prototype.executeAction = function () {
    this.variable.setValue(!this.variable.getValue());
    menu_util_js_1.MenuUtil.close(this);
  };

  Checkbox.prototype.generateSpan = function () {
    this.span = document.createElement('span');
    this.span.textContent = "\u2713";
    this.span.classList.add(html_classes_js_1.HtmlClasses['MENUCHECK']);
  };

  Checkbox.prototype.updateAria = function () {
    this.html.setAttribute('aria-checked', this.variable.getValue() ? 'true' : 'false');
  };

  Checkbox.prototype.updateSpan = function () {
    this.span.style.display = this.variable.getValue() ? '' : 'none';
  };

  Checkbox.prototype.toJson = function () {
    return {
      type: ''
    };
  };

  return Checkbox;
}(abstract_variable_item_js_1.AbstractVariableItem);

exports.Checkbox = Checkbox;

/***/ }),

/***/ "./js/item_combo.js":
/*!**************************!*\
  !*** ./js/item_combo.js ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var __extends = this && this.__extends || function () {
  var _extendStatics = function extendStatics(d, b) {
    _extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) {
        if (b.hasOwnProperty(p)) d[p] = b[p];
      }
    };

    return _extendStatics(d, b);
  };

  return function (d, b) {
    _extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Combo = void 0;

var abstract_variable_item_js_1 = __webpack_require__(/*! ./abstract_variable_item.js */ "./js/abstract_variable_item.js");

var menu_util_js_1 = __webpack_require__(/*! ./menu_util.js */ "./js/menu_util.js");

var html_classes_js_1 = __webpack_require__(/*! ./html_classes.js */ "./js/html_classes.js");

var key_navigatable_js_1 = __webpack_require__(/*! ./key_navigatable.js */ "./js/key_navigatable.js");

var Combo = function (_super) {
  __extends(Combo, _super);

  function Combo(menu, content, variable, id) {
    var _this = _super.call(this, menu, 'combobox', content, id) || this;

    _this.role = 'combobox';
    _this.inputEvent = false;
    _this.variable = menu.pool.lookup(variable);

    _this.register();

    return _this;
  }

  Combo.fromJson = function (_factory, _a, menu) {
    var content = _a.content,
        variable = _a.variable,
        id = _a.id;
    return new this(menu, content, variable, id);
  };

  Combo.prototype.executeAction = function () {
    this.variable.setValue(this.input.value, menu_util_js_1.MenuUtil.getActiveElement(this));
  };

  Combo.prototype.space = function (event) {
    _super.prototype.space.call(this, event);

    menu_util_js_1.MenuUtil.close(this);
  };

  Combo.prototype.focus = function () {
    _super.prototype.focus.call(this);

    this.input.focus();
  };

  Combo.prototype.unfocus = function () {
    _super.prototype.unfocus.call(this);

    this.updateSpan();
  };

  Combo.prototype.generateHtml = function () {
    _super.prototype.generateHtml.call(this);

    var html = this.html;
    html.classList.add(html_classes_js_1.HtmlClasses['MENUCOMBOBOX']);
  };

  Combo.prototype.generateSpan = function () {
    this.span = document.createElement('span');
    this.span.classList.add(html_classes_js_1.HtmlClasses['MENUINPUTBOX']);
    this.input = document.createElement('input');
    this.input.addEventListener('keydown', this.inputKey.bind(this));
    this.input.setAttribute('size', '10em');
    this.input.setAttribute('type', 'text');
    this.input.setAttribute('tabindex', '-1');
    this.span.appendChild(this.input);
  };

  Combo.prototype.inputKey = function (_event) {
    this.bubbleKey();
    this.inputEvent = true;
  };

  Combo.prototype.keydown = function (event) {
    if (this.inputEvent && event.keyCode !== key_navigatable_js_1.KEY.ESCAPE && event.keyCode !== key_navigatable_js_1.KEY.RETURN) {
      this.inputEvent = false;
      event.stopPropagation();
      return;
    }

    _super.prototype.keydown.call(this, event);

    event.stopPropagation();
  };

  Combo.prototype.updateAria = function () {};

  Combo.prototype.updateSpan = function () {
    var initValue;

    try {
      initValue = this.variable.getValue(menu_util_js_1.MenuUtil.getActiveElement(this));
    } catch (e) {
      initValue = '';
    }

    this.input.value = initValue;
  };

  Combo.prototype.toJson = function () {
    return {
      type: ''
    };
  };

  return Combo;
}(abstract_variable_item_js_1.AbstractVariableItem);

exports.Combo = Combo;

/***/ }),

/***/ "./js/item_command.js":
/*!****************************!*\
  !*** ./js/item_command.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var __extends = this && this.__extends || function () {
  var _extendStatics = function extendStatics(d, b) {
    _extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) {
        if (b.hasOwnProperty(p)) d[p] = b[p];
      }
    };

    return _extendStatics(d, b);
  };

  return function (d, b) {
    _extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Command = void 0;

var abstract_item_js_1 = __webpack_require__(/*! ./abstract_item.js */ "./js/abstract_item.js");

var menu_util_js_1 = __webpack_require__(/*! ./menu_util.js */ "./js/menu_util.js");

var Command = function (_super) {
  __extends(Command, _super);

  function Command(menu, content, command, id) {
    var _this = _super.call(this, menu, 'command', content, id) || this;

    _this.command = command;
    return _this;
  }

  Command.fromJson = function (_factory, _a, menu) {
    var content = _a.content,
        action = _a.action,
        id = _a.id;
    return new this(menu, content, action, id);
  };

  Command.prototype.executeAction = function () {
    try {
      this.command(menu_util_js_1.MenuUtil.getActiveElement(this));
    } catch (e) {
      menu_util_js_1.MenuUtil.error(e, 'Illegal command callback.');
    }

    menu_util_js_1.MenuUtil.close(this);
  };

  Command.prototype.toJson = function () {
    return {
      type: ''
    };
  };

  return Command;
}(abstract_item_js_1.AbstractItem);

exports.Command = Command;

/***/ }),

/***/ "./js/item_label.js":
/*!**************************!*\
  !*** ./js/item_label.js ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var __extends = this && this.__extends || function () {
  var _extendStatics = function extendStatics(d, b) {
    _extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) {
        if (b.hasOwnProperty(p)) d[p] = b[p];
      }
    };

    return _extendStatics(d, b);
  };

  return function (d, b) {
    _extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Label = void 0;

var abstract_item_js_1 = __webpack_require__(/*! ./abstract_item.js */ "./js/abstract_item.js");

var html_classes_js_1 = __webpack_require__(/*! ./html_classes.js */ "./js/html_classes.js");

var Label = function (_super) {
  __extends(Label, _super);

  function Label(menu, content, id) {
    return _super.call(this, menu, 'label', content, id) || this;
  }

  Label.fromJson = function (_factory, _a, menu) {
    var content = _a.content,
        id = _a.id;
    return new this(menu, content, id);
  };

  Label.prototype.generateHtml = function () {
    _super.prototype.generateHtml.call(this);

    var html = this.html;
    html.classList.add(html_classes_js_1.HtmlClasses['MENULABEL']);
  };

  Label.prototype.toJson = function () {
    return {
      type: ''
    };
  };

  return Label;
}(abstract_item_js_1.AbstractItem);

exports.Label = Label;

/***/ }),

/***/ "./js/item_radio.js":
/*!**************************!*\
  !*** ./js/item_radio.js ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var __extends = this && this.__extends || function () {
  var _extendStatics = function extendStatics(d, b) {
    _extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) {
        if (b.hasOwnProperty(p)) d[p] = b[p];
      }
    };

    return _extendStatics(d, b);
  };

  return function (d, b) {
    _extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Radio = void 0;

var abstract_variable_item_js_1 = __webpack_require__(/*! ./abstract_variable_item.js */ "./js/abstract_variable_item.js");

var menu_util_js_1 = __webpack_require__(/*! ./menu_util.js */ "./js/menu_util.js");

var html_classes_js_1 = __webpack_require__(/*! ./html_classes.js */ "./js/html_classes.js");

var Radio = function (_super) {
  __extends(Radio, _super);

  function Radio(menu, content, variable, id) {
    var _this = _super.call(this, menu, 'radio', content, id) || this;

    _this.role = 'menuitemradio';
    _this.variable = menu.pool.lookup(variable);

    _this.register();

    return _this;
  }

  Radio.fromJson = function (_factory, _a, menu) {
    var content = _a.content,
        variable = _a.variable,
        id = _a.id;
    return new this(menu, content, variable, id);
  };

  Radio.prototype.executeAction = function () {
    this.variable.setValue(this.id);
    menu_util_js_1.MenuUtil.close(this);
  };

  Radio.prototype.generateSpan = function () {
    this.span = document.createElement('span');
    this.span.textContent = "\u2713";
    this.span.classList.add(html_classes_js_1.HtmlClasses['MENURADIOCHECK']);
  };

  Radio.prototype.updateAria = function () {
    this.html.setAttribute('aria-checked', this.variable.getValue() === this.id ? 'true' : 'false');
  };

  Radio.prototype.updateSpan = function () {
    this.span.style.display = this.variable.getValue() === this.id ? '' : 'none';
  };

  Radio.prototype.toJson = function () {
    return {
      type: ''
    };
  };

  return Radio;
}(abstract_variable_item_js_1.AbstractVariableItem);

exports.Radio = Radio;

/***/ }),

/***/ "./js/item_rule.js":
/*!*************************!*\
  !*** ./js/item_rule.js ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var __extends = this && this.__extends || function () {
  var _extendStatics = function extendStatics(d, b) {
    _extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) {
        if (b.hasOwnProperty(p)) d[p] = b[p];
      }
    };

    return _extendStatics(d, b);
  };

  return function (d, b) {
    _extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Rule = void 0;

var abstract_entry_js_1 = __webpack_require__(/*! ./abstract_entry.js */ "./js/abstract_entry.js");

var html_classes_js_1 = __webpack_require__(/*! ./html_classes.js */ "./js/html_classes.js");

var Rule = function (_super) {
  __extends(Rule, _super);

  function Rule(menu) {
    var _this = _super.call(this, menu, 'rule') || this;

    _this.className = html_classes_js_1.HtmlClasses['MENUITEM'];
    _this.role = 'separator';
    return _this;
  }

  Rule.fromJson = function (_factory, _a, menu) {
    return new this(menu);
  };

  Rule.prototype.generateHtml = function () {
    _super.prototype.generateHtml.call(this);

    var html = this.html;
    html.classList.add(html_classes_js_1.HtmlClasses['MENURULE']);
    html.setAttribute('aria-orientation', 'vertical');
  };

  Rule.prototype.addEvents = function (_element) {};

  Rule.prototype.toJson = function () {
    return {
      type: 'rule'
    };
  };

  return Rule;
}(abstract_entry_js_1.AbstractEntry);

exports.Rule = Rule;

/***/ }),

/***/ "./js/item_slider.js":
/*!***************************!*\
  !*** ./js/item_slider.js ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var __extends = this && this.__extends || function () {
  var _extendStatics = function extendStatics(d, b) {
    _extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) {
        if (b.hasOwnProperty(p)) d[p] = b[p];
      }
    };

    return _extendStatics(d, b);
  };

  return function (d, b) {
    _extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Slider = void 0;

var abstract_variable_item_js_1 = __webpack_require__(/*! ./abstract_variable_item.js */ "./js/abstract_variable_item.js");

var menu_util_js_1 = __webpack_require__(/*! ./menu_util.js */ "./js/menu_util.js");

var html_classes_js_1 = __webpack_require__(/*! ./html_classes.js */ "./js/html_classes.js");

var key_navigatable_js_1 = __webpack_require__(/*! ./key_navigatable.js */ "./js/key_navigatable.js");

var Slider = function (_super) {
  __extends(Slider, _super);

  function Slider(menu, content, variable, id) {
    var _this = _super.call(this, menu, 'slider', content, id) || this;

    _this.role = 'slider';
    _this.labelId = 'ctx_slideLabel' + menu_util_js_1.MenuUtil.counter();
    _this.valueId = 'ctx_slideValue' + menu_util_js_1.MenuUtil.counter();
    _this.inputEvent = false;
    _this.variable = menu.pool.lookup(variable);

    _this.register();

    return _this;
  }

  Slider.fromJson = function (_factory, _a, menu) {
    var content = _a.content,
        variable = _a.variable,
        id = _a.id;
    return new this(menu, content, variable, id);
  };

  Slider.prototype.executeAction = function () {
    this.variable.setValue(this.input.value, menu_util_js_1.MenuUtil.getActiveElement(this));
    this.update();
  };

  Slider.prototype.space = function (event) {
    _super.prototype.space.call(this, event);

    menu_util_js_1.MenuUtil.close(this);
  };

  Slider.prototype.focus = function () {
    _super.prototype.focus.call(this);

    this.input.focus();
  };

  Slider.prototype.unfocus = function () {
    _super.prototype.unfocus.call(this);

    this.updateSpan();
  };

  Slider.prototype.generateHtml = function () {
    _super.prototype.generateHtml.call(this);

    var html = this.html;
    html.classList.add(html_classes_js_1.HtmlClasses['MENUSLIDER']);
    this.valueSpan = document.createElement('span');
    this.valueSpan.setAttribute('id', this.valueId);
    this.valueSpan.classList.add(html_classes_js_1.HtmlClasses['SLIDERVALUE']);
    this.html.appendChild(this.valueSpan);
  };

  Slider.prototype.generateSpan = function () {
    this.span = document.createElement('span');
    this.labelSpan = document.createElement('span');
    this.labelSpan.setAttribute('id', this.labelId);
    this.labelSpan.appendChild(this.html.childNodes[0]);
    this.html.appendChild(this.labelSpan);
    this.input = document.createElement('input');
    this.input.setAttribute('type', 'range');
    this.input.setAttribute('min', '0');
    this.input.setAttribute('max', '100');
    this.input.setAttribute('aria-valuemin', '0');
    this.input.setAttribute('aria-valuemax', '100');
    this.input.setAttribute('aria-labelledby', this.labelId);
    this.input.addEventListener('keydown', this.inputKey.bind(this));
    this.input.addEventListener('input', this.executeAction.bind(this));
    this.input.classList.add(html_classes_js_1.HtmlClasses['SLIDERBAR']);
    this.span.appendChild(this.input);
  };

  Slider.prototype.inputKey = function (_event) {
    this.inputEvent = true;
  };

  Slider.prototype.mousedown = function (event) {
    event.stopPropagation();
  };

  Slider.prototype.mouseup = function (_event) {
    event.stopPropagation();
  };

  Slider.prototype.keydown = function (event) {
    var code = event.keyCode;

    if (code === key_navigatable_js_1.KEY.UP || code === key_navigatable_js_1.KEY.DOWN) {
      event.preventDefault();

      _super.prototype.keydown.call(this, event);

      return;
    }

    if (this.inputEvent && code !== key_navigatable_js_1.KEY.ESCAPE && code !== key_navigatable_js_1.KEY.RETURN) {
      this.inputEvent = false;
      event.stopPropagation();
      return;
    }

    _super.prototype.keydown.call(this, event);

    event.stopPropagation();
  };

  Slider.prototype.updateAria = function () {
    var value = this.variable.getValue();

    if (value && this.input) {
      this.input.setAttribute('aria-valuenow', value);
      this.input.setAttribute('aria-valuetext', value + '%');
    }
  };

  Slider.prototype.updateSpan = function () {
    var initValue;

    try {
      initValue = this.variable.getValue(menu_util_js_1.MenuUtil.getActiveElement(this));
      this.valueSpan.innerHTML = initValue + '%';
    } catch (e) {
      initValue = '';
    }

    this.input.value = initValue;
  };

  Slider.prototype.toJson = function () {
    return {
      type: ''
    };
  };

  return Slider;
}(abstract_variable_item_js_1.AbstractVariableItem);

exports.Slider = Slider;

/***/ }),

/***/ "./js/item_submenu.js":
/*!****************************!*\
  !*** ./js/item_submenu.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var __extends = this && this.__extends || function () {
  var _extendStatics = function extendStatics(d, b) {
    _extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) {
        if (b.hasOwnProperty(p)) d[p] = b[p];
      }
    };

    return _extendStatics(d, b);
  };

  return function (d, b) {
    _extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Submenu = void 0;

var abstract_item_js_1 = __webpack_require__(/*! ./abstract_item.js */ "./js/abstract_item.js");

var html_classes_js_1 = __webpack_require__(/*! ./html_classes.js */ "./js/html_classes.js");

var Submenu = function (_super) {
  __extends(Submenu, _super);

  function Submenu(menu, content, id) {
    var _this = _super.call(this, menu, 'submenu', content, id) || this;

    _this._submenu = null;
    return _this;
  }

  Submenu.fromJson = function (factory, _a, menu) {
    var content = _a.content,
        submenu = _a.menu,
        id = _a.id;
    var item = new this(menu, content, id);
    var sm = factory.get('subMenu')(factory, submenu, item);
    item.submenu = sm;
    return item;
  };

  Object.defineProperty(Submenu.prototype, "submenu", {
    get: function get() {
      return this._submenu;
    },
    set: function set(menu) {
      this._submenu = menu;
    },
    enumerable: false,
    configurable: true
  });

  Submenu.prototype.mouseover = function (event) {
    this.focus();
    this.stop(event);
  };

  Submenu.prototype.mouseout = function (event) {
    this.stop(event);
  };

  Submenu.prototype.unfocus = function () {
    if (!this.submenu.isPosted()) {
      _super.prototype.unfocus.call(this);

      return;
    }

    if (this.menu.focused !== this) {
      _super.prototype.unfocus.call(this);

      this.menu.unpostSubmenus();
      return;
    }

    this.html.setAttribute('tabindex', '-1');
    this.html.blur();
  };

  Submenu.prototype.focus = function () {
    _super.prototype.focus.call(this);

    if (!this.submenu.isPosted() && !this.disabled) {
      this.submenu.post();
    }
  };

  Submenu.prototype.executeAction = function () {
    this.submenu.isPosted() ? this.submenu.unpost() : this.submenu.post();
  };

  Submenu.prototype.generateHtml = function () {
    _super.prototype.generateHtml.call(this);

    var html = this.html;
    this.span = document.createElement('span');
    this.span.textContent = "\u25BA";
    this.span.classList.add(html_classes_js_1.HtmlClasses['MENUARROW']);
    html.appendChild(this.span);
    html.setAttribute('aria-haspopup', 'true');
  };

  Submenu.prototype.left = function (event) {
    if (this.submenu.isPosted()) {
      this.submenu.unpost();
    } else {
      _super.prototype.left.call(this, event);
    }
  };

  Submenu.prototype.right = function (event) {
    if (!this.submenu.isPosted()) {
      this.submenu.post();
    } else {
      this.submenu.down(event);
    }
  };

  Submenu.prototype.toJson = function () {
    return {
      type: ''
    };
  };

  return Submenu;
}(abstract_item_js_1.AbstractItem);

exports.Submenu = Submenu;

/***/ }),

/***/ "./js/key_navigatable.js":
/*!*******************************!*\
  !*** ./js/key_navigatable.js ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.KEY = void 0;
var KEY;

(function (KEY) {
  KEY[KEY["RETURN"] = 13] = "RETURN";
  KEY[KEY["ESCAPE"] = 27] = "ESCAPE";
  KEY[KEY["SPACE"] = 32] = "SPACE";
  KEY[KEY["LEFT"] = 37] = "LEFT";
  KEY[KEY["UP"] = 38] = "UP";
  KEY[KEY["RIGHT"] = 39] = "RIGHT";
  KEY[KEY["DOWN"] = 40] = "DOWN";
})(KEY = exports.KEY || (exports.KEY = {}));

/***/ }),

/***/ "./js/menu_element.js":
/*!****************************!*\
  !*** ./js/menu_element.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var __extends = this && this.__extends || function () {
  var _extendStatics = function extendStatics(d, b) {
    _extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) {
        if (b.hasOwnProperty(p)) d[p] = b[p];
      }
    };

    return _extendStatics(d, b);
  };

  return function (d, b) {
    _extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.MenuElement = void 0;

var abstract_navigatable_js_1 = __webpack_require__(/*! ./abstract_navigatable.js */ "./js/abstract_navigatable.js");

var MenuElement = function (_super) {
  __extends(MenuElement, _super);

  function MenuElement() {
    return _super !== null && _super.apply(this, arguments) || this;
  }

  MenuElement.prototype.addAttributes = function (attributes) {
    for (var attr in attributes) {
      this.html.setAttribute(attr, attributes[attr]);
    }
  };

  Object.defineProperty(MenuElement.prototype, "html", {
    get: function get() {
      if (!this._html) {
        this.generateHtml();
      }

      return this._html;
    },
    set: function set(html) {
      this._html = html;
      this.addEvents(html);
    },
    enumerable: false,
    configurable: true
  });

  MenuElement.prototype.generateHtml = function () {
    var html = document.createElement('div');
    html.classList.add(this.className);
    html.setAttribute('role', this.role);
    this.html = html;
  };

  MenuElement.prototype.focus = function () {
    var html = this.html;
    html.setAttribute('tabindex', '0');
    html.focus();
  };

  MenuElement.prototype.unfocus = function () {
    var html = this.html;

    if (html.hasAttribute('tabindex')) {
      html.setAttribute('tabindex', '-1');
    }

    try {
      html.blur();
    } catch (e) {}

    html.blur();
  };

  return MenuElement;
}(abstract_navigatable_js_1.AbstractNavigatable);

exports.MenuElement = MenuElement;

/***/ }),

/***/ "./js/menu_store.js":
/*!**************************!*\
  !*** ./js/menu_store.js ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var __values = this && this.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function next() {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.MenuStore = void 0;

var menu_util_js_1 = __webpack_require__(/*! ./menu_util.js */ "./js/menu_util.js");

var html_classes_js_1 = __webpack_require__(/*! ./html_classes.js */ "./js/html_classes.js");

var key_navigatable_js_1 = __webpack_require__(/*! ./key_navigatable.js */ "./js/key_navigatable.js");

var MenuStore = function () {
  function MenuStore(menu) {
    this.menu = menu;
    this.store = [];
    this._active = null;
    this.counter = 0;
    this.attachedClass = html_classes_js_1.HtmlClasses['ATTACHED'] + '_' + menu_util_js_1.MenuUtil.counter();
    this.taborder = true;
    this.attrMap = {};
  }

  Object.defineProperty(MenuStore.prototype, "active", {
    get: function get() {
      return this._active;
    },
    set: function set(element) {
      do {
        if (this.store.indexOf(element) !== -1) {
          this._active = element;
          break;
        }

        element = element.parentNode;
      } while (element);
    },
    enumerable: false,
    configurable: true
  });

  MenuStore.prototype.next = function () {
    var length = this.store.length;

    if (length === 0) {
      this.active = null;
      return null;
    }

    var index = this.store.indexOf(this.active);
    index = index === -1 ? 0 : index < length - 1 ? index + 1 : 0;
    this.active = this.store[index];
    return this.active;
  };

  MenuStore.prototype.previous = function () {
    var length = this.store.length;

    if (length === 0) {
      this.active = null;
      return null;
    }

    var last = length - 1;
    var index = this.store.indexOf(this.active);
    index = index === -1 ? last : index === 0 ? last : index - 1;
    this.active = this.store[index];
    return this.active;
  };

  MenuStore.prototype.clear = function () {
    this.remove(this.store);
  };

  MenuStore.prototype.insert = function (elementOrList) {
    var e_1, _a;

    var elements = elementOrList instanceof HTMLElement ? [elementOrList] : elementOrList;

    try {
      for (var elements_1 = __values(elements), elements_1_1 = elements_1.next(); !elements_1_1.done; elements_1_1 = elements_1.next()) {
        var element = elements_1_1.value;
        this.insertElement(element);
      }
    } catch (e_1_1) {
      e_1 = {
        error: e_1_1
      };
    } finally {
      try {
        if (elements_1_1 && !elements_1_1.done && (_a = elements_1["return"])) _a.call(elements_1);
      } finally {
        if (e_1) throw e_1.error;
      }
    }

    this.sort();
  };

  MenuStore.prototype.remove = function (elementOrList) {
    var e_2, _a;

    var elements = elementOrList instanceof HTMLElement ? [elementOrList] : elementOrList;

    try {
      for (var elements_2 = __values(elements), elements_2_1 = elements_2.next(); !elements_2_1.done; elements_2_1 = elements_2.next()) {
        var element = elements_2_1.value;
        this.removeElement(element);
      }
    } catch (e_2_1) {
      e_2 = {
        error: e_2_1
      };
    } finally {
      try {
        if (elements_2_1 && !elements_2_1.done && (_a = elements_2["return"])) _a.call(elements_2);
      } finally {
        if (e_2) throw e_2.error;
      }
    }

    this.sort();
  };

  MenuStore.prototype.inTaborder = function (flag) {
    if (this.taborder && !flag) {
      this.removeTaborder();
    }

    if (!this.taborder && flag) {
      this.insertTaborder();
    }

    this.taborder = flag;
  };

  MenuStore.prototype.insertTaborder = function () {
    if (this.taborder) {
      this.insertTaborder_();
    }
  };

  MenuStore.prototype.removeTaborder = function () {
    if (this.taborder) {
      this.removeTaborder_();
    }
  };

  MenuStore.prototype.insertElement = function (element) {
    if (element.classList.contains(this.attachedClass)) {
      return;
    }

    element.classList.add(this.attachedClass);

    if (this.taborder) {
      this.addTabindex(element);
    }

    this.addEvents(element);
  };

  MenuStore.prototype.removeElement = function (element) {
    if (!element.classList.contains(this.attachedClass)) {
      return;
    }

    element.classList.remove(this.attachedClass);

    if (this.taborder) {
      this.removeTabindex(element);
    }

    this.removeEvents(element);
  };

  MenuStore.prototype.sort = function () {
    var nodes = document.getElementsByClassName(this.attachedClass);
    this.store = [].slice.call(nodes);
  };

  MenuStore.prototype.insertTaborder_ = function () {
    this.store.forEach(function (x) {
      return x.setAttribute('tabindex', '0');
    });
  };

  MenuStore.prototype.removeTaborder_ = function () {
    this.store.forEach(function (x) {
      return x.setAttribute('tabindex', '-1');
    });
  };

  MenuStore.prototype.addTabindex = function (element) {
    if (element.hasAttribute('tabindex')) {
      element.setAttribute(html_classes_js_1.HtmlAttrs['OLDTAB'], element.getAttribute('tabindex'));
    }

    element.setAttribute('tabindex', '0');
  };

  MenuStore.prototype.removeTabindex = function (element) {
    if (element.hasAttribute(html_classes_js_1.HtmlAttrs['OLDTAB'])) {
      element.setAttribute('tabindex', element.getAttribute(html_classes_js_1.HtmlAttrs['OLDTAB']));
      element.removeAttribute(html_classes_js_1.HtmlAttrs['OLDTAB']);
    } else {
      element.removeAttribute('tabindex');
    }
  };

  MenuStore.prototype.addEvents = function (element) {
    if (element.hasAttribute(html_classes_js_1.HtmlAttrs['COUNTER'])) {
      return;
    }

    this.addEvent(element, 'contextmenu', this.menu.post.bind(this.menu));
    this.addEvent(element, 'keydown', this.keydown.bind(this));
    element.setAttribute(html_classes_js_1.HtmlAttrs['COUNTER'], this.counter.toString());
    this.counter++;
  };

  MenuStore.prototype.addEvent = function (element, name, func) {
    var attrName = html_classes_js_1.HtmlAttrs[name.toUpperCase() + 'FUNC'];
    this.attrMap[attrName + this.counter] = func;
    element.addEventListener(name, func);
  };

  MenuStore.prototype.removeEvents = function (element) {
    if (!element.hasAttribute(html_classes_js_1.HtmlAttrs['COUNTER'])) {
      return;
    }

    var counter = element.getAttribute(html_classes_js_1.HtmlAttrs['COUNTER']);
    this.removeEvent(element, 'contextmenu', counter);
    this.removeEvent(element, 'keydown', counter);
    element.removeAttribute(html_classes_js_1.HtmlAttrs['COUNTER']);
  };

  MenuStore.prototype.removeEvent = function (element, name, counter) {
    var attrName = html_classes_js_1.HtmlAttrs[name.toUpperCase() + 'FUNC'];
    var menuFunc = this.attrMap[attrName + counter];
    element.removeEventListener(name, menuFunc);
  };

  MenuStore.prototype.keydown = function (event) {
    if (event.keyCode === key_navigatable_js_1.KEY.SPACE) {
      this.menu.post(event);
      event.preventDefault();
      event.stopImmediatePropagation();
    }
  };

  return MenuStore;
}();

exports.MenuStore = MenuStore;

/***/ }),

/***/ "./js/menu_util.js":
/*!*************************!*\
  !*** ./js/menu_util.js ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.MenuUtil = void 0;
var MenuUtil;

(function (MenuUtil) {
  function close(item) {
    var menu = item.menu;

    if (menu.baseMenu) {
      menu.baseMenu.unpost();
    } else {
      menu.unpost();
    }
  }

  MenuUtil.close = close;

  function getActiveElement(item) {
    var menu = item.menu;
    var baseMenu = menu.baseMenu ? menu.baseMenu : menu;
    return baseMenu.store.active;
  }

  MenuUtil.getActiveElement = getActiveElement;

  function error(_error, msg) {
    console.error('ContextMenu Error: ' + msg);
  }

  MenuUtil.error = error;

  function counter() {
    return count++;
  }

  MenuUtil.counter = counter;
  var count = 0;
})(MenuUtil = exports.MenuUtil || (exports.MenuUtil = {}));

/***/ }),

/***/ "./js/mouse_navigatable.js":
/*!*********************************!*\
  !*** ./js/mouse_navigatable.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.MOUSE = void 0;
exports.MOUSE = {
  CLICK: 'click',
  DBLCLICK: 'dblclick',
  DOWN: 'mousedown',
  UP: 'mouseup',
  OVER: 'mouseover',
  OUT: 'mouseout',
  MOVE: 'mousemove',
  SELECTEND: 'selectend',
  SELECTSTART: 'selectstart'
};

/***/ }),

/***/ "./js/parse.js":
/*!*********************!*\
  !*** ./js/parse.js ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var __rest = this && this.__rest || function (s, e) {
  var t = {};

  for (var p in s) {
    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];
  }

  if (s != null && typeof Object.getOwnPropertySymbols === "function") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];
  }
  return t;
};

var __read = this && this.__read || function (o, n) {
  var m = typeof Symbol === "function" && o[Symbol.iterator];
  if (!m) return o;
  var i = m.call(o),
      r,
      ar = [],
      e;

  try {
    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {
      ar.push(r.value);
    }
  } catch (error) {
    e = {
      error: error
    };
  } finally {
    try {
      if (r && !r.done && (m = i["return"])) m.call(i);
    } finally {
      if (e) throw e.error;
    }
  }

  return ar;
};

var __values = this && this.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function next() {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};

var __spread = this && this.__spread || function () {
  for (var ar = [], i = 0; i < arguments.length; i++) {
    ar = ar.concat(__read(arguments[i]));
  }

  return ar;
};

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Parser = void 0;

var item_command_js_1 = __webpack_require__(/*! ./item_command.js */ "./js/item_command.js");

var context_menu_js_1 = __webpack_require__(/*! ./context_menu.js */ "./js/context_menu.js");

var variable_js_1 = __webpack_require__(/*! ./variable.js */ "./js/variable.js");

var item_checkbox_js_1 = __webpack_require__(/*! ./item_checkbox.js */ "./js/item_checkbox.js");

var item_combo_js_1 = __webpack_require__(/*! ./item_combo.js */ "./js/item_combo.js");

var item_label_js_1 = __webpack_require__(/*! ./item_label.js */ "./js/item_label.js");

var item_radio_js_1 = __webpack_require__(/*! ./item_radio.js */ "./js/item_radio.js");

var item_submenu_js_1 = __webpack_require__(/*! ./item_submenu.js */ "./js/item_submenu.js");

var item_rule_js_1 = __webpack_require__(/*! ./item_rule.js */ "./js/item_rule.js");

var item_slider_js_1 = __webpack_require__(/*! ./item_slider.js */ "./js/item_slider.js");

var sub_menu_js_1 = __webpack_require__(/*! ./sub_menu.js */ "./js/sub_menu.js");

var selection_box_js_1 = __webpack_require__(/*! ./selection_box.js */ "./js/selection_box.js");

var parser_factory_js_1 = __webpack_require__(/*! ./parser_factory.js */ "./js/parser_factory.js");

var Parser = function () {
  function Parser(init) {
    var _this = this;

    if (init === void 0) {
      init = [];
    }

    this._initList = [['command', item_command_js_1.Command.fromJson.bind(item_command_js_1.Command)], ['checkbox', item_checkbox_js_1.Checkbox.fromJson.bind(item_checkbox_js_1.Checkbox)], ['combo', item_combo_js_1.Combo.fromJson.bind(item_combo_js_1.Combo)], ['slider', item_slider_js_1.Slider.fromJson.bind(item_slider_js_1.Slider)], ['label', item_label_js_1.Label.fromJson.bind(item_label_js_1.Label)], ['radio', item_radio_js_1.Radio.fromJson.bind(item_radio_js_1.Radio)], ['rule', item_rule_js_1.Rule.fromJson.bind(item_rule_js_1.Rule)], ['submenu', item_submenu_js_1.Submenu.fromJson.bind(item_submenu_js_1.Submenu)], ['contextMenu', context_menu_js_1.ContextMenu.fromJson.bind(context_menu_js_1.ContextMenu)], ['subMenu', sub_menu_js_1.SubMenu.fromJson.bind(sub_menu_js_1.SubMenu)], ['variable', variable_js_1.Variable.fromJson.bind(variable_js_1.Variable)], ['items', this.items.bind(this)], ['selectionMenu', selection_box_js_1.SelectionMenu.fromJson.bind(selection_box_js_1.SelectionMenu)], ['selectionBox', selection_box_js_1.SelectionBox.fromJson.bind(selection_box_js_1.SelectionBox)]];
    this._factory = new parser_factory_js_1.ParserFactory(this._initList);
    init.forEach(function (_a) {
      var _b = __read(_a, 2),
          x = _b[0],
          y = _b[1];

      return _this.factory.add(x, y);
    });
  }

  Object.defineProperty(Parser.prototype, "factory", {
    get: function get() {
      return this._factory;
    },
    enumerable: false,
    configurable: true
  });

  Parser.prototype.items = function (_factory, its, ctxt) {
    var e_1, _a;

    var hidden = [];

    try {
      for (var its_1 = __values(its), its_1_1 = its_1.next(); !its_1_1.done; its_1_1 = its_1.next()) {
        var item = its_1_1.value;
        var entry = this.parse(item, ctxt);

        if (!entry) {
          continue;
        }

        ctxt.items.push(entry);

        if (item.disabled) {
          entry.disable();
        }

        if (item.hidden) {
          hidden.push(entry);
        }
      }
    } catch (e_1_1) {
      e_1 = {
        error: e_1_1
      };
    } finally {
      try {
        if (its_1_1 && !its_1_1.done && (_a = its_1["return"])) _a.call(its_1);
      } finally {
        if (e_1) throw e_1.error;
      }
    }

    hidden.forEach(function (x) {
      return x.hide();
    });
    return ctxt.items;
  };

  Parser.prototype.parse = function (_a) {
    var rest = [];

    for (var _i = 1; _i < arguments.length; _i++) {
      rest[_i - 1] = arguments[_i];
    }

    var kind = _a.type,
        json = __rest(_a, ["type"]);

    var func = this.factory.get(kind);
    return func ? func.apply(void 0, __spread([this.factory, json], rest)) : null;
  };

  return Parser;
}();

exports.Parser = Parser;

/***/ }),

/***/ "./js/parser_factory.js":
/*!******************************!*\
  !*** ./js/parser_factory.js ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ParserFactory = void 0;

var ParserFactory = function () {
  function ParserFactory(init) {
    this._parser = new Map(init);
  }

  ParserFactory.prototype.get = function (name) {
    return this._parser.get(name);
  };

  ParserFactory.prototype.add = function (name, method) {
    this._parser.set(name, method);
  };

  return ParserFactory;
}();

exports.ParserFactory = ParserFactory;

/***/ }),

/***/ "./js/popup.js":
/*!*********************!*\
  !*** ./js/popup.js ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var __extends = this && this.__extends || function () {
  var _extendStatics = function extendStatics(d, b) {
    _extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) {
        if (b.hasOwnProperty(p)) d[p] = b[p];
      }
    };

    return _extendStatics(d, b);
  };

  return function (d, b) {
    _extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Popup = void 0;

var abstract_postable_js_1 = __webpack_require__(/*! ./abstract_postable.js */ "./js/abstract_postable.js");

var Popup = function (_super) {
  __extends(Popup, _super);

  function Popup(title, content) {
    var _this = _super.call(this) || this;

    _this.title = title;
    _this.window = null;
    _this.localSettings = {
      left: Math.round((screen.width - 400) / 2),
      top: Math.round((screen.height - 300) / 3)
    };
    _this.windowList = [];
    _this.mobileFlag = false;
    _this.active = null;

    _this.content = content || function () {
      return '';
    };

    return _this;
  }

  Popup.fromJson = function () {};

  Popup.prototype.attachMenu = function (menu) {
    this.menu = menu;
  };

  Popup.prototype.post = function () {
    this.display();
  };

  Popup.prototype.display = function () {
    this.active = this.menu.store.active;
    var settings = [];

    for (var setting in Popup.popupSettings) {
      settings.push(setting + '=' + Popup.popupSettings[setting]);
    }

    for (var setting in this.localSettings) {
      settings.push(setting + '=' + this.localSettings[setting]);
    }

    this.window = window.open('', '_blank', settings.join(','));
    this.windowList.push(this.window);
    var doc = this.window.document;

    if (this.mobileFlag) {
      doc.open();
      doc.write('<html><head><meta name="viewport" ' + 'content="width=device-width, initial-scale=1.0" /><title>' + this.title + '</title></head><body style="font-size:85%">');
      doc.write('<pre>' + this.generateContent() + '</pre>');
      doc.write('<hr><input type="button" value="' + 'Close' + '" onclick="window.close()" />');
      doc.write('</body></html>');
      doc.close();
    } else {
      doc.open();
      doc.write('<html><head><title>' + this.title + '</title></head><body style="font-size:85%">');
      doc.write('<table><tr><td><pre>' + this.generateContent() + '</pre></td></tr></table>');
      doc.write('</body></html>');
      doc.close();
      setTimeout(this.resize.bind(this), 50);
    }
  };

  Popup.prototype.unpost = function () {
    this.windowList.forEach(function (x) {
      return x.close();
    });
    this.window = null;
  };

  Popup.prototype.generateContent = function () {
    return this.content(this.active);
  };

  Popup.prototype.resize = function () {
    var table = this.window.document.body.firstChild;
    var H = this.window.outerHeight - this.window.innerHeight || 30;
    var W = this.window.outerWidth - this.window.innerWidth || 30;
    W = Math.max(140, Math.min(Math.floor(.5 * this.window.screen.width), table.offsetWidth + W + 25));
    H = Math.max(40, Math.min(Math.floor(.5 * this.window.screen.height), table.offsetHeight + H + 25));
    this.window.resizeTo(W, H);
    var bb = this.active.getBoundingClientRect();

    if (bb) {
      var x = Math.max(0, Math.min(bb.right - Math.floor(W / 2), this.window.screen.width - W - 20));
      var y = Math.max(0, Math.min(bb.bottom - Math.floor(H / 2), this.window.screen.height - H - 20));
      this.window.moveTo(x, y);
    }

    this.active = null;
  };

  Popup.prototype.toJson = function () {
    return {
      type: ''
    };
  };

  Popup.popupSettings = {
    status: 'no',
    toolbar: 'no',
    locationbar: 'no',
    menubar: 'no',
    directories: 'no',
    personalbar: 'no',
    resizable: 'yes',
    scrollbars: 'yes',
    width: 400,
    height: 300
  };
  return Popup;
}(abstract_postable_js_1.AbstractPostable);

exports.Popup = Popup;

/***/ }),

/***/ "./js/selection_box.js":
/*!*****************************!*\
  !*** ./js/selection_box.js ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var __extends = this && this.__extends || function () {
  var _extendStatics = function extendStatics(d, b) {
    _extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) {
        if (b.hasOwnProperty(p)) d[p] = b[p];
      }
    };

    return _extendStatics(d, b);
  };

  return function (d, b) {
    _extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

var __read = this && this.__read || function (o, n) {
  var m = typeof Symbol === "function" && o[Symbol.iterator];
  if (!m) return o;
  var i = m.call(o),
      r,
      ar = [],
      e;

  try {
    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {
      ar.push(r.value);
    }
  } catch (error) {
    e = {
      error: error
    };
  } finally {
    try {
      if (r && !r.done && (m = i["return"])) m.call(i);
    } finally {
      if (e) throw e.error;
    }
  }

  return ar;
};

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.SelectionBox = exports.SelectionMenu = void 0;

var menu_util_js_1 = __webpack_require__(/*! ./menu_util.js */ "./js/menu_util.js");

var html_classes_js_1 = __webpack_require__(/*! ./html_classes.js */ "./js/html_classes.js");

var abstract_menu_js_1 = __webpack_require__(/*! ./abstract_menu.js */ "./js/abstract_menu.js");

var info_js_1 = __webpack_require__(/*! ./info.js */ "./js/info.js");

var SelectionMenu = function (_super) {
  __extends(SelectionMenu, _super);

  function SelectionMenu(anchor) {
    var _this = _super.call(this) || this;

    _this.anchor = anchor;
    _this.className = html_classes_js_1.HtmlClasses['SELECTIONMENU'];
    _this.variablePool = _this.anchor.menu.pool;
    _this.baseMenu = _this.anchor.menu;
    return _this;
  }

  SelectionMenu.fromJson = function (factory, _a, sb) {
    var title = _a.title,
        values = _a.values,
        variable = _a.variable;
    var selection = new this(sb);
    var tit = factory.get('label')(factory, {
      content: title || '',
      id: title || 'id'
    }, selection);
    var rul = factory.get('rule')(factory, {}, selection);
    var radios = values.map(function (x) {
      return factory.get('radio')(factory, {
        content: x,
        variable: variable,
        id: x
      }, selection);
    });
    var items = [tit, rul].concat(radios);
    selection.items = items;
    return selection;
  };

  SelectionMenu.prototype.generateHtml = function () {
    _super.prototype.generateHtml.call(this);

    this.items.forEach(function (item) {
      return item.html.classList.add(html_classes_js_1.HtmlClasses['SELECTIONITEM']);
    });
  };

  SelectionMenu.prototype.display = function () {};

  SelectionMenu.prototype.right = function (event) {
    this.anchor.right(event);
  };

  SelectionMenu.prototype.left = function (event) {
    this.anchor.left(event);
  };

  return SelectionMenu;
}(abstract_menu_js_1.AbstractMenu);

exports.SelectionMenu = SelectionMenu;

var SelectionBox = function (_super) {
  __extends(SelectionBox, _super);

  function SelectionBox(title, signature, style, grid) {
    if (style === void 0) {
      style = "none";
    }

    if (grid === void 0) {
      grid = "vertical";
    }

    var _this = _super.call(this, title, null, signature) || this;

    _this.style = style;
    _this.grid = grid;
    _this._selections = [];
    _this.prefix = 'ctxt-selection';
    _this._balanced = true;
    return _this;
  }

  SelectionBox.fromJson = function (factory, _a, ctxt) {
    var title = _a.title,
        signature = _a.signature,
        selections = _a.selections,
        order = _a.order,
        grid = _a.grid;
    console.log(grid);
    console.log(order);
    var sb = new this(title, signature, order, grid);
    sb.attachMenu(ctxt);
    var sels = selections.map(function (x) {
      return factory.get('selectionMenu')(factory, x, sb);
    });
    sb.selections = sels;
    return sb;
  };

  SelectionBox.prototype.attachMenu = function (menu) {
    this.menu = menu;
  };

  Object.defineProperty(SelectionBox.prototype, "selections", {
    get: function get() {
      return this._selections;
    },
    set: function set(selections) {
      var _this = this;

      this._selections = [];
      selections.forEach(function (x) {
        return _this.addSelection(x);
      });
    },
    enumerable: false,
    configurable: true
  });

  SelectionBox.prototype.addSelection = function (selection) {
    selection.anchor = this;

    this._selections.push(selection);
  };

  SelectionBox.prototype.rowDiv = function (sels) {
    var _this = this;

    var div = document.createElement('div');
    this.contentDiv.appendChild(div);
    var rects = sels.map(function (sel) {
      div.appendChild(sel.html);

      if (!sel.html.id) {
        sel.html.id = _this.prefix + menu_util_js_1.MenuUtil.counter();
      }

      return sel.html.getBoundingClientRect();
    });
    var column = rects.map(function (x) {
      return x.width;
    });
    var width = column.reduce(function (x, y) {
      return x + y;
    }, 0);
    var height = rects.reduce(function (x, y) {
      return Math.max(x, y.height);
    }, 0);
    div.classList.add(html_classes_js_1.HtmlClasses['SELECTIONDIVIDER']);
    div.setAttribute('style', 'height: ' + height + 'px;');
    return [div, width, height, column];
  };

  SelectionBox.prototype.display = function () {
    _super.prototype.display.call(this);

    this.order();

    if (!this.selections.length) {
      return;
    }

    var outerDivs = [];
    var maxWidth = 0;
    var balancedColumn = [];
    var chunks = this.getChunkSize(this.selections.length);

    var _loop_1 = function _loop_1(i) {
      var sels = this_1.selections.slice(i, i + chunks);

      var _a = __read(this_1.rowDiv(sels), 4),
          div = _a[0],
          width = _a[1],
          height = _a[2],
          column = _a[3];

      outerDivs.push(div);
      maxWidth = Math.max(maxWidth, width);
      sels.forEach(function (sel) {
        return sel.html.style.height = height + 'px';
      });
      balancedColumn = this_1.combineColumn(balancedColumn, column);
    };

    var this_1 = this;

    for (var i = 0; i < this.selections.length; i += chunks) {
      _loop_1(i);
    }

    if (this._balanced) {
      this.balanceColumn(outerDivs, balancedColumn);
      maxWidth = balancedColumn.reduce(function (x, y) {
        return x + y;
      }, 20);
    }

    outerDivs.forEach(function (div) {
      return div.style.width = maxWidth + 'px';
    });
  };

  SelectionBox.prototype.getChunkSize = function (size) {
    switch (this.grid) {
      case "square":
        return Math.floor(Math.sqrt(size));

      case "horizontal":
        return size / SelectionBox.chunkSize;

      case "vertical":
      default:
        return SelectionBox.chunkSize;
    }
  };

  SelectionBox.prototype.balanceColumn = function (divs, column) {
    divs.forEach(function (div) {
      var children = Array.from(div.children);

      for (var i = 0, child = void 0; child = children[i]; i++) {
        child.style.width = column[i] + 'px';
      }
    });
  };

  SelectionBox.prototype.combineColumn = function (col1, col2) {
    var result = [];
    var i = 0;

    while (col1[i] || col2[i]) {
      if (!col1[i]) {
        result = result.concat(col2.slice(i));
        break;
      }

      if (!col2[i]) {
        result = result.concat(col1.slice(i));
        break;
      }

      result.push(Math.max(col1[i], col2[i]));
      i++;
    }

    ;
    return result;
  };

  SelectionBox.prototype.left = function (event) {
    var _this = this;

    this.move(event, function (index) {
      return (index === 0 ? _this.selections.length : index) - 1;
    });
  };

  SelectionBox.prototype.right = function (event) {
    var _this = this;

    this.move(event, function (index) {
      return index === _this.selections.length - 1 ? 0 : index + 1;
    });
  };

  SelectionBox.prototype.generateHtml = function () {
    _super.prototype.generateHtml.call(this);

    this.html.classList.add(html_classes_js_1.HtmlClasses['SELECTION']);
  };

  SelectionBox.prototype.generateContent = function () {
    var div = _super.prototype.generateContent.call(this);

    div.classList.add(html_classes_js_1.HtmlClasses['SELECTIONBOX']);
    div.removeAttribute('tabindex');
    return div;
  };

  SelectionBox.prototype.findSelection = function (event) {
    var target = event.target;
    var selection = null;

    if (target.id) {
      selection = this.selections.find(function (x) {
        return x.html.id === target.id;
      });
    }

    if (!selection) {
      var id_1 = target.parentElement.id;
      selection = this.selections.find(function (x) {
        return x.html.id === id_1;
      });
    }

    return selection;
  };

  SelectionBox.prototype.move = function (event, isNext) {
    var selection = this.findSelection(event);

    if (selection.focused) {
      selection.focused.unfocus();
    }

    var index = this.selections.indexOf(selection);
    var next = isNext(index);
    this.selections[next].focus();
  };

  SelectionBox.prototype.order = function () {
    this.selections.sort(SelectionBox.orderMethod.get(this.style));
  };

  SelectionBox.prototype.toJson = function () {
    return {
      type: ''
    };
  };

  SelectionBox.chunkSize = 4;
  SelectionBox.orderMethod = new Map([["alphabetical", function (x, y) {
    return x.items[0].content.localeCompare(y.items[0].content);
  }], ["none", function (_x, _y) {
    return 1;
  }], ["decreasing", function (x, y) {
    var xl = x.items.length;
    var yl = y.items.length;
    return xl < yl ? 1 : yl < xl ? -1 : 0;
  }], ["increasing", function (x, y) {
    var xl = x.items.length;
    var yl = y.items.length;
    return xl < yl ? -1 : yl < xl ? 1 : 0;
  }]]);
  return SelectionBox;
}(info_js_1.Info);

exports.SelectionBox = SelectionBox;

/***/ }),

/***/ "./js/sub_menu.js":
/*!************************!*\
  !*** ./js/sub_menu.js ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var __extends = this && this.__extends || function () {
  var _extendStatics = function extendStatics(d, b) {
    _extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) {
        if (b.hasOwnProperty(p)) d[p] = b[p];
      }
    };

    return _extendStatics(d, b);
  };

  return function (d, b) {
    _extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.SubMenu = void 0;

var abstract_menu_js_1 = __webpack_require__(/*! ./abstract_menu.js */ "./js/abstract_menu.js");

var SubMenu = function (_super) {
  __extends(SubMenu, _super);

  function SubMenu(_anchor) {
    var _this = _super.call(this) || this;

    _this._anchor = _anchor;
    _this.variablePool = _this.anchor.menu.pool;

    _this.setBaseMenu();

    return _this;
  }

  SubMenu.fromJson = function (factory, _a, anchor) {
    var its = _a.items;
    var submenu = new this(anchor);
    var itemList = factory.get('items')(factory, its, submenu);
    submenu.items = itemList;
    return submenu;
  };

  Object.defineProperty(SubMenu.prototype, "anchor", {
    get: function get() {
      return this._anchor;
    },
    enumerable: false,
    configurable: true
  });

  SubMenu.prototype.post = function () {
    if (!this.anchor.menu.isPosted()) {
      return;
    }

    var mobileFlag = false;
    var rtlFlag = false;
    var margin = 5;
    var parent = this.anchor.html;
    var menu = this.html;
    var base = this.baseMenu.frame;
    var mw = parent.offsetWidth;
    var x = mobileFlag ? 30 : mw - 2;
    var y = 0;

    while (parent && parent !== base) {
      x += parent.offsetLeft;
      y += parent.offsetTop;
      parent = parent.parentNode;
    }

    if (!mobileFlag) {
      if (rtlFlag && x - mw - menu.offsetWidth > margin || !rtlFlag && x + menu.offsetWidth > document.body.offsetWidth - margin) {
        x = Math.max(margin, x - mw - menu.offsetWidth + 6);
      }
    }

    _super.prototype.post.call(this, x, y);
  };

  SubMenu.prototype.display = function () {
    this.baseMenu.frame.appendChild(this.html);
  };

  SubMenu.prototype.setBaseMenu = function () {
    var menu = this;

    do {
      menu = menu.anchor.menu;
    } while (menu instanceof SubMenu);

    this.baseMenu = menu;
  };

  SubMenu.prototype.left = function (_event) {
    this.focused = null;
    this.anchor.focus();
  };

  SubMenu.prototype.toJson = function () {
    return {
      type: ''
    };
  };

  return SubMenu;
}(abstract_menu_js_1.AbstractMenu);

exports.SubMenu = SubMenu;

/***/ }),

/***/ "./js/variable.js":
/*!************************!*\
  !*** ./js/variable.js ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Variable = void 0;

var menu_util_js_1 = __webpack_require__(/*! ./menu_util.js */ "./js/menu_util.js");

var Variable = function () {
  function Variable(_name, getter, setter) {
    this._name = _name;
    this.getter = getter;
    this.setter = setter;
    this.items = [];
  }

  Variable.fromJson = function (_factory, _a, pool) {
    var name = _a.name,
        getter = _a.getter,
        setter = _a.setter;
    var variable = new this(name, getter, setter);
    pool.insert(variable);
  };

  Object.defineProperty(Variable.prototype, "name", {
    get: function get() {
      return this._name;
    },
    enumerable: false,
    configurable: true
  });

  Variable.prototype.getValue = function (node) {
    try {
      return this.getter(node);
    } catch (e) {
      menu_util_js_1.MenuUtil.error(e, 'Command of variable ' + this.name + ' failed.');
      return null;
    }
  };

  Variable.prototype.setValue = function (value, node) {
    try {
      this.setter(value, node);
    } catch (e) {
      menu_util_js_1.MenuUtil.error(e, 'Command of variable ' + this.name + ' failed.');
    }

    this.update();
  };

  Variable.prototype.register = function (item) {
    if (this.items.indexOf(item) === -1) {
      this.items.push(item);
    }
  };

  Variable.prototype.unregister = function (item) {
    var index = this.items.indexOf(item);

    if (index !== -1) {
      this.items.splice(index, 1);
    }
  };

  Variable.prototype.update = function () {
    this.items.forEach(function (x) {
      return x.update();
    });
  };

  Variable.prototype.registerCallback = function (func) {
    this.items.forEach(function (x) {
      return x.registerCallback(func);
    });
  };

  Variable.prototype.unregisterCallback = function (func) {
    this.items.forEach(function (x) {
      return x.unregisterCallback(func);
    });
  };

  Variable.prototype.toJson = function () {
    return {
      type: 'variable',
      name: this.name,
      getter: this.getter.toString(),
      setter: this.setter.toString()
    };
  };

  return Variable;
}();

exports.Variable = Variable;

/***/ }),

/***/ "./js/variable_pool.js":
/*!*****************************!*\
  !*** ./js/variable_pool.js ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.VariablePool = void 0;

var VariablePool = function () {
  function VariablePool() {
    this.pool = {};
  }

  VariablePool.prototype.insert = function (variable) {
    this.pool[variable.name] = variable;
  };

  VariablePool.prototype.lookup = function (name) {
    return this.pool[name];
  };

  VariablePool.prototype.remove = function (name) {
    delete this.pool[name];
  };

  VariablePool.prototype.update = function () {
    for (var variable in this.pool) {
      this.pool[variable].update();
    }
  };

  return VariablePool;
}();

exports.VariablePool = VariablePool;

/***/ })

/******/ });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db250ZXh0TWVudS93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vQ29udGV4dE1lbnUvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vQ29udGV4dE1lbnUvLi4vdHMvYWJzdHJhY3RfZW50cnkudHMiLCJ3ZWJwYWNrOi8vQ29udGV4dE1lbnUvLi4vdHMvYWJzdHJhY3RfaXRlbS50cyIsIndlYnBhY2s6Ly9Db250ZXh0TWVudS8uLi90cy9hYnN0cmFjdF9tZW51LnRzIiwid2VicGFjazovL0NvbnRleHRNZW51Ly4uL3RzL2Fic3RyYWN0X25hdmlnYXRhYmxlLnRzIiwid2VicGFjazovL0NvbnRleHRNZW51Ly4uL3RzL2Fic3RyYWN0X3Bvc3RhYmxlLnRzIiwid2VicGFjazovL0NvbnRleHRNZW51Ly4uL3RzL2Fic3RyYWN0X3ZhcmlhYmxlX2l0ZW0udHMiLCJ3ZWJwYWNrOi8vQ29udGV4dE1lbnUvLi4vdHMvY2xvc2VfYnV0dG9uLnRzIiwid2VicGFjazovL0NvbnRleHRNZW51Ly4uL3RzL2NvbnRleHRfbWVudS50cyIsIndlYnBhY2s6Ly9Db250ZXh0TWVudS8uLi90cy9jc3NfdXRpbC50cyIsIndlYnBhY2s6Ly9Db250ZXh0TWVudS8uLi90cy9odG1sX2NsYXNzZXMudHMiLCJ3ZWJwYWNrOi8vQ29udGV4dE1lbnUvLi4vdHMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vQ29udGV4dE1lbnUvLi4vdHMvaW5mby50cyIsIndlYnBhY2s6Ly9Db250ZXh0TWVudS8uLi90cy9pdGVtX2NoZWNrYm94LnRzIiwid2VicGFjazovL0NvbnRleHRNZW51Ly4uL3RzL2l0ZW1fY29tYm8udHMiLCJ3ZWJwYWNrOi8vQ29udGV4dE1lbnUvLi4vdHMvaXRlbV9jb21tYW5kLnRzIiwid2VicGFjazovL0NvbnRleHRNZW51Ly4uL3RzL2l0ZW1fbGFiZWwudHMiLCJ3ZWJwYWNrOi8vQ29udGV4dE1lbnUvLi4vdHMvaXRlbV9yYWRpby50cyIsIndlYnBhY2s6Ly9Db250ZXh0TWVudS8uLi90cy9pdGVtX3J1bGUudHMiLCJ3ZWJwYWNrOi8vQ29udGV4dE1lbnUvLi4vdHMvaXRlbV9zbGlkZXIudHMiLCJ3ZWJwYWNrOi8vQ29udGV4dE1lbnUvLi4vdHMvaXRlbV9zdWJtZW51LnRzIiwid2VicGFjazovL0NvbnRleHRNZW51Ly4uL3RzL2tleV9uYXZpZ2F0YWJsZS50cyIsIndlYnBhY2s6Ly9Db250ZXh0TWVudS8uLi90cy9tZW51X2VsZW1lbnQudHMiLCJ3ZWJwYWNrOi8vQ29udGV4dE1lbnUvLi4vdHMvbWVudV9zdG9yZS50cyIsIndlYnBhY2s6Ly9Db250ZXh0TWVudS8uLi90cy9tZW51X3V0aWwudHMiLCJ3ZWJwYWNrOi8vQ29udGV4dE1lbnUvLi4vdHMvbW91c2VfbmF2aWdhdGFibGUudHMiLCJ3ZWJwYWNrOi8vQ29udGV4dE1lbnUvLi4vdHMvcGFyc2UudHMiLCJ3ZWJwYWNrOi8vQ29udGV4dE1lbnUvLi4vdHMvcGFyc2VyX2ZhY3RvcnkudHMiLCJ3ZWJwYWNrOi8vQ29udGV4dE1lbnUvLi4vdHMvcG9wdXAudHMiLCJ3ZWJwYWNrOi8vQ29udGV4dE1lbnUvLi4vdHMvc2VsZWN0aW9uX2JveC50cyIsIndlYnBhY2s6Ly9Db250ZXh0TWVudS8uLi90cy9zdWJfbWVudS50cyIsIndlYnBhY2s6Ly9Db250ZXh0TWVudS8uLi90cy92YXJpYWJsZS50cyIsIndlYnBhY2s6Ly9Db250ZXh0TWVudS8uLi90cy92YXJpYWJsZV9wb29sLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxPO1FDVkE7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7OztRQUdBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQSwwQ0FBMEMsZ0NBQWdDO1FBQzFFO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0Esd0RBQXdELGtCQUFrQjtRQUMxRTtRQUNBLGlEQUFpRCxjQUFjO1FBQy9EOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQSx5Q0FBeUMsaUNBQWlDO1FBQzFFLGdIQUFnSCxtQkFBbUIsRUFBRTtRQUNySTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBLDJCQUEyQiwwQkFBMEIsRUFBRTtRQUN2RCxpQ0FBaUMsZUFBZTtRQUNoRDtRQUNBO1FBQ0E7O1FBRUE7UUFDQSxzREFBc0QsK0RBQStEOztRQUVySDtRQUNBOzs7UUFHQTtRQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDekRBOztBQUVBOztBQUlBO0FBQTRDOztBQXdCMUMseUJBQW9CLEtBQXBCLEVBQXlDLEtBQXpDLEVBQXNEO0FBQXRELGdCQUNFLHFCQUFPLElBRFQ7O0FBQW9CO0FBQXFCO0FBakIvQixzQkFBWSw4QkFBWSxVQUFaLENBQVo7QUFNQSxpQkFBTyxVQUFQO0FBRUYsbUJBQWtCLEtBQWxCOztBQVdQOztBQUtELHdCQUFXLHVCQUFYLEVBQVcsTUFBWCxFQUFlO1NBQWY7QUFDRSxhQUFPLEtBQUssS0FBWjtBQUNELEtBRmM7U0FPZixhQUFnQixJQUFoQixFQUEwQjtBQUN4QixXQUFLLEtBQUwsR0FBYSxJQUFiO0FBQ0QsS0FUYztxQkFBQTs7QUFBQSxHQUFmO0FBY0Esd0JBQVcsdUJBQVgsRUFBVyxNQUFYLEVBQWU7U0FBZjtBQUNFLGFBQU8sS0FBSyxLQUFaO0FBQ0QsS0FGYztxQkFBQTs7QUFBQSxHQUFmOztBQU9PLGlDQUFQO0FBQ0UsU0FBSyxNQUFMLEdBQWMsSUFBZDtBQUNBLFNBQUssSUFBTCxDQUFVLFlBQVY7QUFDRCxHQUhNOztBQVFBLGlDQUFQO0FBQ0UsU0FBSyxNQUFMLEdBQWMsS0FBZDtBQUNBLFNBQUssSUFBTCxDQUFVLFlBQVY7QUFDRCxHQUhNOztBQVFBLHFDQUFQO0FBQ0UsV0FBTyxLQUFLLE1BQVo7QUFDRCxHQUZNOztBQUlUO0FBQUMsQ0F4RUQsQ0FBNEMsNkJBQTVDOztBQUFzQixzQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNQdEI7O0FBSUE7O0FBQ0E7O0FBSUE7QUFBMkM7O0FBb0J6Qyx3QkFBWSxJQUFaLEVBQXdCLElBQXhCLEVBQ29CLFFBRHBCLEVBQ3NDLEVBRHRDLEVBQ2lEO0FBRGpELGdCQUVFLGtCQUFNLElBQU4sRUFBWSxJQUFaLEtBQWlCLElBRm5COztBQUNvQjtBQWZWLHFCQUFvQixLQUFwQjtBQUdGLHNCQUF3QixFQUF4QjtBQWNOLFNBQUksQ0FBQyxHQUFMLEdBQVcsRUFBRSxHQUFHLEVBQUgsR0FBUSxRQUFyQjs7QUFDRDs7QUFLRCx3QkFBVyxzQkFBWCxFQUFXLFNBQVgsRUFBa0I7U0FBbEI7QUFDRSxhQUFPLEtBQUssUUFBWjtBQUNELEtBRmlCO1NBT2xCLGFBQW1CLE9BQW5CLEVBQWtDO0FBQ2hDLFdBQUssUUFBTCxHQUFnQixPQUFoQjtBQUNBLFdBQUssWUFBTDs7QUFDQSxVQUFJLEtBQUssSUFBVCxFQUFlO0FBQ1osYUFBSyxJQUFMLENBQTJCLFlBQTNCO0FBQ0Y7QUFDRixLQWJpQjtxQkFBQTs7QUFBQSxHQUFsQjtBQWtCQSx3QkFBVyxzQkFBWCxFQUFXLElBQVgsRUFBYTtTQUFiO0FBQ0UsYUFBTyxLQUFLLEdBQVo7QUFDRCxLQUZZO3FCQUFBOztBQUFBLEdBQWI7O0FBT08saUNBQVA7QUFDRSxRQUFJLENBQUMsS0FBSyxRQUFWLEVBQW9CO0FBQ2xCLFdBQUssYUFBTDtBQUNBLFdBQUssaUJBQUw7QUFDRDtBQUNGLEdBTE07O0FBVUcseUNBQVYsYUFBNkIsQ0FBbkI7O0FBT0gsNENBQVAsVUFBd0IsSUFBeEIsRUFBc0M7QUFDcEMsUUFBSSxLQUFLLFNBQUwsQ0FBZSxPQUFmLENBQXVCLElBQXZCLE1BQWlDLENBQUMsQ0FBdEMsRUFBeUM7QUFDdkMsV0FBSyxTQUFMLENBQWUsSUFBZixDQUFvQixJQUFwQjtBQUNEO0FBQ0YsR0FKTTs7QUFXQSw4Q0FBUCxVQUEwQixJQUExQixFQUF3QztBQUN0QyxRQUFJLEtBQUssR0FBRyxLQUFLLFNBQUwsQ0FBZSxPQUFmLENBQXVCLElBQXZCLENBQVo7O0FBQ0EsUUFBSSxLQUFLLEtBQUssQ0FBQyxDQUFmLEVBQWtCO0FBQ2hCLFdBQUssU0FBTCxDQUFlLE1BQWYsQ0FBc0IsS0FBdEIsRUFBNkIsQ0FBN0I7QUFDRDtBQUNGLEdBTE07O0FBVUEscUNBQVAsVUFBaUIsS0FBakIsRUFBa0M7QUFDaEMsU0FBSyxLQUFMO0FBQ0EsU0FBSyxJQUFMLENBQVUsS0FBVjtBQUNELEdBSE07O0FBUUEscUNBQVAsVUFBaUIsS0FBakIsRUFBa0M7QUFDaEMsU0FBSyxLQUFMO0FBQ0EsU0FBSyxJQUFMLENBQVUsS0FBVjtBQUNELEdBSE07O0FBUUEsb0NBQVAsVUFBZ0IsS0FBaEIsRUFBaUM7QUFDL0IsU0FBSyxVQUFMO0FBQ0EsU0FBSyxJQUFMLENBQVUsS0FBVjtBQUNELEdBSE07O0FBUUEsd0NBQVA7QUFDRSxxQkFBTSxZQUFOLENBQWtCLElBQWxCLENBQWtCLElBQWxCOztBQUNBLFFBQUksSUFBSSxHQUFHLEtBQUssSUFBaEI7QUFDQSxRQUFJLENBQUMsWUFBTCxDQUFrQixlQUFsQixFQUFtQyxPQUFuQztBQUNBLFFBQUksQ0FBQyxXQUFMLEdBQW1CLEtBQUssT0FBeEI7QUFDRCxHQUxNOztBQVVHLG9DQUFWO0FBQ0UsUUFBSSxDQUFDLEtBQUssUUFBVixFQUFvQjtBQUNsQixXQUFLLElBQUwsQ0FBVSxTQUFWLENBQW9CLEdBQXBCLENBQXdCLDhCQUFZLFlBQVosQ0FBeEI7QUFDRDtBQUNGLEdBSlM7O0FBU0Esc0NBQVY7QUFDRSxTQUFLLElBQUwsQ0FBVSxTQUFWLENBQW9CLE1BQXBCLENBQTJCLDhCQUFZLFlBQVosQ0FBM0I7QUFDRCxHQUZTOztBQU9ILGlDQUFQO0FBQ0UsU0FBSyxJQUFMLENBQVUsT0FBVixHQUFvQixJQUFwQjs7QUFDQSxxQkFBTSxLQUFOLENBQVcsSUFBWCxDQUFXLElBQVg7O0FBQ0EsU0FBSyxRQUFMO0FBQ0QsR0FKTTs7QUFTQSxtQ0FBUDtBQUNFLFNBQUssVUFBTDs7QUFDQSxxQkFBTSxPQUFOLENBQWEsSUFBYixDQUFhLElBQWI7QUFDRCxHQUhNOztBQVFBLGtDQUFQLFVBQWMsTUFBZCxFQUFtQztBQUNqQyw0QkFBUyxLQUFULENBQWUsSUFBZjtBQUNELEdBRk07O0FBT0EsOEJBQVAsVUFBVSxLQUFWLEVBQThCO0FBQzVCLFNBQUssSUFBTCxDQUFVLEVBQVYsQ0FBYSxLQUFiO0FBQ0QsR0FGTTs7QUFPQSxnQ0FBUCxVQUFZLEtBQVosRUFBZ0M7QUFDOUIsU0FBSyxJQUFMLENBQVUsSUFBVixDQUFlLEtBQWY7QUFDRCxHQUZNOztBQVFBLGdDQUFQLFVBQVksS0FBWixFQUFnQztBQUM5QixTQUFLLElBQUwsQ0FBVSxJQUFWLENBQWUsS0FBZjtBQUNELEdBRk07O0FBT0EsaUNBQVAsVUFBYSxLQUFiLEVBQWlDO0FBQy9CLFNBQUssSUFBTCxDQUFVLEtBQVYsQ0FBZ0IsS0FBaEI7QUFDRCxHQUZNOztBQU9BLGlDQUFQLFVBQWEsTUFBYixFQUFrQztBQUNoQyxTQUFLLEtBQUw7QUFDRCxHQUZNOztBQU9BLG1DQUFQO0FBQ0UsU0FBSyxRQUFMLEdBQWdCLElBQWhCO0FBQ0EsUUFBSSxJQUFJLEdBQUcsS0FBSyxJQUFoQjtBQUNBLFFBQUksQ0FBQyxTQUFMLENBQWUsR0FBZixDQUFtQiw4QkFBWSxjQUFaLENBQW5CO0FBQ0EsUUFBSSxDQUFDLFlBQUwsQ0FBa0IsZUFBbEIsRUFBbUMsTUFBbkM7QUFDRCxHQUxNOztBQVVBLGtDQUFQO0FBQ0UsU0FBSyxRQUFMLEdBQWdCLEtBQWhCO0FBQ0EsUUFBSSxJQUFJLEdBQUcsS0FBSyxJQUFoQjtBQUNBLFFBQUksQ0FBQyxTQUFMLENBQWUsTUFBZixDQUFzQiw4QkFBWSxjQUFaLENBQXRCO0FBQ0EsUUFBSSxDQUFDLGVBQUwsQ0FBcUIsZUFBckI7QUFDRCxHQUxNOztBQVVDLDZDQUFSOzs7O0FBQ0UsV0FBaUIsdUJBQUssU0FBTCxHQUFjLGNBQS9CLEVBQStCLFFBQS9CLEVBQStCLGNBQS9CLEVBQWlDO0FBQTVCLFlBQUksSUFBSSxXQUFSOztBQUNILFlBQUk7QUFDRixjQUFJLENBQUMsSUFBRCxDQUFKO0FBQ0QsU0FGRCxDQUVFLE9BQU8sQ0FBUCxFQUFVO0FBQ1Ysa0NBQVMsS0FBVCxDQUFlLENBQWYsRUFBa0IsNkJBQTZCLEtBQUssRUFBbEMsR0FDSCxVQURmO0FBRUQ7QUFDRjs7Ozs7Ozs7Ozs7O0FBQ0YsR0FUTzs7QUFXVjtBQUFDLENBek9ELENBQTJDLGlDQUEzQzs7QUFBc0Isb0M7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDVHRCOztBQUNBOztBQUlBOztBQUNBOztBQUdBO0FBQTJDOztBQUEzQztBQUFBOztBQUtZLHNCQUFZLDhCQUFZLGFBQVosQ0FBWjtBQVdBLGlCQUFPLE1BQVA7QUFLQSxtQkFBaUIsRUFBakI7QUFDRixzQkFBa0IsSUFBbEI7O0FBd0xUOztBQWxMQyx3QkFBVyxzQkFBWCxFQUFXLFVBQVgsRUFBbUI7U0FPbkI7QUFDRSxhQUFPLEtBQUssU0FBWjtBQUNELEtBVGtCO1NBQW5CLGFBQW9CLElBQXBCLEVBQThCO0FBQzVCLFdBQUssU0FBTCxHQUFpQixJQUFqQjtBQUNELEtBRmtCO3FCQUFBOztBQUFBLEdBQW5CO0FBY0Esd0JBQVcsc0JBQVgsRUFBVyxPQUFYLEVBQWdCO1NBQWhCO0FBQ0UsYUFBTyxLQUFLLE1BQVo7QUFDRCxLQUZlO1NBT2hCLGFBQWlCLEtBQWpCLEVBQThCO0FBQzVCLFdBQUssTUFBTCxHQUFjLEtBQWQ7QUFDRCxLQVRlO3FCQUFBOztBQUFBLEdBQWhCO0FBY0Esd0JBQVcsc0JBQVgsRUFBVyxNQUFYLEVBQWU7U0FBZjtBQUNFLGFBQU8sS0FBSyxZQUFaO0FBQ0QsS0FGYztxQkFBQTs7QUFBQSxHQUFmO0FBT0Esd0JBQVcsc0JBQVgsRUFBVyxTQUFYLEVBQWtCO1NBQWxCO0FBQ0UsYUFBTyxLQUFLLFFBQVo7QUFDRCxLQUZpQjtTQU9sQixhQUFtQixJQUFuQixFQUE2QjtBQUMzQixVQUFJLEtBQUssUUFBTCxLQUFrQixJQUF0QixFQUE0QjtBQUMxQjtBQUNEOztBQUNELFVBQUksQ0FBQyxLQUFLLFFBQVYsRUFBb0I7QUFDbEIsYUFBSyxPQUFMO0FBQ0Q7O0FBRUQsVUFBSSxHQUFHLEdBQUcsS0FBSyxRQUFmO0FBQ0EsV0FBSyxRQUFMLEdBQWdCLElBQWhCOztBQUNBLFVBQUksR0FBSixFQUFTO0FBQ1AsV0FBRyxDQUFDLE9BQUo7QUFDRDtBQUNGLEtBcEJpQjtxQkFBQTs7QUFBQSxHQUFsQjs7QUF5Qk8sOEJBQVAsVUFBVSxNQUFWLEVBQStCO0FBQzdCLFFBQUksS0FBSyxHQUFHLEtBQUssS0FBTCxDQUFXLE1BQVgsQ0FDVixhQUFDO0FBQUksYUFBQyxDQUFDLFlBQVksK0JBQWQsSUFBZ0MsQ0FBQyxDQUFDLENBQWxDLFFBQWlDLEVBQWpDO0FBQThDLEtBRHpDLENBQVo7O0FBRUEsUUFBSSxLQUFLLENBQUMsTUFBTixLQUFpQixDQUFyQixFQUF3QjtBQUN0QjtBQUNEOztBQUNELFFBQUksQ0FBQyxLQUFLLE9BQVYsRUFBbUI7QUFDakIsV0FBSyxDQUFDLEtBQUssQ0FBQyxNQUFOLEdBQWUsQ0FBaEIsQ0FBTCxDQUF3QixLQUF4QjtBQUNBO0FBQ0Q7O0FBQ0QsUUFBSSxLQUFLLEdBQUcsS0FBSyxDQUFDLE9BQU4sQ0FBYyxLQUFLLE9BQW5CLENBQVo7O0FBQ0EsUUFBSSxLQUFLLEtBQUssQ0FBQyxDQUFmLEVBQWtCO0FBQ2hCO0FBQ0Q7O0FBQ0QsU0FBSyxHQUFHLEtBQUssR0FBRyxFQUFFLEtBQUwsR0FBYSxLQUFLLENBQUMsTUFBTixHQUFlLENBQXpDO0FBQ0EsU0FBSyxDQUFDLEtBQUQsQ0FBTCxDQUFhLEtBQWI7QUFDRCxHQWhCTTs7QUFxQkEsZ0NBQVAsVUFBWSxNQUFaLEVBQWlDO0FBQy9CLFFBQUksS0FBSyxHQUFHLEtBQUssS0FBTCxDQUFXLE1BQVgsQ0FDVixhQUFDO0FBQUksYUFBQyxDQUFDLFlBQVksK0JBQWQsSUFBZ0MsQ0FBQyxDQUFDLENBQWxDLFFBQWlDLEVBQWpDO0FBQThDLEtBRHpDLENBQVo7O0FBRUEsUUFBSSxLQUFLLENBQUMsTUFBTixLQUFpQixDQUFyQixFQUF3QjtBQUN0QjtBQUNEOztBQUNELFFBQUksQ0FBQyxLQUFLLE9BQVYsRUFBbUI7QUFDakIsV0FBSyxDQUFDLENBQUQsQ0FBTCxDQUFTLEtBQVQ7QUFDQTtBQUNEOztBQUNELFFBQUksS0FBSyxHQUFHLEtBQUssQ0FBQyxPQUFOLENBQWMsS0FBSyxPQUFuQixDQUFaOztBQUNBLFFBQUksS0FBSyxLQUFLLENBQUMsQ0FBZixFQUFrQjtBQUNoQjtBQUNEOztBQUNELFNBQUs7QUFDTCxTQUFLLEdBQUksS0FBSyxLQUFLLEtBQUssQ0FBQyxNQUFqQixHQUEyQixDQUEzQixHQUErQixLQUF2QztBQUNBLFNBQUssQ0FBQyxLQUFELENBQUwsQ0FBYSxLQUFiO0FBQ0QsR0FqQk07O0FBc0JBLHdDQUFQO0FBQ0UscUJBQU0sWUFBTixDQUFrQixJQUFsQixDQUFrQixJQUFsQjs7QUFDQSxTQUFLLFlBQUw7QUFDRCxHQUhNOztBQVFBLHdDQUFQOzs7QUFDRSxRQUFJLElBQUksR0FBRyxLQUFLLElBQWhCO0FBQ0EsUUFBSSxDQUFDLFNBQUwsQ0FBZSxHQUFmLENBQW1CLDhCQUFZLE1BQVosQ0FBbkI7OztBQUNBLFdBQWlCLHVCQUFLLEtBQUwsR0FBVSxjQUEzQixFQUEyQixRQUEzQixFQUEyQixjQUEzQixFQUE2QjtBQUF4QixZQUFJLElBQUksV0FBUjs7QUFDSCxZQUFJLENBQUMsSUFBSSxDQUFDLFFBQUwsRUFBTCxFQUFzQjtBQUNwQixjQUFJLENBQUMsV0FBTCxDQUFpQixJQUFJLENBQUMsSUFBdEI7QUFDQTtBQUNEOztBQUNELFlBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxJQUFwQjs7QUFDQSxZQUFJLFFBQVEsQ0FBQyxVQUFiLEVBQXlCO0FBQ3ZCLGtCQUFRLENBQUMsVUFBVCxDQUFvQixXQUFwQixDQUFnQyxRQUFoQztBQUNEO0FBQ0Y7Ozs7Ozs7Ozs7OztBQUNGLEdBYk07O0FBa0JBLGdDQUFQLFVBQVksQ0FBWixFQUF3QixDQUF4QixFQUFrQztBQUNoQyxTQUFLLFlBQUwsQ0FBa0IsTUFBbEI7O0FBQ0EscUJBQU0sSUFBTixDQUFVLElBQVYsQ0FBVSxJQUFWLEVBQVcsQ0FBWCxFQUFjLENBQWQ7QUFDRCxHQUhNOztBQVFBLDBDQUFQOzs7QUFDRSxRQUFJLFFBQVEsR0FDVixLQUFLLEtBQUwsQ0FBVyxNQUFYLENBQWtCLGFBQUM7QUFBSSxjQUFDLFlBQVksa0JBQWI7QUFBb0IsS0FBM0MsQ0FERjs7O0FBRUEsV0FBb0IscUNBQVEsZ0NBQTVCLEVBQTRCLGtCQUE1QixFQUE0QixnQ0FBNUIsRUFBOEI7QUFBekIsWUFBSSxPQUFPLHFCQUFYO0FBQ0gsZUFBTyxDQUFDLE9BQVIsQ0FBZ0IsTUFBaEI7O0FBQ0EsWUFBSSxPQUFPLEtBQUssS0FBSyxPQUFyQixFQUE4QjtBQUM1QixpQkFBTyxDQUFDLE9BQVI7QUFDRDtBQUNGOzs7Ozs7Ozs7Ozs7QUFDRixHQVRNOztBQWNBLGtDQUFQO0FBQ0UscUJBQU0sTUFBTixDQUFZLElBQVosQ0FBWSxJQUFaOztBQUNBLFNBQUssY0FBTDtBQUNBLFNBQUssT0FBTCxHQUFlLElBQWY7QUFDRCxHQUpNOztBQVNBLGdDQUFQLFVBQVksRUFBWixFQUFzQjs7OztBQUNwQixXQUFpQix1QkFBSyxLQUFMLEdBQVUsY0FBM0IsRUFBMkIsUUFBM0IsRUFBMkIsY0FBM0IsRUFBNkI7QUFBeEIsWUFBSSxJQUFJLFdBQVI7O0FBQ0gsWUFBSSxJQUFJLENBQUMsSUFBTCxLQUFjLE1BQWxCLEVBQTBCO0FBQ3hCO0FBQ0Q7O0FBQ0QsWUFBSSxJQUFJLENBQUMsRUFBTCxLQUFZLEVBQWhCLEVBQW9CO0FBQ2xCLGlCQUFPLElBQVA7QUFDRDs7QUFDRCxZQUFJLElBQUksQ0FBQyxJQUFMLEtBQWMsU0FBbEIsRUFBNkI7QUFDM0IsY0FBSSxNQUFNLEdBQUksSUFBZ0IsQ0FBQyxPQUFqQixDQUF5QixJQUF6QixDQUE4QixFQUE5QixDQUFkOztBQUNBLGNBQUksTUFBSixFQUFZO0FBQ1YsbUJBQU8sTUFBUDtBQUNEO0FBQ0Y7QUFDRjs7Ozs7Ozs7Ozs7OztBQUNELFdBQU8sSUFBUDtBQUNELEdBaEJNOztBQWtCVDtBQUFDLENBOU1ELENBQTJDLHVDQUEzQzs7QUFBc0Isb0M7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNUdEI7O0FBQ0E7O0FBR0E7QUFBQTtBQUdVLGtCQUFTLEtBQVQ7QUFvSVQ7O0FBL0hRLDRDQUFQO0FBQ0UsU0FBSyxNQUFMLEdBQWMsSUFBZDtBQUNELEdBRk07O0FBT0EsMENBQVAsVUFBZSxLQUFmLEVBQW1DO0FBQ2pDLFlBQVEsS0FBSyxDQUFDLE9BQWQ7QUFDQSxXQUFLLHlCQUFJLE1BQVQ7QUFDRSxhQUFLLE1BQUwsQ0FBWSxLQUFaO0FBQ0E7O0FBQ0YsV0FBSyx5QkFBSSxLQUFUO0FBQ0UsYUFBSyxLQUFMLENBQVcsS0FBWDtBQUNBOztBQUNGLFdBQUsseUJBQUksSUFBVDtBQUNFLGFBQUssSUFBTCxDQUFVLEtBQVY7QUFDQTs7QUFDRixXQUFLLHlCQUFJLEVBQVQ7QUFDRSxhQUFLLEVBQUwsQ0FBUSxLQUFSO0FBQ0E7O0FBQ0YsV0FBSyx5QkFBSSxJQUFUO0FBQ0UsYUFBSyxJQUFMLENBQVUsS0FBVjtBQUNBOztBQUNGLFdBQUsseUJBQUksTUFBVDtBQUNBLFdBQUsseUJBQUksS0FBVDtBQUNFLGFBQUssS0FBTCxDQUFXLEtBQVg7QUFDQTs7QUFDRjtBQUNFO0FBckJGOztBQXVCQSxTQUFLLE1BQUwsR0FBYyxLQUFLLE1BQUwsR0FBYyxLQUE1QixHQUFvQyxLQUFLLElBQUwsQ0FBVSxLQUFWLENBQXBDO0FBQ0QsR0F6Qk07O0FBOEJBLHlDQUFQLFVBQWMsTUFBZCxFQUFtQyxDQUFVLENBQXRDOztBQUtBLHdDQUFQLFVBQWEsTUFBYixFQUFrQyxDQUFVLENBQXJDOztBQUtBLHVDQUFQLFVBQVksTUFBWixFQUFpQyxDQUFVLENBQXBDOztBQUtBLHdDQUFQLFVBQWEsTUFBYixFQUFrQyxDQUFVLENBQXJDOztBQUtBLHFDQUFQLFVBQVUsTUFBVixFQUErQixDQUFVLENBQWxDOztBQUtBLHVDQUFQLFVBQVksTUFBWixFQUFpQyxDQUFVLENBQXBDOztBQU1HLHVDQUFWLFVBQWUsS0FBZixFQUEyQjtBQUN6QixRQUFJLEtBQUosRUFBVztBQUNULFdBQUssQ0FBQyxlQUFOO0FBQ0EsV0FBSyxDQUFDLGNBQU47QUFDQSxXQUFLLENBQUMsWUFBTixHQUFxQixJQUFyQjtBQUNEO0FBQ0YsR0FOUzs7QUFXSCw0Q0FBUCxVQUFpQixLQUFqQixFQUFrQztBQUNoQyxXQUFPLEtBQUssSUFBTCxDQUFVLEtBQVYsQ0FBUDtBQUNELEdBRk07O0FBT0EsMENBQVAsVUFBZSxLQUFmLEVBQWdDO0FBQzlCLFdBQU8sS0FBSyxJQUFMLENBQVUsS0FBVixDQUFQO0FBQ0QsR0FGTTs7QUFPQSw0Q0FBUCxVQUFpQixLQUFqQixFQUFrQztBQUNoQyxXQUFPLEtBQUssSUFBTCxDQUFVLEtBQVYsQ0FBUDtBQUNELEdBRk07O0FBT0EsMkNBQVAsVUFBZ0IsS0FBaEIsRUFBaUM7QUFDL0IsV0FBTyxLQUFLLElBQUwsQ0FBVSxLQUFWLENBQVA7QUFDRCxHQUZNOztBQU9BLHdDQUFQLFVBQWEsS0FBYixFQUE4QjtBQUM1QixXQUFPLEtBQUssSUFBTCxDQUFVLEtBQVYsQ0FBUDtBQUNELEdBRk07O0FBUUEsNENBQVAsVUFBaUIsT0FBakIsRUFBcUM7QUFDbkMsV0FBTyxDQUFDLGdCQUFSLENBQXlCLDZCQUFNLElBQS9CLEVBQXFDLEtBQUssU0FBTCxDQUFlLElBQWYsQ0FBb0IsSUFBcEIsQ0FBckM7QUFDQSxXQUFPLENBQUMsZ0JBQVIsQ0FBeUIsNkJBQU0sRUFBL0IsRUFBbUMsS0FBSyxPQUFMLENBQWEsSUFBYixDQUFrQixJQUFsQixDQUFuQztBQUNBLFdBQU8sQ0FBQyxnQkFBUixDQUF5Qiw2QkFBTSxJQUEvQixFQUFxQyxLQUFLLFNBQUwsQ0FBZSxJQUFmLENBQW9CLElBQXBCLENBQXJDO0FBQ0EsV0FBTyxDQUFDLGdCQUFSLENBQXlCLDZCQUFNLEdBQS9CLEVBQW9DLEtBQUssUUFBTCxDQUFjLElBQWQsQ0FBbUIsSUFBbkIsQ0FBcEM7QUFDQSxXQUFPLENBQUMsZ0JBQVIsQ0FBeUIsNkJBQU0sS0FBL0IsRUFBc0MsS0FBSyxLQUFMLENBQVcsSUFBWCxDQUFnQixJQUFoQixDQUF0QztBQUNBLFdBQU8sQ0FBQyxnQkFBUixDQUF5QixTQUF6QixFQUFvQyxLQUFLLE9BQUwsQ0FBYSxJQUFiLENBQWtCLElBQWxCLENBQXBDO0FBQ0EsV0FBTyxDQUFDLGdCQUFSLENBQXlCLFdBQXpCLEVBQXNDLEtBQUssSUFBTCxDQUFVLElBQVYsQ0FBZSxJQUFmLENBQXRDO0FBQ0EsV0FBTyxDQUFDLGdCQUFSLENBQXlCLDZCQUFNLFdBQS9CLEVBQTRDLEtBQUssSUFBTCxDQUFVLElBQVYsQ0FBZSxJQUFmLENBQTVDO0FBQ0EsV0FBTyxDQUFDLGdCQUFSLENBQXlCLGFBQXpCLEVBQXdDLEtBQUssSUFBTCxDQUFVLElBQVYsQ0FBZSxJQUFmLENBQXhDO0FBQ0EsV0FBTyxDQUFDLGdCQUFSLENBQXlCLDZCQUFNLFFBQS9CLEVBQXlDLEtBQUssSUFBTCxDQUFVLElBQVYsQ0FBZSxJQUFmLENBQXpDO0FBQ0QsR0FYTTs7QUFZVDtBQUFDLENBdklEOztBQUFzQixrRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSnRCOztBQUtBO0FBQStDOztBQUEvQztBQUFBOztBQUdVLG1CQUFTLEtBQVQ7O0FBMkNUOztBQXRDUSx3Q0FBUDtBQUNFLFdBQU8sS0FBSyxNQUFaO0FBQ0QsR0FGTTs7QUFPQSxvQ0FBUCxVQUFZLENBQVosRUFBd0IsQ0FBeEIsRUFBa0M7QUFDaEMsUUFBSSxLQUFLLE1BQVQsRUFBaUI7QUFDZjtBQUNEOztBQUNELFFBQUksT0FBTyxDQUFQLEtBQWMsV0FBZCxJQUE2QixPQUFPLENBQVAsS0FBYyxXQUEvQyxFQUE0RDtBQUMxRCxXQUFLLElBQUwsQ0FBVSxZQUFWLENBQ0UsT0FERixFQUNXLFdBQVcsQ0FBWCxHQUFlLFdBQWYsR0FBNkIsQ0FBN0IsR0FBaUMsS0FENUM7QUFFRDs7QUFDRCxTQUFLLE9BQUw7QUFDQSxTQUFLLE1BQUwsR0FBYyxJQUFkO0FBQ0QsR0FWTTs7QUFlQSxzQ0FBUDtBQUNFLFFBQUksQ0FBQyxLQUFLLE1BQVYsRUFBa0I7QUFDaEI7QUFDRDs7QUFDRCxRQUFJLElBQUksR0FBRyxLQUFLLElBQWhCOztBQUNBLFFBQUksSUFBSSxDQUFDLFVBQVQsRUFBcUI7QUFDbkIsVUFBSSxDQUFDLFVBQUwsQ0FBZ0IsV0FBaEIsQ0FBNEIsSUFBNUI7QUFDRDs7QUFDRCxTQUFLLE1BQUwsR0FBYyxLQUFkO0FBQ0QsR0FUTTs7QUFnQlQ7QUFBQyxDQTlDRCxDQUErQyw2QkFBL0M7O0FBQXNCLDRDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKdEI7O0FBS0E7QUFBc0Q7O0FBQXREOztBQW1FQzs7QUE1Q1EsZ0RBQVA7QUFDRSxxQkFBTSxZQUFOLENBQWtCLElBQWxCLENBQWtCLElBQWxCOztBQUNBLFFBQUksSUFBSSxHQUFHLEtBQUssSUFBaEI7O0FBQ0EsUUFBSSxDQUFDLEtBQUssSUFBVixFQUFnQjtBQUNkLFdBQUssWUFBTDtBQUNEOztBQUNELFFBQUksQ0FBQyxXQUFMLENBQWlCLEtBQUssSUFBdEI7QUFDQSxTQUFLLE1BQUw7QUFDRCxHQVJNOztBQWFBLDRDQUFQO0FBQ0UsU0FBSyxRQUFMLENBQWMsUUFBZCxDQUF1QixJQUF2QjtBQUNELEdBRk07O0FBT0EsOENBQVA7QUFDRSxTQUFLLFFBQUwsQ0FBYyxVQUFkLENBQXlCLElBQXpCO0FBQ0QsR0FGTTs7QUFPQSwwQ0FBUDtBQUNFLFNBQUssVUFBTDs7QUFDQSxRQUFJLEtBQUssSUFBVCxFQUFlO0FBQ2IsV0FBSyxVQUFMO0FBQ0Q7QUFDRixHQUxNOztBQWlCVDtBQUFDLENBbkVELENBQXNELCtCQUF0RDs7QUFBc0Isb0Q7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ050Qjs7QUFDQTs7QUFJQTtBQUFpQzs7QUFrQi9CLHVCQUFvQixPQUFwQixFQUFxQztBQUFyQyxnQkFDRSxxQkFBTyxJQURUOztBQUFvQjtBQWJWLHNCQUFZLDhCQUFZLFdBQVosQ0FBWjtBQUtBLGlCQUFPLFFBQVA7O0FBVVQ7O0FBS00sdUNBQVA7QUFDRSxRQUFJLElBQUksR0FBRyxRQUFRLENBQUMsYUFBVCxDQUF1QixNQUF2QixDQUFYO0FBQ0EsUUFBSSxDQUFDLFNBQUwsQ0FBZSxHQUFmLENBQW1CLEtBQUssU0FBeEI7QUFDQSxRQUFJLENBQUMsWUFBTCxDQUFrQixNQUFsQixFQUEwQixLQUFLLElBQS9CO0FBQ0EsUUFBSSxDQUFDLFlBQUwsQ0FBa0IsVUFBbEIsRUFBOEIsR0FBOUI7QUFDQSxRQUFJLE9BQU8sR0FBRyxRQUFRLENBQUMsYUFBVCxDQUF1QixNQUF2QixDQUFkO0FBQ0EsV0FBTyxDQUFDLFdBQVIsR0FBc0IsTUFBdEI7QUFDQSxRQUFJLENBQUMsV0FBTCxDQUFpQixPQUFqQjtBQUNBLFNBQUssSUFBTCxHQUFZLElBQVo7QUFDRCxHQVRNOztBQWNHLGtDQUFWLGFBQXVCLENBQWI7O0FBS0gsaUNBQVA7QUFDRSxxQkFBTSxNQUFOLENBQVksSUFBWixDQUFZLElBQVo7O0FBQ0EsU0FBSyxPQUFMLENBQWEsTUFBYjtBQUNELEdBSE07O0FBUUEsa0NBQVAsVUFBZSxLQUFmLEVBQW1DO0FBQ2pDLFNBQUssU0FBTDs7QUFDQSxxQkFBTSxPQUFOLENBQWEsSUFBYixDQUFhLElBQWIsRUFBYyxLQUFkO0FBQ0QsR0FITTs7QUFRQSxnQ0FBUCxVQUFhLEtBQWIsRUFBaUM7QUFDL0IsU0FBSyxNQUFMO0FBQ0EsU0FBSyxJQUFMLENBQVUsS0FBVjtBQUNELEdBSE07O0FBUUEsb0NBQVAsVUFBaUIsS0FBakIsRUFBa0M7QUFDaEMsU0FBSyxNQUFMO0FBQ0EsU0FBSyxJQUFMLENBQVUsS0FBVjtBQUNELEdBSE07O0FBS1Q7QUFBQyxDQXpFRCxDQUFpQyx1Q0FBakM7O0FBQWEsa0M7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0xiOztBQUNBOztBQUNBOztBQUVBOztBQUlBO0FBQWlDOztBQThEL0IsdUJBQW1CLE9BQW5CLEVBQXlDO0FBQXpDLGdCQUNFLHFCQUFPLElBRFQ7O0FBQW1CO0FBeERaLGVBQWEsRUFBYjtBQU1DLG1CQUFrQixLQUFsQjtBQVlBLG1CQUFvQixJQUFJLHlCQUFKLENBQWMsS0FBZCxDQUFwQjtBQVlBLG9CQUFzQixFQUF0QjtBQTRCTixTQUFJLENBQUMsWUFBTCxHQUFvQixJQUFJLCtCQUFKLEVBQXBCOztBQUNEOztBQXRCYSx5QkFBZCxVQUNFLE9BREYsRUFFRSxFQUZGLEVBSXVEO1FBRjlDLElBQUksVTtRQUFTLEtBQUssVztRQUFFLFU7UUFBSSxFQUFFLG1CQUFHLEVBQUgsR0FBSyxFO0FBSXRDLFFBQU0sUUFBUSxHQUFHLElBQUksSUFBSixDQUFTLE9BQVQsQ0FBakI7QUFDQSxZQUFRLENBQUMsRUFBVCxHQUFjLEVBQWQ7QUFDQSxRQUFJLFNBQVMsR0FBRyxPQUFPLENBQUMsR0FBUixDQUFZLFVBQVosQ0FBaEI7QUFDQSxRQUFJLENBQUMsT0FBTCxDQUFhLGFBQUM7QUFBSSxzQkFBUyxDQUFDLE9BQUQsRUFBVSxDQUFWLEVBQW9CLFFBQVEsQ0FBckMsSUFBUyxDQUFUO0FBQTJDLEtBQTdEO0FBQ0EsUUFBTSxRQUFRLEdBQUcsT0FBTyxDQUFDLEdBQVIsQ0FBWSxPQUFaLEVBQXFCLE9BQXJCLEVBQThCLEtBQTlCLEVBQXFDLFFBQXJDLENBQWpCO0FBQ0EsWUFBUSxDQUFDLEtBQVQsR0FBaUIsUUFBakI7QUFDQSxXQUFPLFFBQVA7QUFDRCxHQWJhOztBQTJCUCx1Q0FBUDtBQUNFLFFBQUksS0FBSyxRQUFMLEVBQUosRUFBcUI7QUFDbkIsV0FBSyxNQUFMO0FBQ0Q7O0FBQ0QscUJBQU0sWUFBTixDQUFrQixJQUFsQixDQUFrQixJQUFsQjs7QUFDQSxTQUFLLE1BQUwsR0FBYyxRQUFRLENBQUMsYUFBVCxDQUF1QixLQUF2QixDQUFkOztBQUNBLFNBQUssTUFBTCxDQUFZLFNBQVosQ0FBc0IsR0FBdEIsQ0FBMEIsOEJBQVksV0FBWixDQUExQjs7QUFFQSxRQUFJLFdBQVcsR0FBRyxxREFDaEIsdURBREY7O0FBRUEsU0FBSyxNQUFMLENBQVksWUFBWixDQUF5QixPQUF6QixFQUFrQyx5QkFBeUIsV0FBM0Q7O0FBQ0EsUUFBSSxRQUFRLEdBQUcsUUFBUSxDQUFDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBZjtBQUNBLFlBQVEsQ0FBQyxZQUFULENBQXNCLE9BQXRCLEVBQStCLHNCQUFzQixXQUFyRDs7QUFDQSxTQUFLLE1BQUwsQ0FBWSxXQUFaLENBQXdCLFFBQXhCOztBQUNBLFlBQVEsQ0FBQyxnQkFBVCxDQUEwQixXQUExQixFQUMwQixVQUFTLEtBQVQsRUFBcUI7QUFDbkIsV0FBSyxNQUFMO0FBQ0EsV0FBSyxhQUFMO0FBQ0EsV0FBSyxJQUFMLENBQVUsS0FBVjtBQUNELEtBSkQsQ0FJRSxJQUpGLENBSU8sSUFKUCxDQUQxQjtBQU1ELEdBcEJNOztBQXlCRyxrQ0FBVjtBQUNFLFlBQVEsQ0FBQyxJQUFULENBQWMsV0FBZCxDQUEwQixLQUFLLEtBQS9CO0FBQ0EsU0FBSyxLQUFMLENBQVcsV0FBWCxDQUF1QixLQUFLLElBQTVCO0FBQ0EsU0FBSyxLQUFMO0FBQ0QsR0FKUzs7QUFTSCxpQ0FBUCxVQUFjLE1BQWQsRUFBbUM7QUFDakMsU0FBSyxNQUFMO0FBQ0EsU0FBSyxhQUFMO0FBQ0QsR0FITTs7QUFRQSxpQ0FBUDtBQUNFLHFCQUFNLE1BQU4sQ0FBWSxJQUFaLENBQVksSUFBWjs7QUFDQSxRQUFJLEtBQUssT0FBTCxDQUFhLE1BQWIsR0FBc0IsQ0FBMUIsRUFBNkI7QUFDM0I7QUFDRDs7QUFDRCxTQUFLLEtBQUwsQ0FBVyxVQUFYLENBQXNCLFdBQXRCLENBQWtDLEtBQUssS0FBdkM7QUFDQSxRQUFJLEtBQUssR0FBRyxLQUFLLEtBQWpCOztBQUNBLFFBQUksQ0FBQyxLQUFLLE1BQVYsRUFBa0I7QUFDaEIsV0FBSyxDQUFDLGNBQU47QUFDRDs7QUFDRCxTQUFLLENBQUMsTUFBTixDQUFhLEtBQWI7QUFDRCxHQVhNOztBQWdCQSwrQkFBUCxVQUFZLE1BQVosRUFBaUM7QUFDL0IsU0FBSyxLQUFMLENBQVcsS0FBSyxLQUFMLENBQVcsUUFBWCxFQUFYO0FBQ0QsR0FGTTs7QUFPQSxnQ0FBUCxVQUFhLE1BQWIsRUFBa0M7QUFDaEMsU0FBSyxLQUFMLENBQVcsS0FBSyxLQUFMLENBQVcsSUFBWCxFQUFYO0FBQ0QsR0FGTTs7QUFRUCx3QkFBVyxxQkFBWCxFQUFXLE9BQVgsRUFBZ0I7U0FBaEI7QUFDRSxhQUFPLEtBQUssTUFBWjtBQUNELEtBRmU7cUJBQUE7O0FBQUEsR0FBaEI7QUFPQSx3QkFBVyxxQkFBWCxFQUFXLE9BQVgsRUFBZ0I7U0FBaEI7QUFDRSxhQUFPLEtBQUssTUFBWjtBQUNELEtBRmU7cUJBQUE7O0FBQUEsR0FBaEI7O0FBeUJPLCtCQUFQLFVBQVksYUFBWixFQUFpQyxHQUFqQyxFQUE2QztBQUMzQyxRQUFJLE9BQU8sR0FBUCxLQUFnQixXQUFwQixFQUFpQztBQUMvQixVQUFJLENBQUMsS0FBSyxNQUFWLEVBQWtCO0FBQ2hCLGFBQUssS0FBTCxDQUFXLGNBQVg7QUFDRDs7QUFDRCx1QkFBTSxJQUFOLENBQVUsSUFBVixDQUFVLElBQVYsRUFBVyxhQUFYLEVBQTBCLEdBQTFCOztBQUNBO0FBQ0Q7O0FBQ0QsUUFBSSxLQUFLLEdBQUcsYUFBWjtBQUNBLFFBQUksSUFBSjs7QUFDQSxRQUFJLEtBQUssWUFBWSxLQUFyQixFQUE0QjtBQUMxQixVQUFJLEdBQUcsS0FBSyxDQUFDLE1BQWI7QUFDQSxXQUFLLElBQUwsQ0FBVSxLQUFWO0FBQ0QsS0FIRCxNQUdPO0FBQ0wsVUFBSSxHQUFHLEtBQVA7QUFDRDs7QUFDRCxRQUFJLENBQUo7QUFDQSxRQUFJLENBQUo7O0FBQ0EsUUFBSSxLQUFLLFlBQVksVUFBckIsRUFBaUM7QUFDL0IsT0FBQyxHQUFHLEtBQUssQ0FBQyxLQUFWLEVBQWlCLENBQUMsR0FBRyxLQUFLLENBQUMsS0FBM0I7O0FBQ0EsVUFBSSxDQUFDLENBQUQsSUFBTSxDQUFDLENBQVAsSUFBWSxLQUFLLENBQUMsT0FBdEIsRUFBK0I7QUFDN0IsU0FBQyxHQUFHLEtBQUssQ0FBQyxPQUFOLEdBQWdCLFFBQVEsQ0FBQyxJQUFULENBQWMsVUFBOUIsR0FDRixRQUFRLENBQUMsZUFBVCxDQUF5QixVQUQzQjtBQUVBLFNBQUMsR0FBRyxLQUFLLENBQUMsT0FBTixHQUFnQixRQUFRLENBQUMsSUFBVCxDQUFjLFNBQTlCLEdBQ0YsUUFBUSxDQUFDLGVBQVQsQ0FBeUIsU0FEM0I7QUFFRDtBQUNGOztBQUNELFFBQUksQ0FBQyxDQUFELElBQU0sQ0FBQyxDQUFQLElBQVksSUFBaEIsRUFBc0I7QUFDcEIsVUFBSSxPQUFPLEdBQUcsTUFBTSxDQUFDLFdBQVAsSUFBc0IsUUFBUSxDQUFDLGVBQVQsQ0FBeUIsVUFBN0Q7QUFDQSxVQUFJLE9BQU8sR0FBRyxNQUFNLENBQUMsV0FBUCxJQUFzQixRQUFRLENBQUMsZUFBVCxDQUF5QixTQUE3RDtBQUNBLFVBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxxQkFBTCxFQUFYO0FBQ0EsT0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUwsR0FBYSxJQUFJLENBQUMsSUFBbkIsSUFBMkIsQ0FBM0IsR0FBK0IsT0FBbkM7QUFDQSxPQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTCxHQUFjLElBQUksQ0FBQyxHQUFwQixJQUEyQixDQUEzQixHQUErQixPQUFuQztBQUNEOztBQUNELFNBQUssS0FBTCxDQUFXLE1BQVgsR0FBb0IsSUFBcEI7QUFDQSxTQUFLLE1BQUwsR0FBYyxLQUFLLEtBQUwsQ0FBVyxNQUF6QjtBQUNBLFFBQUksSUFBSSxHQUFHLEtBQUssSUFBaEI7QUFDQSxRQUFJLE1BQU0sR0FBRyxDQUFiOztBQUNBLFFBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxXQUFULEdBQXVCLFFBQVEsQ0FBQyxJQUFULENBQWMsV0FBZCxHQUE0QixNQUF2RCxFQUErRDtBQUM3RCxPQUFDLEdBQUcsUUFBUSxDQUFDLElBQVQsQ0FBYyxXQUFkLEdBQTRCLElBQUksQ0FBQyxXQUFqQyxHQUErQyxNQUFuRDtBQUNEOztBQVFELFNBQUssSUFBTCxDQUFVLENBQVYsRUFBYSxDQUFiO0FBQ0QsR0FqRE07O0FBdURBLHlDQUFQLFVBQXNCLE1BQXRCLEVBQXNDO0FBQ3BDLFNBQUssT0FBTCxDQUFhLElBQWIsQ0FBa0IsTUFBbEI7QUFDRCxHQUZNOztBQVFBLDJDQUFQLFVBQXdCLE1BQXhCLEVBQXdDO0FBQ3RDLFFBQUksS0FBSyxHQUFHLEtBQUssT0FBTCxDQUFhLE9BQWIsQ0FBcUIsTUFBckIsQ0FBWjs7QUFDQSxRQUFJLEtBQUssR0FBRyxDQUFDLENBQWIsRUFBZ0I7QUFDZCxXQUFLLE9BQUwsQ0FBYSxNQUFiLENBQW9CLEtBQXBCLEVBQTJCLENBQTNCO0FBQ0Q7O0FBQ0QsUUFBSSxLQUFLLE9BQUwsQ0FBYSxNQUFiLEtBQXdCLENBQTVCLEVBQStCO0FBQzdCLFdBQUssTUFBTDtBQUNEO0FBQ0YsR0FSTTs7QUFhQSx3Q0FBUDtBQUNFLFNBQUssT0FBTCxDQUFhLE9BQWIsQ0FBcUIsYUFBQztBQUFJLGNBQUMsQ0FBRDtBQUFVLEtBQXBDO0FBQ0QsR0FGTTs7QUFPQSxpQ0FBUDtBQUNFLFdBQU87QUFBQyxVQUFJLEVBQUU7QUFBUCxLQUFQO0FBQ0QsR0FGTTs7QUFTQyxnQ0FBUixVQUFjLElBQWQsRUFBK0I7QUFDN0IsUUFBSSxLQUFLLE1BQUwsSUFBZSxJQUFJLEtBQUssS0FBSyxNQUFqQyxFQUF5QztBQUN2QyxXQUFLLE1BQUwsR0FBYyxJQUFkO0FBQ0EsV0FBSyxNQUFMO0FBQ0EsV0FBSyxJQUFMLENBQVUsSUFBVjtBQUNBLFdBQUssTUFBTCxHQUFjLEtBQWQ7QUFDRDtBQUNGLEdBUE87O0FBU1Y7QUFBQyxDQXBSRCxDQUFpQywrQkFBakM7O0FBQWEsa0M7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNSYjs7QUFNQSxJQUFpQixTQUFqQjs7QUFBQSxXQUFpQixTQUFqQixFQUEwQjtBQU94QixXQUFTLFVBQVQsQ0FBb0IsSUFBcEIsRUFBZ0M7QUFDOUIsV0FBTyxPQUFPLDhCQUFZLElBQVosS0FBcUIsSUFBNUIsQ0FBUDtBQUNEOztBQUVELE1BQUksV0FBVyxHQUEyQixFQUExQztBQUNBLGFBQVcsQ0FBQyxVQUFVLENBQUMsV0FBRCxDQUFYLENBQVgsR0FBdUMsTUFDckMseUJBRHFDLEdBRXJDLEdBRkYsRUFHQSxXQUFXLENBQUMsVUFBVSxDQUFDLGFBQUQsQ0FBWCxDQUFYLEdBQXlDLE1BQ3ZDLGtEQUR1QyxHQUV2Qyx3REFGdUMsR0FHdkMsOERBSHVDLEdBSXZDLHVCQUp1QyxHQUt2QyxHQVJGLEVBU0EsV0FBVyxDQUFDLFVBQVUsQ0FBQyxNQUFELENBQVYsR0FBcUIsVUFBVSxDQUFDLFdBQUQsQ0FBaEMsQ0FBWCxHQUE0RCxNQUMxRCxlQUQwRCxHQUUxRCxHQVhGLEVBWUEsV0FBVyxDQUFDLFVBQVUsQ0FBQyxNQUFELENBQVgsQ0FBWCxHQUFrQyxNQUNoQyw0REFEZ0MsR0FFaEMsaUVBRmdDLEdBR2hDLGdCQUhnQyxHQUloQyw0REFKZ0MsR0FLaEMsMERBTGdDLEdBTWhDLG1FQU5nQyxHQU9oQyxrRUFQZ0MsR0FRaEMscUVBUmdDLEdBU2hDLHFFQVRnQyxHQVVoQywyREFWZ0MsR0FXaEMsNkRBWGdDLEdBWWhDLHNFQVpnQyxHQWFoQyxxRUFiZ0MsR0FjaEMsK0RBZGdDLEdBZWhDLDZEQWZnQyxHQWdCaEMsK0RBaEJnQyxHQWlCaEMsbURBakJnQyxHQWtCaEMsR0E5QkY7QUFnQ0EsTUFBSSxXQUFXLEdBQTJCLEVBQTFDO0FBQ0EsYUFBVyxDQUFDLFVBQVUsQ0FBQyxNQUFELENBQVgsQ0FBWCxHQUFrQyxNQUNoQyxzQkFEZ0MsR0FFaEMsMkJBRmdDLEdBR2hDLGdCQUhnQyxHQUloQyxnQ0FKZ0MsR0FLaEMsdURBTGdDLEdBTWhDLG9FQU5nQyxHQU9oQyxtRUFQZ0MsR0FRaEMsa0VBUmdDLEdBU2hDLG9FQVRnQyxHQVVoQyxtRUFWZ0MsR0FXaEMseURBWGdDLEdBWWhDLDJEQVpnQyxHQWFoQyxzRUFiZ0MsR0FjaEMscUVBZGdDLEdBZWhDLCtEQWZnQyxHQWdCaEMsNkRBaEJnQyxHQWlCaEMsR0FqQkYsRUFrQkEsV0FBVyxDQUFDLFVBQVUsQ0FBQyxVQUFELENBQVgsQ0FBWCxHQUFzQyxNQUNwQyxxQkFEb0MsR0FFcEMsMkJBRm9DLEdBR3BDLEdBckJGLEVBc0JBLFdBQVcsQ0FBQyxVQUFVLENBQUMsV0FBRCxDQUFYLENBQVgsR0FBdUMsTUFDckMsb0VBRHFDLEdBRXJDLHVDQUZxQyxHQUdyQyxHQXpCRixFQTBCQSxXQUFXLENBQUMsVUFBVSxDQUFDLFlBQUQsQ0FBVixHQUEyQixHQUEzQixHQUFpQyxVQUFVLENBQUMsV0FBRCxDQUE1QyxDQUFYLEdBQ0UsZUEzQkYsRUE0QkEsV0FBVyxDQUFDLFVBQVUsQ0FBQyxXQUFELENBQVYsR0FBMEIsVUFBVSxDQUFDLEtBQUQsQ0FBckMsQ0FBWCxHQUNFLHlCQTdCRixFQThCQSxXQUFXLENBQUMsVUFBVSxDQUFDLFdBQUQsQ0FBWCxDQUFYLEdBQXVDLE1BQ3JDLGlDQURxQyxHQUVyQyxxQkFGcUMsR0FHckMsR0FqQ0YsRUFrQ0EsV0FBVyxDQUFDLFVBQVUsQ0FBQyxXQUFELENBQVYsR0FBMEIsVUFBVSxDQUFDLEtBQUQsQ0FBckMsQ0FBWCxHQUNFLDJCQW5DRixFQW9DQSxXQUFXLENBQUMsVUFBVSxDQUFDLGdCQUFELENBQVgsQ0FBWCxHQUE0QyxNQUMxQyxrQ0FEMEMsR0FFMUMsR0F0Q0YsRUF1Q0EsV0FBVyxDQUFDLFVBQVUsQ0FBQyxnQkFBRCxDQUFWLEdBQStCLFVBQVUsQ0FBQyxLQUFELENBQTFDLENBQVgsR0FBZ0UsTUFDOUQsMEJBRDhELEdBRTlELEdBekNGLEVBMENBLFdBQVcsQ0FBQyxVQUFVLENBQUMsY0FBRCxDQUFYLENBQVgsR0FBMEMsTUFDeEMsaURBRHdDLEdBRXhDLHNCQUZ3QyxHQUd4QyxHQTdDRixFQThDQSxXQUFXLENBQUMsVUFBVSxDQUFDLGNBQUQsQ0FBVixHQUE2QixVQUFVLENBQUMsS0FBRCxDQUF4QyxDQUFYLEdBQThELE1BQzVELGVBRDRELEdBRTVELEdBaERGLEVBaURBLFdBQVcsQ0FBQyxVQUFVLENBQUMsY0FBRCxDQUFYLENBQVgsR0FBMEMsTUFDeEMsbUNBRHdDLEdBRXhDLEdBbkRGLEVBb0RBLFdBQVcsQ0FBQyxVQUFVLENBQUMsWUFBRCxDQUFYLENBQVgsR0FBd0MsTUFDdEMsZUFEc0MsR0FFdEMsR0F0REYsRUF1REEsV0FBVyxDQUFDLFVBQVUsQ0FBQyxhQUFELENBQVgsQ0FBWCxHQUF5QyxNQUN2QyxvRUFEdUMsR0FFdkMsb0JBRnVDLEdBR3ZDLEdBMURGLEVBMkRBLFdBQVcsQ0FBQyxVQUFVLENBQUMsV0FBRCxDQUFYLENBQVgsR0FBdUMsTUFDckMsc0NBRHFDLEdBRXJDLEdBN0RGLEVBOERBLFdBQVcsQ0FBQyxVQUFVLENBQUMsV0FBRCxDQUFYLENBQVgsR0FBdUMsTUFDckMsZ0NBRHFDLEdBRXJDLHFCQUZxQyxHQUdyQyxHQWpFRixFQWtFQSxXQUFXLENBQUMsVUFBVSxDQUFDLFVBQUQsQ0FBWCxDQUFYLEdBQXNDLE1BQ3BDLGtDQURvQyxHQUVwQyxvQkFGb0MsR0FHcEMsR0FyRUYsRUFzRUEsV0FBVyxDQUFDLFVBQVUsQ0FBQyxjQUFELENBQVgsQ0FBWCxHQUEwQyxNQUN4QyxrQkFEd0MsR0FFeEMsR0F4RUYsRUF5RUEsV0FBVyxDQUFDLFVBQVUsQ0FBQyxZQUFELENBQVgsQ0FBWCxHQUF3QyxNQUN0Qyw4QkFEc0MsR0FFdEMsaUJBRnNDLEdBR3RDLEdBNUVGLEVBNkVBLFdBQVcsQ0FBQyxVQUFVLENBQUMsY0FBRCxDQUFWLEdBQTZCLFFBQTlCLENBQVgsR0FBcUQsTUFDbkQsNkJBRG1ELEdBRW5ELEdBL0VGLEVBZ0ZBLFdBQVcsQ0FBQyxVQUFVLENBQUMsV0FBRCxDQUFWLEdBQTBCLFFBQTNCLENBQVgsR0FBa0QsTUFDaEQsNkJBRGdELEdBRWhELEdBbEZGLEVBbUZBLFdBQVcsQ0FBQyxVQUFVLENBQUMsYUFBRCxDQUFWLEdBQTRCLFFBQTdCLENBQVgsR0FBb0QsTUFDbEQsZ0JBRGtELEdBRWxELEdBckZGLEVBc0ZBLFdBQVcsQ0FBQyxVQUFVLENBQUMsYUFBRCxDQUFWLEdBQTRCLEdBQTVCLEdBQ0EsVUFBVSxDQUFDLFVBQUQsQ0FEVixHQUN5QixRQUQxQixDQUFYLEdBQ2lELE1BQy9DLGdCQUQrQyxHQUUvQyxHQXpGRixFQTBGQSxXQUFXLENBQUMsVUFBVSxDQUFDLGVBQUQsQ0FBWCxDQUFYLEdBQTJDLE1BQ3pDLGtDQUR5QyxHQUV6Qyx3QkFGeUMsR0FHekMsMkJBSHlDLEdBSXpDLDhCQUp5QyxHQU16QyxHQWhHRixFQWlHQSxXQUFXLENBQUMsVUFBVSxDQUFDLGVBQUQsQ0FBWCxDQUFYLEdBQTJDLE1BQ3pDLHVCQUR5QyxHQUV6QyxHQW5HRixFQW9HQSxXQUFXLENBQUMsVUFBVSxDQUFDLFdBQUQsQ0FBWCxDQUFYLEdBQXVDLE1BQ3JDLDJCQURxQyxHQUVyQyxHQXRHRixFQXVHQSxXQUFXLENBQUMsVUFBVSxDQUFDLGNBQUQsQ0FBWCxDQUFYLEdBQTBDLE1BQ3hDLG1EQUR3QyxHQUV4Qyw2QkFGd0MsR0FHeEMsR0ExR0YsRUEyR0EsV0FBVyxDQUFDLFVBQVUsQ0FBQyxrQkFBRCxDQUFYLENBQVgsR0FBOEMsTUFDNUMsK0NBRDRDLEdBRTVDLEdBN0dGLEVBOEdBLFdBQVcsQ0FBQyxVQUFVLENBQUMsTUFBRCxDQUFWLEdBQXFCLEdBQXJCLEdBQTJCLFVBQVUsQ0FBQyxXQUFELENBQXRDLENBQVgsR0FBa0UsTUFDaEUseUJBRGdFLEdBRWhFLEdBaEhGO0FBb0hBLE1BQUksaUJBQWlCLEdBQTJCLEVBQWhEO0FBQ0EsbUJBQWlCLENBQUMsVUFBVSxDQUFDLFdBQUQsQ0FBWCxDQUFqQixHQUE2QyxNQUMzQyxzQkFEMkMsR0FFM0MsbUJBRjJDLEdBRzNDLHlCQUgyQyxHQUkzQywwQkFKMkMsR0FLM0MsdUJBTDJDLEdBTTNDLG9FQU4yQyxHQU8zQywwREFQMkMsR0FRM0MsNERBUjJDLEdBUzNDLHdDQVQyQyxHQVUzQyxtQkFWMkMsR0FXM0MsaUJBWDJDLEdBWTNDLEdBWkYsRUFhQSxpQkFBaUIsQ0FBQyxVQUFVLENBQUMsV0FBRCxDQUFWLEdBQTBCLE9BQTNCLENBQWpCLEdBQXVELE1BQ3JELDZEQURxRCxHQUVyRCx1QkFGcUQsR0FHckQsb0VBSHFELEdBSXJELDBEQUpxRCxHQUtyRCw0REFMcUQsR0FNckQsa0JBTnFELEdBT3JELCtEQVBxRCxHQVFyRCxHQXJCRixFQXNCQSxpQkFBaUIsQ0FBQyxVQUFVLENBQUMsV0FBRCxDQUFWLEdBQTBCLFFBQTNCLENBQWpCLEdBQXdELE1BQ3RELDBCQURzRCxHQUV0RCxtQ0FGc0QsR0FHdEQsR0F6QkYsRUEwQkEsaUJBQWlCLENBQUMsVUFBVSxDQUFDLFdBQUQsQ0FBVixHQUEwQixhQUEzQixDQUFqQixHQUE2RCxNQUMzRCxtQ0FEMkQsR0FFM0QsR0E1QkYsRUE2QkEsaUJBQWlCLENBQUMsVUFBVSxDQUFDLFdBQUQsQ0FBVixHQUEwQixjQUEzQixDQUFqQixHQUE4RCxNQUM1RCxnQkFENEQsR0FFNUQsR0EvQkY7QUFpQ0EsTUFBSSxVQUFVLEdBQUcsS0FBakI7QUFDQSxNQUFJLFVBQVUsR0FBRyxLQUFqQjtBQUNBLE1BQUksZ0JBQWdCLEdBQUcsS0FBdkI7O0FBT0EsV0FBZ0IsYUFBaEIsQ0FBOEIsWUFBOUIsRUFBd0Q7QUFDdEQsUUFBSSxVQUFKLEVBQWdCO0FBQ2Q7QUFDRDs7QUFDRCxjQUFVLENBQUMsV0FBRCxFQUFjLFlBQWQsQ0FBVjtBQUNBLGNBQVUsR0FBRyxJQUFiO0FBQ0EsdUJBQW1CLENBQUMsWUFBRCxDQUFuQjtBQUNEOztBQVBlLDRCQUFhLGFBQWI7O0FBYWhCLFdBQWdCLGFBQWhCLENBQThCLFlBQTlCLEVBQXdEO0FBQ3RELFFBQUksVUFBSixFQUFnQjtBQUNkO0FBQ0Q7O0FBQ0QsY0FBVSxDQUFDLFdBQUQsRUFBYyxZQUFkLENBQVY7QUFDQSxjQUFVLEdBQUcsSUFBYjtBQUNBLHVCQUFtQixDQUFDLFlBQUQsQ0FBbkI7QUFDRDs7QUFQZSw0QkFBYSxhQUFiOztBQWFoQixXQUFTLG1CQUFULENBQTZCLFlBQTdCLEVBQXVEO0FBQ3JELFFBQUksZ0JBQUosRUFBc0I7QUFDcEI7QUFDRDs7QUFDRCxjQUFVLENBQUMsaUJBQUQsRUFBb0IsWUFBcEIsQ0FBVjtBQUNBLG9CQUFnQixHQUFHLElBQW5CO0FBQ0Q7O0FBT0QsV0FBUyxVQUFULENBQ0UsTUFERixFQUNrQyxZQURsQyxFQUM0RDtBQUMxRCxRQUFJLEdBQUcsR0FBRyxZQUFZLElBQUksUUFBMUI7QUFDQSxRQUFJLE9BQU8sR0FBcUIsR0FBRyxDQUFDLGFBQUosQ0FBa0IsT0FBbEIsQ0FBaEM7QUFDQSxXQUFPLENBQUMsSUFBUixHQUFlLFVBQWY7QUFDQSxRQUFJLEtBQUssR0FBRyxFQUFaOztBQUNBLFNBQUssSUFBSSxLQUFULElBQWtCLE1BQWxCLEVBQTBCO0FBQ3hCLFdBQUssSUFBSSxLQUFUO0FBQ0EsV0FBSyxJQUFJLEdBQVQ7QUFDQSxXQUFLLElBQUksTUFBTSxDQUFDLEtBQUQsQ0FBZjtBQUNBLFdBQUssSUFBSSxJQUFUO0FBQ0Q7O0FBQ0QsV0FBTyxDQUFDLFNBQVIsR0FBb0IsS0FBcEI7QUFDQSxPQUFHLENBQUMsSUFBSixDQUFTLFdBQVQsQ0FBcUIsT0FBckI7QUFDRDtBQUVGLENBblFELEVBQWlCLFNBQVMsR0FBVCwwQ0FBUyxFQUFULENBQWpCLEU7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0pBLElBQU0sTUFBTSxHQUFXLFVBQXZCOztBQVFBLFNBQVMsT0FBVCxDQUFpQixJQUFqQixFQUE2QjtBQUMzQixTQUFPLE1BQU0sR0FBRyxHQUFULEdBQWUsSUFBdEI7QUFDRDs7QUFRRCxTQUFTLFlBQVQsQ0FBc0IsSUFBdEIsRUFBa0M7QUFDaEMsU0FBTyxPQUFPLENBQUMsSUFBRCxDQUFkO0FBQ0Q7O0FBUUQsU0FBUyxXQUFULENBQXFCLElBQXJCLEVBQWlDO0FBQy9CLFNBQU8sT0FBTyxDQUFDLElBQUQsQ0FBZDtBQUNEOztBQVFZLHNCQUF5QztBQUNwRCxVQUFRLEVBQUUsWUFBWSxDQUFDLFVBQUQsQ0FEOEI7QUFFcEQsYUFBVyxFQUFFLFlBQVksQ0FBQyxhQUFELENBRjJCO0FBR3BELE1BQUksRUFBRSxZQUFZLENBQUMsTUFBRCxDQUhrQztBQUlwRCxXQUFTLEVBQUUsWUFBWSxDQUFDLFdBQUQsQ0FKNkI7QUFLcEQsWUFBVSxFQUFFLFlBQVksQ0FBQyxZQUFELENBTDRCO0FBTXBELFdBQVMsRUFBRSxZQUFZLENBQUMsV0FBRCxDQU42QjtBQU9wRCxXQUFTLEVBQUUsWUFBWSxDQUFDLFdBQUQsQ0FQNkI7QUFRcEQsY0FBWSxFQUFFLFlBQVksQ0FBQyxjQUFELENBUjBCO0FBU3BELGNBQVksRUFBRSxZQUFZLENBQUMsY0FBRCxDQVQwQjtBQVVwRCxXQUFTLEVBQUUsWUFBWSxDQUFDLFdBQUQsQ0FWNkI7QUFXcEQsVUFBUSxFQUFFLFlBQVksQ0FBQyxVQUFELENBWDhCO0FBWXBELFdBQVMsRUFBRSxZQUFZLENBQUMsV0FBRCxDQVo2QjtBQWFwRCxnQkFBYyxFQUFFLFlBQVksQ0FBQyxnQkFBRCxDQWJ3QjtBQWNwRCxjQUFZLEVBQUUsWUFBWSxDQUFDLGNBQUQsQ0FkMEI7QUFlcEQsVUFBUSxFQUFFLFlBQVksQ0FBQyxVQUFELENBZjhCO0FBZ0JwRCxZQUFVLEVBQUUsWUFBWSxDQUFDLFlBQUQsQ0FoQjRCO0FBaUJwRCxXQUFTLEVBQUUsWUFBWSxDQUFDLFdBQUQsQ0FqQjZCO0FBa0JwRCxLQUFHLEVBQUUsWUFBWSxDQUFDLEtBQUQsQ0FsQm1DO0FBbUJwRCxNQUFJLEVBQUUsWUFBWSxDQUFDLE1BQUQsQ0FuQmtDO0FBb0JwRCxXQUFTLEVBQUUsWUFBWSxDQUFDLFdBQUQsQ0FwQjZCO0FBcUJwRCxhQUFXLEVBQUUsWUFBWSxDQUFDLGFBQUQsQ0FyQjJCO0FBc0JwRCxlQUFhLEVBQUUsWUFBWSxDQUFDLGVBQUQsQ0F0QnlCO0FBdUJwRCxXQUFTLEVBQUUsWUFBWSxDQUFDLFdBQUQsQ0F2QjZCO0FBd0JwRCxhQUFXLEVBQUUsWUFBWSxDQUFDLGFBQUQsQ0F4QjJCO0FBeUJwRCxXQUFTLEVBQUUsWUFBWSxDQUFDLFdBQUQsQ0F6QjZCO0FBMEJwRCxXQUFTLEVBQUUsWUFBWSxDQUFDLFdBQUQsQ0ExQjZCO0FBMkJwRCxjQUFZLEVBQUUsWUFBWSxDQUFDLGNBQUQsQ0EzQjBCO0FBNEJwRCxlQUFhLEVBQUUsWUFBWSxDQUFDLGVBQUQsQ0E1QnlCO0FBNkJwRCxrQkFBZ0IsRUFBRSxZQUFZLENBQUMsa0JBQUQsQ0E3QnNCO0FBOEJwRCxlQUFhLEVBQUUsWUFBWSxDQUFDLGVBQUQ7QUE5QnlCLENBQXpDO0FBa0RBLG9CQUFzQztBQUNqRCxTQUFPLEVBQUUsV0FBVyxDQUFDLFNBQUQsQ0FENkI7QUFFakQsYUFBVyxFQUFFLFdBQVcsQ0FBQyxhQUFELENBRnlCO0FBR2pELGlCQUFlLEVBQUUsV0FBVyxDQUFDLGlCQUFELENBSHFCO0FBSWpELFFBQU0sRUFBRSxXQUFXLENBQUMsYUFBRCxDQUo4QjtBQUtqRCxXQUFTLEVBQUUsV0FBVyxDQUFDLFdBQUQ7QUFMMkIsQ0FBdEMsQzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2xIYjs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFVyxzQkFBYywwQkFBZDtBQUNBLG9CQUFZLG9CQUFaO0FBQ0EsZUFBTyxXQUFQO0FBQ0EsZ0JBQVEsYUFBUjtBQUNBLGlCQUFTLGNBQVQ7QUFDQSxrQkFBVSxPQUFWO0FBQ0EsdUJBQWUsNEJBQWY7QUFDQSxtQkFBVyxtQkFBWDtBQUNBLHdCQUFnQiw4QkFBaEIsQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDT1g7O0FBRUE7O0FBQ0E7O0FBR0E7QUFBMEI7O0FBZ0N4QixnQkFBb0IsS0FBcEIsRUFBbUMsT0FBbkMsRUFDb0IsU0FEcEIsRUFDcUM7QUFEckMsZ0JBRUUscUJBQU8sSUFGVDs7QUFBb0I7QUFDQTtBQTVCVixzQkFBWSw4QkFBWSxNQUFaLENBQVo7QUFLQSxpQkFBTyxRQUFQO0FBRUEsdUJBQTBCLEtBQUksQ0FBQyxlQUFMLEVBQTFCO0FBR0Ysa0JBQXFCLEtBQUksQ0FBQyxhQUFMLEVBQXJCOztBQW9CTixTQUFJLENBQUMsT0FBTCxHQUFlLE9BQU8sSUFBSTtBQUFhLGFBQU8sRUFBUDtBQUFZLEtBQW5EOzs7QUFDRDs7QUFNTSw4QkFBUCxVQUFrQixJQUFsQixFQUFtQztBQUNqQyxTQUFLLElBQUwsR0FBWSxJQUFaO0FBQ0QsR0FGTTs7QUFPQSxnQ0FBUDtBQUNFLHFCQUFNLFlBQU4sQ0FBa0IsSUFBbEIsQ0FBa0IsSUFBbEI7O0FBQ0EsUUFBSSxJQUFJLEdBQUcsS0FBSyxJQUFoQjtBQUNBLFFBQUksQ0FBQyxXQUFMLENBQWlCLEtBQUssYUFBTCxFQUFqQjtBQUNBLFFBQUksQ0FBQyxXQUFMLENBQWlCLEtBQUssVUFBdEI7QUFDQSxRQUFJLENBQUMsV0FBTCxDQUFpQixLQUFLLGlCQUFMLEVBQWpCO0FBQ0EsUUFBSSxDQUFDLFdBQUwsQ0FBaUIsS0FBSyxLQUFMLENBQVcsSUFBNUI7QUFDQSxRQUFJLENBQUMsWUFBTCxDQUFrQixVQUFsQixFQUE4QixHQUE5QjtBQUNELEdBUk07O0FBYUEsd0JBQVA7QUFDRSxxQkFBTSxJQUFOLENBQVUsSUFBVixDQUFVLElBQVY7O0FBR0EsUUFBSSxHQUFHLEdBQUcsUUFBUSxDQUFDLGVBQW5CO0FBQ0EsUUFBSSxJQUFJLEdBQUcsS0FBSyxJQUFoQjtBQUNBLFFBQUksQ0FBQyxHQUFHLE1BQU0sQ0FBQyxXQUFQLElBQXNCLEdBQUcsQ0FBQyxZQUExQixJQUEwQyxHQUFHLENBQUMsWUFBOUMsSUFBOEQsQ0FBdEU7QUFDQSxRQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBTCxDQUFZLENBQUUsSUFBSSxDQUFDLFdBQVIsR0FBdUIsQ0FBbEMsQ0FBUjtBQUNBLFFBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFMLENBQVcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLFlBQVYsSUFBMEIsQ0FBckMsQ0FBUjtBQUNBLFFBQUksQ0FBQyxZQUFMLENBQ0UsT0FERixFQUNXLGtCQUFrQixDQUFsQixHQUFzQixXQUF0QixHQUFvQyxDQUFwQyxHQUF3QyxLQURuRDs7QUFFQSxRQUFJLE1BQU0sQ0FBQyxLQUFQLFlBQXdCLFVBQTVCLEVBQXdDO0FBQ3RDLFVBQUksQ0FBQyxTQUFMLENBQWUsR0FBZixDQUFtQiw4QkFBWSxXQUFaLENBQW5CO0FBQ0Q7O0FBQ0QsUUFBSSxDQUFDLEtBQUw7QUFDRCxHQWZNOztBQW9CRywyQkFBVjtBQUNFLFNBQUssSUFBTCxDQUFVLGNBQVYsQ0FBeUIsSUFBekI7QUFDQSxTQUFLLFVBQUwsQ0FBZ0IsU0FBaEIsR0FBNEIsS0FBSyxPQUFMLEVBQTVCO0FBQ0EsUUFBSSxJQUFJLEdBQUcsS0FBSyxJQUFMLENBQVUsSUFBckI7O0FBQ0EsUUFBSSxJQUFJLENBQUMsVUFBVCxFQUFxQjtBQUNuQixVQUFJLENBQUMsVUFBTCxDQUFnQixXQUFoQixDQUE0QixJQUE1QjtBQUNEOztBQUNELFNBQUssSUFBTCxDQUFVLEtBQVYsQ0FBZ0IsV0FBaEIsQ0FBNEIsS0FBSyxJQUFqQztBQUNELEdBUlM7O0FBYUgseUJBQVAsVUFBYSxNQUFiLEVBQStCLENBQVcsQ0FBbkM7O0FBS0EsMkJBQVAsVUFBZSxLQUFmLEVBQW1DO0FBQ2pDLFNBQUssU0FBTDs7QUFDQSxxQkFBTSxPQUFOLENBQWEsSUFBYixDQUFhLElBQWIsRUFBYyxLQUFkO0FBQ0QsR0FITTs7QUFRQSwwQkFBUCxVQUFjLE1BQWQsRUFBbUM7QUFDakMsU0FBSyxNQUFMO0FBQ0QsR0FGTTs7QUFPQSwwQkFBUDtBQUNFLHFCQUFNLE1BQU4sQ0FBWSxJQUFaLENBQVksSUFBWjs7QUFDQSxTQUFLLElBQUwsQ0FBVSxTQUFWLENBQW9CLE1BQXBCLENBQTJCLDhCQUFZLFdBQVosQ0FBM0I7QUFDQSxTQUFLLElBQUwsQ0FBVSxnQkFBVixDQUEyQixJQUEzQjtBQUNELEdBSk07O0FBU0MsaUNBQVI7QUFDRSxRQUFJLEtBQUssR0FBRyxJQUFJLDZCQUFKLENBQWdCLElBQWhCLENBQVo7QUFDQSxRQUFJLElBQUksR0FBRyxLQUFLLENBQUMsSUFBakI7QUFDQSxRQUFJLENBQUMsU0FBTCxDQUFlLEdBQWYsQ0FBbUIsOEJBQVksV0FBWixDQUFuQjtBQUNBLFFBQUksQ0FBQyxZQUFMLENBQWtCLFlBQWxCLEVBQWdDLGtCQUFoQztBQUNBLFdBQU8sS0FBUDtBQUNELEdBTk87O0FBV0EsaUNBQVI7QUFDRSxRQUFJLElBQUksR0FBRyxRQUFRLENBQUMsYUFBVCxDQUF1QixNQUF2QixDQUFYO0FBQ0EsUUFBSSxDQUFDLFNBQUwsR0FBaUIsS0FBSyxLQUF0QjtBQUNBLFFBQUksQ0FBQyxTQUFMLENBQWUsR0FBZixDQUFtQiw4QkFBWSxXQUFaLENBQW5CO0FBQ0EsV0FBTyxJQUFQO0FBQ0QsR0FMTzs7QUFXRSxtQ0FBVjtBQUNFLFFBQUksR0FBRyxHQUFHLFFBQVEsQ0FBQyxhQUFULENBQXVCLEtBQXZCLENBQVY7QUFDQSxPQUFHLENBQUMsU0FBSixDQUFjLEdBQWQsQ0FBa0IsOEJBQVksYUFBWixDQUFsQjtBQUNBLE9BQUcsQ0FBQyxZQUFKLENBQWlCLFVBQWpCLEVBQTZCLEdBQTdCO0FBQ0EsV0FBTyxHQUFQO0FBQ0QsR0FMUzs7QUFVRixxQ0FBUjtBQUNFLFFBQUksSUFBSSxHQUFHLFFBQVEsQ0FBQyxhQUFULENBQXVCLE1BQXZCLENBQVg7QUFDQSxRQUFJLENBQUMsU0FBTCxHQUFpQixLQUFLLFNBQXRCO0FBQ0EsUUFBSSxDQUFDLFNBQUwsQ0FBZSxHQUFmLENBQW1CLDhCQUFZLGVBQVosQ0FBbkI7QUFDQSxXQUFPLElBQVA7QUFDRCxHQUxPOztBQVVELDBCQUFQO0FBQ0UsV0FBTztBQUFDLFVBQUksRUFBRTtBQUFQLEtBQVA7QUFFRCxHQUhNOztBQUtUO0FBQUMsQ0EzS0QsQ0FBMEIsdUNBQTFCOztBQUFhLG9COzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNOYjs7QUFFQTs7QUFFQTs7QUFJQTtBQUE4Qjs7QUE2QjVCLG9CQUFZLElBQVosRUFBd0IsT0FBeEIsRUFBeUMsUUFBekMsRUFBMkQsRUFBM0QsRUFBc0U7QUFBdEUsZ0JBQ0Usa0JBQU0sSUFBTixFQUFZLFVBQVosRUFBd0IsT0FBeEIsRUFBaUMsRUFBakMsS0FBb0MsSUFEdEM7O0FBeEJVLGlCQUFPLGtCQUFQO0FBMEJSLFNBQUksQ0FBQyxRQUFMLEdBQWdCLElBQUksQ0FBQyxJQUFMLENBQVUsTUFBVixDQUFpQixRQUFqQixDQUFoQjs7QUFDQSxTQUFJLENBQUMsUUFBTDs7O0FBQ0Q7O0FBcEJhLHNCQUFkLFVBQ0UsUUFERixFQUVFLEVBRkYsRUFHbUQsSUFIbkQsRUFHNkQ7UUFEakQsT0FBTyxhO1FBQVksUUFBUSxjO1FBQU0sRUFBRSxRO0FBRTdDLFdBQU8sSUFBSSxJQUFKLENBQVMsSUFBVCxFQUFlLE9BQWYsRUFBd0IsUUFBeEIsRUFBa0MsRUFBbEMsQ0FBUDtBQUVELEdBTmE7O0FBeUJQLHFDQUFQO0FBQ0UsU0FBSyxRQUFMLENBQWMsUUFBZCxDQUF1QixDQUFDLEtBQUssUUFBTCxDQUFjLFFBQWQsRUFBeEI7QUFDQSw0QkFBUyxLQUFULENBQWUsSUFBZjtBQUNELEdBSE07O0FBUUEsb0NBQVA7QUFDRSxTQUFLLElBQUwsR0FBWSxRQUFRLENBQUMsYUFBVCxDQUF1QixNQUF2QixDQUFaO0FBQ0EsU0FBSyxJQUFMLENBQVUsV0FBVixHQUF3QixRQUF4QjtBQUNBLFNBQUssSUFBTCxDQUFVLFNBQVYsQ0FBb0IsR0FBcEIsQ0FBd0IsOEJBQVksV0FBWixDQUF4QjtBQUNELEdBSk07O0FBVUcsa0NBQVY7QUFDRSxTQUFLLElBQUwsQ0FBVSxZQUFWLENBQ0UsY0FERixFQUVFLEtBQUssUUFBTCxDQUFjLFFBQWQsS0FBMkIsTUFBM0IsR0FBb0MsT0FGdEM7QUFJRCxHQUxTOztBQVVILGtDQUFQO0FBQ0UsU0FBSyxJQUFMLENBQVUsS0FBVixDQUFnQixPQUFoQixHQUEwQixLQUFLLFFBQUwsQ0FBYyxRQUFkLEtBQTJCLEVBQTNCLEdBQWdDLE1BQTFEO0FBQ0QsR0FGTTs7QUFPQSw4QkFBUDtBQUNFLFdBQU87QUFBQyxVQUFJLEVBQUU7QUFBUCxLQUFQO0FBRUQsR0FITTs7QUFLVDtBQUFDLENBOUVELENBQThCLGdEQUE5Qjs7QUFBYSw0Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDUGI7O0FBRUE7O0FBRUE7O0FBQ0E7O0FBSUE7QUFBMkI7O0FBZ0N6QixpQkFBWSxJQUFaLEVBQXdCLE9BQXhCLEVBQXlDLFFBQXpDLEVBQTJELEVBQTNELEVBQXNFO0FBQXRFLGdCQUNFLGtCQUFNLElBQU4sRUFBWSxVQUFaLEVBQXdCLE9BQXhCLEVBQWlDLEVBQWpDLEtBQW9DLElBRHRDOztBQTNCVSxpQkFBTyxVQUFQO0FBSUYsdUJBQXNCLEtBQXRCO0FBeUJOLFNBQUksQ0FBQyxRQUFMLEdBQWdCLElBQUksQ0FBQyxJQUFMLENBQVUsTUFBVixDQUFpQixRQUFqQixDQUFoQjs7QUFDQSxTQUFJLENBQUMsUUFBTDs7O0FBQ0Q7O0FBbkJhLG1CQUFkLFVBQ0UsUUFERixFQUVFLEVBRkYsRUFHbUQsSUFIbkQsRUFHNkQ7UUFEakQsT0FBTyxhO1FBQVksUUFBUSxjO1FBQU0sRUFBRSxRO0FBRTdDLFdBQU8sSUFBSSxJQUFKLENBQVMsSUFBVCxFQUFlLE9BQWYsRUFBd0IsUUFBeEIsRUFBa0MsRUFBbEMsQ0FBUDtBQUNELEdBTGE7O0FBd0JQLGtDQUFQO0FBQ0UsU0FBSyxRQUFMLENBQWMsUUFBZCxDQUNFLEtBQUssS0FBTCxDQUFXLEtBRGIsRUFDb0Isd0JBQVMsZ0JBQVQsQ0FBMEIsSUFBMUIsQ0FEcEI7QUFFRCxHQUhNOztBQVFBLDBCQUFQLFVBQWEsS0FBYixFQUFpQztBQUMvQixxQkFBTSxLQUFOLENBQVcsSUFBWCxDQUFXLElBQVgsRUFBWSxLQUFaOztBQUNBLDRCQUFTLEtBQVQsQ0FBZSxJQUFmO0FBQ0QsR0FITTs7QUFRQSwwQkFBUDtBQUNFLHFCQUFNLEtBQU4sQ0FBVyxJQUFYLENBQVcsSUFBWDs7QUFDQSxTQUFLLEtBQUwsQ0FBVyxLQUFYO0FBQ0QsR0FITTs7QUFRQSw0QkFBUDtBQUNFLHFCQUFNLE9BQU4sQ0FBYSxJQUFiLENBQWEsSUFBYjs7QUFDQSxTQUFLLFVBQUw7QUFDRCxHQUhNOztBQVFBLGlDQUFQO0FBQ0UscUJBQU0sWUFBTixDQUFrQixJQUFsQixDQUFrQixJQUFsQjs7QUFDQSxRQUFJLElBQUksR0FBRyxLQUFLLElBQWhCO0FBQ0EsUUFBSSxDQUFDLFNBQUwsQ0FBZSxHQUFmLENBQW1CLDhCQUFZLGNBQVosQ0FBbkI7QUFDRCxHQUpNOztBQVNBLGlDQUFQO0FBQ0UsU0FBSyxJQUFMLEdBQVksUUFBUSxDQUFDLGFBQVQsQ0FBdUIsTUFBdkIsQ0FBWjtBQUNBLFNBQUssSUFBTCxDQUFVLFNBQVYsQ0FBb0IsR0FBcEIsQ0FBd0IsOEJBQVksY0FBWixDQUF4QjtBQUNBLFNBQUssS0FBTCxHQUFhLFFBQVEsQ0FBQyxhQUFULENBQXVCLE9BQXZCLENBQWI7QUFDQSxTQUFLLEtBQUwsQ0FBVyxnQkFBWCxDQUE0QixTQUE1QixFQUF1QyxLQUFLLFFBQUwsQ0FBYyxJQUFkLENBQW1CLElBQW5CLENBQXZDO0FBQ0EsU0FBSyxLQUFMLENBQVcsWUFBWCxDQUF3QixNQUF4QixFQUFnQyxNQUFoQztBQUNBLFNBQUssS0FBTCxDQUFXLFlBQVgsQ0FBd0IsTUFBeEIsRUFBZ0MsTUFBaEM7QUFDQSxTQUFLLEtBQUwsQ0FBVyxZQUFYLENBQXdCLFVBQXhCLEVBQW9DLElBQXBDO0FBQ0EsU0FBSyxJQUFMLENBQVUsV0FBVixDQUFzQixLQUFLLEtBQTNCO0FBQ0QsR0FUTTs7QUFnQkEsNkJBQVAsVUFBZ0IsTUFBaEIsRUFBcUM7QUFDbkMsU0FBSyxTQUFMO0FBQ0EsU0FBSyxVQUFMLEdBQWtCLElBQWxCO0FBQ0QsR0FITTs7QUFVQSw0QkFBUCxVQUFlLEtBQWYsRUFBbUM7QUFDakMsUUFBSSxLQUFLLFVBQUwsSUFDQSxLQUFLLENBQUMsT0FBTixLQUFrQix5QkFBSSxNQUR0QixJQUVBLEtBQUssQ0FBQyxPQUFOLEtBQWtCLHlCQUFJLE1BRjFCLEVBRWtDO0FBQ2hDLFdBQUssVUFBTCxHQUFrQixLQUFsQjtBQUNBLFdBQUssQ0FBQyxlQUFOO0FBQ0E7QUFDRDs7QUFDRCxxQkFBTSxPQUFOLENBQWEsSUFBYixDQUFhLElBQWIsRUFBYyxLQUFkOztBQUNBLFNBQUssQ0FBQyxlQUFOO0FBQ0QsR0FWTTs7QUFlRywrQkFBVixhQUEwQixDQUFoQjs7QUFLQSwrQkFBVjtBQUNFLFFBQUksU0FBSjs7QUFDQSxRQUFJO0FBQ0YsZUFBUyxHQUFHLEtBQUssUUFBTCxDQUFjLFFBQWQsQ0FBdUIsd0JBQVMsZ0JBQVQsQ0FBMEIsSUFBMUIsQ0FBdkIsQ0FBWjtBQUNELEtBRkQsQ0FFRSxPQUFPLENBQVAsRUFBVTtBQUNWLGVBQVMsR0FBRyxFQUFaO0FBQ0Q7O0FBQ0QsU0FBSyxLQUFMLENBQVcsS0FBWCxHQUFtQixTQUFuQjtBQUNELEdBUlM7O0FBYUgsMkJBQVA7QUFDRSxXQUFPO0FBQUMsVUFBSSxFQUFFO0FBQVAsS0FBUDtBQUVELEdBSE07O0FBS1Q7QUFBQyxDQWxKRCxDQUEyQixnREFBM0I7O0FBQWEsc0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ1ZiOztBQUNBOztBQUtBO0FBQTZCOztBQXdCM0IsbUJBQVksSUFBWixFQUF3QixPQUF4QixFQUFpRCxPQUFqRCxFQUNZLEVBRFosRUFDdUI7QUFEdkIsZ0JBRUUsa0JBQU0sSUFBTixFQUFZLFNBQVosRUFBdUIsT0FBdkIsRUFBZ0MsRUFBaEMsS0FBbUMsSUFGckM7O0FBQWlEOztBQUdoRDs7QUFuQmEscUJBQWQsVUFDRSxRQURGLEVBRUUsRUFGRixFQUdtRCxJQUhuRCxFQUc2RDtRQURqRCxPQUFPLGE7UUFBVSxNQUFNLFk7UUFBTSxFQUFFLFE7QUFFekMsV0FBTyxJQUFJLElBQUosQ0FBUyxJQUFULEVBQWUsT0FBZixFQUF3QixNQUF4QixFQUFnQyxFQUFoQyxDQUFQO0FBQ0QsR0FMYTs7QUF3QlAsb0NBQVA7QUFDRSxRQUFJO0FBQ0YsV0FBSyxPQUFMLENBQWEsd0JBQVMsZ0JBQVQsQ0FBMEIsSUFBMUIsQ0FBYjtBQUNELEtBRkQsQ0FFRSxPQUFPLENBQVAsRUFBVTtBQUNWLDhCQUFTLEtBQVQsQ0FBZSxDQUFmLEVBQWtCLDJCQUFsQjtBQUNEOztBQUNELDRCQUFTLEtBQVQsQ0FBZSxJQUFmO0FBQ0QsR0FQTTs7QUFZQSw2QkFBUDtBQUNFLFdBQU87QUFBQyxVQUFJLEVBQUU7QUFBUCxLQUFQO0FBRUQsR0FITTs7QUFLVDtBQUFDLENBakRELENBQTZCLCtCQUE3Qjs7QUFBYSwwQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDTmI7O0FBRUE7O0FBSUE7QUFBMkI7O0FBc0J6QixpQkFBWSxJQUFaLEVBQXdCLE9BQXhCLEVBQXlDLEVBQXpDLEVBQW9EO1dBQ2xELGtCQUFNLElBQU4sRUFBWSxPQUFaLEVBQXFCLE9BQXJCLEVBQThCLEVBQTlCLEtBQWlDLEk7QUFDbEM7O0FBaEJhLG1CQUFkLFVBQ0UsUUFERixFQUVFLEVBRkYsRUFHRSxJQUhGLEVBR1k7UUFEQSxPQUFPLGE7UUFBTSxFQUFFLFE7QUFFekIsV0FBTyxJQUFJLElBQUosQ0FBUyxJQUFULEVBQWUsT0FBZixFQUF3QixFQUF4QixDQUFQO0FBQ0QsR0FMYTs7QUFxQlAsaUNBQVA7QUFDRSxxQkFBTSxZQUFOLENBQWtCLElBQWxCLENBQWtCLElBQWxCOztBQUNBLFFBQUksSUFBSSxHQUFHLEtBQUssSUFBaEI7QUFDQSxRQUFJLENBQUMsU0FBTCxDQUFlLEdBQWYsQ0FBbUIsOEJBQVksV0FBWixDQUFuQjtBQUNELEdBSk07O0FBU0EsMkJBQVA7QUFDRSxXQUFPO0FBQUMsVUFBSSxFQUFFO0FBQVAsS0FBUDtBQUVELEdBSE07O0FBS1Q7QUFBQyxDQTNDRCxDQUEyQiwrQkFBM0I7O0FBQWEsc0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0xiOztBQUdBOztBQUNBOztBQUlBO0FBQTJCOztBQTRCekIsaUJBQVksSUFBWixFQUF3QixPQUF4QixFQUF5QyxRQUF6QyxFQUEyRCxFQUEzRCxFQUFzRTtBQUF0RSxnQkFDRSxrQkFBTSxJQUFOLEVBQVksT0FBWixFQUFxQixPQUFyQixFQUE4QixFQUE5QixLQUFpQyxJQURuQzs7QUF2QlUsaUJBQU8sZUFBUDtBQXlCUixTQUFJLENBQUMsUUFBTCxHQUFnQixJQUFJLENBQUMsSUFBTCxDQUFVLE1BQVYsQ0FBaUIsUUFBakIsQ0FBaEI7O0FBQ0EsU0FBSSxDQUFDLFFBQUw7OztBQUNEOztBQW5CYSxtQkFBZCxVQUNFLFFBREYsRUFFRSxFQUZGLEVBR21ELElBSG5ELEVBRzZEO1FBRGpELE9BQU8sYTtRQUFZLFFBQVEsYztRQUFNLEVBQUUsUTtBQUU3QyxXQUFPLElBQUksSUFBSixDQUFTLElBQVQsRUFBZSxPQUFmLEVBQXdCLFFBQXhCLEVBQWtDLEVBQWxDLENBQVA7QUFDRCxHQUxhOztBQXdCUCxrQ0FBUDtBQUNFLFNBQUssUUFBTCxDQUFjLFFBQWQsQ0FBdUIsS0FBSyxFQUE1QjtBQUNBLDRCQUFTLEtBQVQsQ0FBZSxJQUFmO0FBQ0QsR0FITTs7QUFRQSxpQ0FBUDtBQUNFLFNBQUssSUFBTCxHQUFZLFFBQVEsQ0FBQyxhQUFULENBQXVCLE1BQXZCLENBQVo7QUFDQSxTQUFLLElBQUwsQ0FBVSxXQUFWLEdBQXdCLFFBQXhCO0FBQ0EsU0FBSyxJQUFMLENBQVUsU0FBVixDQUFvQixHQUFwQixDQUF3Qiw4QkFBWSxnQkFBWixDQUF4QjtBQUNELEdBSk07O0FBVUcsK0JBQVY7QUFDRSxTQUFLLElBQUwsQ0FBVSxZQUFWLENBQ0UsY0FERixFQUVFLEtBQUssUUFBTCxDQUFjLFFBQWQsT0FBNkIsS0FBSyxFQUFsQyxHQUF1QyxNQUF2QyxHQUFnRCxPQUZsRDtBQUlELEdBTFM7O0FBV0EsK0JBQVY7QUFDRSxTQUFLLElBQUwsQ0FBVSxLQUFWLENBQWdCLE9BQWhCLEdBQ0UsS0FBSyxRQUFMLENBQWMsUUFBZCxPQUE2QixLQUFLLEVBQWxDLEdBQXVDLEVBQXZDLEdBQTRDLE1BRDlDO0FBRUQsR0FIUzs7QUFRSCwyQkFBUDtBQUNFLFdBQU87QUFBQyxVQUFJLEVBQUU7QUFBUCxLQUFQO0FBRUQsR0FITTs7QUFLVDtBQUFDLENBL0VELENBQTJCLGdEQUEzQjs7QUFBYSxzQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDVGI7O0FBRUE7O0FBSUE7QUFBMEI7O0FBMkJ4QixnQkFBWSxJQUFaLEVBQXNCO0FBQXRCLGdCQUNFLGtCQUFNLElBQU4sRUFBWSxNQUFaLEtBQW1CLElBRHJCOztBQXRCVSxzQkFBWSw4QkFBWSxVQUFaLENBQVo7QUFLQSxpQkFBTyxXQUFQOztBQW1CVDs7QUFYYSxrQkFBZCxVQUF1QixRQUF2QixFQUFnRCxFQUFoRCxFQUF3RCxJQUF4RCxFQUFrRTtBQUNoRSxXQUFPLElBQUksSUFBSixDQUFTLElBQVQsQ0FBUDtBQUNELEdBRmE7O0FBZ0JQLGdDQUFQO0FBQ0UscUJBQU0sWUFBTixDQUFrQixJQUFsQixDQUFrQixJQUFsQjs7QUFDQSxRQUFJLElBQUksR0FBRyxLQUFLLElBQWhCO0FBQ0EsUUFBSSxDQUFDLFNBQUwsQ0FBZSxHQUFmLENBQW1CLDhCQUFZLFVBQVosQ0FBbkI7QUFDQSxRQUFJLENBQUMsWUFBTCxDQUFrQixrQkFBbEIsRUFBc0MsVUFBdEM7QUFDRCxHQUxNOztBQVVBLDZCQUFQLFVBQWlCLFFBQWpCLEVBQXNDLENBQUssQ0FBcEM7O0FBS0EsMEJBQVA7QUFDRSxXQUFPO0FBQUMsVUFBSSxFQUFFO0FBQVAsS0FBUDtBQUNELEdBRk07O0FBSVQ7QUFBQyxDQXJERCxDQUEwQixpQ0FBMUI7O0FBQWEsb0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0xiOztBQUVBOztBQUVBOztBQUNBOztBQUlBO0FBQTRCOztBQW9DMUIsa0JBQVksSUFBWixFQUF3QixPQUF4QixFQUF5QyxRQUF6QyxFQUEyRCxFQUEzRCxFQUFzRTtBQUF0RSxnQkFDRSxrQkFBTSxJQUFOLEVBQVksUUFBWixFQUFzQixPQUF0QixFQUErQixFQUEvQixLQUFrQyxJQURwQzs7QUEvQlUsaUJBQU8sUUFBUDtBQUdGLG9CQUFVLG1CQUFtQix3QkFBUyxPQUFULEVBQTdCO0FBQ0Esb0JBQVUsbUJBQW1CLHdCQUFTLE9BQVQsRUFBN0I7QUFJQSx1QkFBc0IsS0FBdEI7QUF5Qk4sU0FBSSxDQUFDLFFBQUwsR0FBZ0IsSUFBSSxDQUFDLElBQUwsQ0FBVSxNQUFWLENBQWlCLFFBQWpCLENBQWhCOztBQUNBLFNBQUksQ0FBQyxRQUFMOzs7QUFDRDs7QUFuQmEsb0JBQWQsVUFDRSxRQURGLEVBRUUsRUFGRixFQUdtRCxJQUhuRCxFQUc2RDtRQURqRCxPQUFPLGE7UUFBWSxRQUFRLGM7UUFBTSxFQUFFLFE7QUFFN0MsV0FBTyxJQUFJLElBQUosQ0FBUyxJQUFULEVBQWUsT0FBZixFQUF3QixRQUF4QixFQUFrQyxFQUFsQyxDQUFQO0FBQ0QsR0FMYTs7QUF3QlAsbUNBQVA7QUFDRSxTQUFLLFFBQUwsQ0FBYyxRQUFkLENBQ0UsS0FBSyxLQUFMLENBQVcsS0FEYixFQUNvQix3QkFBUyxnQkFBVCxDQUEwQixJQUExQixDQURwQjtBQUVBLFNBQUssTUFBTDtBQUNELEdBSk07O0FBU0EsMkJBQVAsVUFBYSxLQUFiLEVBQWlDO0FBQy9CLHFCQUFNLEtBQU4sQ0FBVyxJQUFYLENBQVcsSUFBWCxFQUFZLEtBQVo7O0FBQ0EsNEJBQVMsS0FBVCxDQUFlLElBQWY7QUFDRCxHQUhNOztBQVFBLDJCQUFQO0FBQ0UscUJBQU0sS0FBTixDQUFXLElBQVgsQ0FBVyxJQUFYOztBQUNBLFNBQUssS0FBTCxDQUFXLEtBQVg7QUFDRCxHQUhNOztBQVFBLDZCQUFQO0FBQ0UscUJBQU0sT0FBTixDQUFhLElBQWIsQ0FBYSxJQUFiOztBQUNBLFNBQUssVUFBTDtBQUNELEdBSE07O0FBUUEsa0NBQVA7QUFDRSxxQkFBTSxZQUFOLENBQWtCLElBQWxCLENBQWtCLElBQWxCOztBQUNBLFFBQUksSUFBSSxHQUFHLEtBQUssSUFBaEI7QUFDQSxRQUFJLENBQUMsU0FBTCxDQUFlLEdBQWYsQ0FBbUIsOEJBQVksWUFBWixDQUFuQjtBQUNBLFNBQUssU0FBTCxHQUFpQixRQUFRLENBQUMsYUFBVCxDQUF1QixNQUF2QixDQUFqQjtBQUNBLFNBQUssU0FBTCxDQUFlLFlBQWYsQ0FBNEIsSUFBNUIsRUFBa0MsS0FBSyxPQUF2QztBQUNBLFNBQUssU0FBTCxDQUFlLFNBQWYsQ0FBeUIsR0FBekIsQ0FBNkIsOEJBQVksYUFBWixDQUE3QjtBQUNBLFNBQUssSUFBTCxDQUFVLFdBQVYsQ0FBc0IsS0FBSyxTQUEzQjtBQUNELEdBUk07O0FBYUEsa0NBQVA7QUFDRSxTQUFLLElBQUwsR0FBWSxRQUFRLENBQUMsYUFBVCxDQUF1QixNQUF2QixDQUFaO0FBQ0EsU0FBSyxTQUFMLEdBQWlCLFFBQVEsQ0FBQyxhQUFULENBQXVCLE1BQXZCLENBQWpCO0FBQ0EsU0FBSyxTQUFMLENBQWUsWUFBZixDQUE0QixJQUE1QixFQUFrQyxLQUFLLE9BQXZDO0FBQ0EsU0FBSyxTQUFMLENBQWUsV0FBZixDQUEyQixLQUFLLElBQUwsQ0FBVSxVQUFWLENBQXFCLENBQXJCLENBQTNCO0FBQ0EsU0FBSyxJQUFMLENBQVUsV0FBVixDQUFzQixLQUFLLFNBQTNCO0FBQ0EsU0FBSyxLQUFMLEdBQWEsUUFBUSxDQUFDLGFBQVQsQ0FBdUIsT0FBdkIsQ0FBYjtBQUNBLFNBQUssS0FBTCxDQUFXLFlBQVgsQ0FBd0IsTUFBeEIsRUFBZ0MsT0FBaEM7QUFDQSxTQUFLLEtBQUwsQ0FBVyxZQUFYLENBQXdCLEtBQXhCLEVBQStCLEdBQS9CO0FBQ0EsU0FBSyxLQUFMLENBQVcsWUFBWCxDQUF3QixLQUF4QixFQUErQixLQUEvQjtBQUNBLFNBQUssS0FBTCxDQUFXLFlBQVgsQ0FBd0IsZUFBeEIsRUFBeUMsR0FBekM7QUFDQSxTQUFLLEtBQUwsQ0FBVyxZQUFYLENBQXdCLGVBQXhCLEVBQXlDLEtBQXpDO0FBQ0EsU0FBSyxLQUFMLENBQVcsWUFBWCxDQUF3QixpQkFBeEIsRUFBMkMsS0FBSyxPQUFoRDtBQUNBLFNBQUssS0FBTCxDQUFXLGdCQUFYLENBQTRCLFNBQTVCLEVBQXVDLEtBQUssUUFBTCxDQUFjLElBQWQsQ0FBbUIsSUFBbkIsQ0FBdkM7QUFDQSxTQUFLLEtBQUwsQ0FBVyxnQkFBWCxDQUE0QixPQUE1QixFQUFxQyxLQUFLLGFBQUwsQ0FBbUIsSUFBbkIsQ0FBd0IsSUFBeEIsQ0FBckM7QUFDQSxTQUFLLEtBQUwsQ0FBVyxTQUFYLENBQXFCLEdBQXJCLENBQXlCLDhCQUFZLFdBQVosQ0FBekI7QUFDQSxTQUFLLElBQUwsQ0FBVSxXQUFWLENBQXNCLEtBQUssS0FBM0I7QUFDRCxHQWpCTTs7QUF3QkEsOEJBQVAsVUFBZ0IsTUFBaEIsRUFBcUM7QUFDbkMsU0FBSyxVQUFMLEdBQWtCLElBQWxCO0FBQ0QsR0FGTTs7QUFRQSwrQkFBUCxVQUFpQixLQUFqQixFQUFrQztBQUNoQyxTQUFLLENBQUMsZUFBTjtBQUNELEdBRk07O0FBUUEsNkJBQVAsVUFBZSxNQUFmLEVBQWlDO0FBRS9CLFNBQUssQ0FBQyxlQUFOO0FBQ0QsR0FITTs7QUFTQSw2QkFBUCxVQUFlLEtBQWYsRUFBbUM7QUFDakMsUUFBSSxJQUFJLEdBQUcsS0FBSyxDQUFDLE9BQWpCOztBQUNBLFFBQUksSUFBSSxLQUFLLHlCQUFJLEVBQWIsSUFBbUIsSUFBSSxLQUFLLHlCQUFJLElBQXBDLEVBQTBDO0FBQ3hDLFdBQUssQ0FBQyxjQUFOOztBQUNBLHVCQUFNLE9BQU4sQ0FBYSxJQUFiLENBQWEsSUFBYixFQUFjLEtBQWQ7O0FBQ0E7QUFDRDs7QUFDRCxRQUFJLEtBQUssVUFBTCxJQUNBLElBQUksS0FBSyx5QkFBSSxNQURiLElBQ3VCLElBQUksS0FBSyx5QkFBSSxNQUR4QyxFQUNnRDtBQUM5QyxXQUFLLFVBQUwsR0FBa0IsS0FBbEI7QUFDQSxXQUFLLENBQUMsZUFBTjtBQUNBO0FBQ0Q7O0FBQ0QscUJBQU0sT0FBTixDQUFhLElBQWIsQ0FBYSxJQUFiLEVBQWMsS0FBZDs7QUFDQSxTQUFLLENBQUMsZUFBTjtBQUNELEdBZk07O0FBb0JHLGdDQUFWO0FBQ0UsUUFBSSxLQUFLLEdBQUcsS0FBSyxRQUFMLENBQWMsUUFBZCxFQUFaOztBQUVBLFFBQUksS0FBSyxJQUFJLEtBQUssS0FBbEIsRUFBeUI7QUFDdkIsV0FBSyxLQUFMLENBQVcsWUFBWCxDQUF3QixlQUF4QixFQUF5QyxLQUF6QztBQUNBLFdBQUssS0FBTCxDQUFXLFlBQVgsQ0FBd0IsZ0JBQXhCLEVBQTBDLEtBQUssR0FBRyxHQUFsRDtBQUNEO0FBQ0YsR0FQUzs7QUFZQSxnQ0FBVjtBQUNFLFFBQUksU0FBSjs7QUFDQSxRQUFJO0FBQ0YsZUFBUyxHQUFHLEtBQUssUUFBTCxDQUFjLFFBQWQsQ0FBdUIsd0JBQVMsZ0JBQVQsQ0FBMEIsSUFBMUIsQ0FBdkIsQ0FBWjtBQUNBLFdBQUssU0FBTCxDQUFlLFNBQWYsR0FBMkIsU0FBUyxHQUFHLEdBQXZDO0FBQ0QsS0FIRCxDQUdFLE9BQU8sQ0FBUCxFQUFVO0FBQ1YsZUFBUyxHQUFHLEVBQVo7QUFDRDs7QUFDRCxTQUFLLEtBQUwsQ0FBVyxLQUFYLEdBQW1CLFNBQW5CO0FBQ0QsR0FUUzs7QUFjSCw0QkFBUDtBQUNFLFdBQU87QUFBQyxVQUFJLEVBQUU7QUFBUCxLQUFQO0FBRUQsR0FITTs7QUFLVDtBQUFDLENBL0xELENBQTRCLGdEQUE1Qjs7QUFBYSx3Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDVmI7O0FBRUE7O0FBSUE7QUFBNkI7O0FBc0MzQixtQkFBWSxJQUFaLEVBQXdCLE9BQXhCLEVBQXlDLEVBQXpDLEVBQW9EO0FBQXBELGdCQUNFLGtCQUFNLElBQU4sRUFBWSxTQUFaLEVBQXVCLE9BQXZCLEVBQWdDLEVBQWhDLEtBQW1DLElBRHJDOztBQTFCUSxxQkFBaUIsSUFBakI7O0FBNEJQOztBQXBCYSxxQkFBZCxVQUNFLE9BREYsRUFFRSxFQUZGLEVBRzRDLElBSDVDLEVBR3NEO1FBRDFDLE9BQU8sYTtRQUFRLE9BQU8sVTtRQUFNLEVBQUUsUTtBQUV4QyxRQUFNLElBQUksR0FBRyxJQUFJLElBQUosQ0FBUyxJQUFULEVBQWUsT0FBZixFQUF3QixFQUF4QixDQUFiO0FBQ0EsUUFBTSxFQUFFLEdBQUcsT0FBTyxDQUFDLEdBQVIsQ0FBWSxTQUFaLEVBQXVCLE9BQXZCLEVBQWdDLE9BQWhDLEVBQXlDLElBQXpDLENBQVg7QUFDQSxRQUFJLENBQUMsT0FBTCxHQUFlLEVBQWY7QUFDQSxXQUFPLElBQVA7QUFDRCxHQVJhOztBQTBCZCx3QkFBVyxpQkFBWCxFQUFXLFNBQVgsRUFBa0I7U0FRbEI7QUFDRSxhQUFPLEtBQUssUUFBWjtBQUNELEtBVmlCO1NBQWxCLGFBQW1CLElBQW5CLEVBQTZCO0FBQzNCLFdBQUssUUFBTCxHQUFnQixJQUFoQjtBQUNELEtBRmlCO3FCQUFBOztBQUFBLEdBQWxCOztBQWVPLGdDQUFQLFVBQWlCLEtBQWpCLEVBQWtDO0FBQ2hDLFNBQUssS0FBTDtBQUNBLFNBQUssSUFBTCxDQUFVLEtBQVY7QUFDRCxHQUhNOztBQVFBLCtCQUFQLFVBQWdCLEtBQWhCLEVBQWlDO0FBQy9CLFNBQUssSUFBTCxDQUFVLEtBQVY7QUFDRCxHQUZNOztBQU9BLDhCQUFQO0FBQ0UsUUFBSSxDQUFDLEtBQUssT0FBTCxDQUFhLFFBQWIsRUFBTCxFQUE4QjtBQUM1Qix1QkFBTSxPQUFOLENBQWEsSUFBYixDQUFhLElBQWI7O0FBQ0E7QUFDRDs7QUFDRCxRQUFJLEtBQUssSUFBTCxDQUFVLE9BQVYsS0FBc0IsSUFBMUIsRUFBZ0M7QUFDOUIsdUJBQU0sT0FBTixDQUFhLElBQWIsQ0FBYSxJQUFiOztBQUNBLFdBQUssSUFBTCxDQUFVLGNBQVY7QUFDQTtBQUNEOztBQUNELFNBQUssSUFBTCxDQUFVLFlBQVYsQ0FBdUIsVUFBdkIsRUFBbUMsSUFBbkM7QUFDQSxTQUFLLElBQUwsQ0FBVSxJQUFWO0FBQ0QsR0FaTTs7QUFpQkEsNEJBQVA7QUFDRSxxQkFBTSxLQUFOLENBQVcsSUFBWCxDQUFXLElBQVg7O0FBQ0EsUUFBSSxDQUFDLEtBQUssT0FBTCxDQUFhLFFBQWIsRUFBRCxJQUE0QixDQUFDLEtBQUssUUFBdEMsRUFBZ0Q7QUFDOUMsV0FBSyxPQUFMLENBQWEsSUFBYjtBQUNEO0FBRUYsR0FOTTs7QUFXQSxvQ0FBUDtBQUNFLFNBQUssT0FBTCxDQUFhLFFBQWIsS0FBMEIsS0FBSyxPQUFMLENBQWEsTUFBYixFQUExQixHQUFrRCxLQUFLLE9BQUwsQ0FBYSxJQUFiLEVBQWxEO0FBQ0QsR0FGTTs7QUFPQSxtQ0FBUDtBQUNFLHFCQUFNLFlBQU4sQ0FBa0IsSUFBbEIsQ0FBa0IsSUFBbEI7O0FBQ0EsUUFBSSxJQUFJLEdBQUcsS0FBSyxJQUFoQjtBQUNBLFNBQUssSUFBTCxHQUFZLFFBQVEsQ0FBQyxhQUFULENBQXVCLE1BQXZCLENBQVo7QUFDQSxTQUFLLElBQUwsQ0FBVSxXQUFWLEdBQXdCLFFBQXhCO0FBQ0EsU0FBSyxJQUFMLENBQVUsU0FBVixDQUFvQixHQUFwQixDQUF3Qiw4QkFBWSxXQUFaLENBQXhCO0FBQ0EsUUFBSSxDQUFDLFdBQUwsQ0FBaUIsS0FBSyxJQUF0QjtBQUNBLFFBQUksQ0FBQyxZQUFMLENBQWtCLGVBQWxCLEVBQW1DLE1BQW5DO0FBQ0QsR0FSTTs7QUFhQSwyQkFBUCxVQUFZLEtBQVosRUFBZ0M7QUFDOUIsUUFBSSxLQUFLLE9BQUwsQ0FBYSxRQUFiLEVBQUosRUFBNkI7QUFDM0IsV0FBSyxPQUFMLENBQWEsTUFBYjtBQUNELEtBRkQsTUFFTztBQUNMLHVCQUFNLElBQU4sQ0FBVSxJQUFWLENBQVUsSUFBVixFQUFXLEtBQVg7QUFDRDtBQUNGLEdBTk07O0FBV0EsNEJBQVAsVUFBYSxLQUFiLEVBQWlDO0FBQy9CLFFBQUksQ0FBQyxLQUFLLE9BQUwsQ0FBYSxRQUFiLEVBQUwsRUFBOEI7QUFDNUIsV0FBSyxPQUFMLENBQWEsSUFBYjtBQUNELEtBRkQsTUFFTztBQUNMLFdBQUssT0FBTCxDQUFhLElBQWIsQ0FBa0IsS0FBbEI7QUFDRDtBQUNGLEdBTk07O0FBV0EsNkJBQVA7QUFDRSxXQUFPO0FBQUMsVUFBSSxFQUFFO0FBQVAsS0FBUDtBQUVELEdBSE07O0FBS1Q7QUFBQyxDQXZKRCxDQUE2QiwrQkFBN0I7O0FBQWEsMEI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0RiLElBQVksR0FBWjs7QUFBQSxXQUFZLEdBQVosRUFBZTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0QsQ0FSRCxFQUFZLEdBQUcsR0FBSCw4QkFBRyxFQUFILENBQVosRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDTEE7O0FBTUE7QUFBMEM7O0FBQTFDOztBQStFQzs7QUE1RFEsd0NBQVAsVUFBcUIsVUFBckIsRUFBeUQ7QUFDdkQsU0FBSyxJQUFJLElBQVQsSUFBaUIsVUFBakIsRUFBNkI7QUFDM0IsV0FBSyxJQUFMLENBQVUsWUFBVixDQUF1QixJQUF2QixFQUE2QixVQUFVLENBQUMsSUFBRCxDQUF2QztBQUNEO0FBQ0YsR0FKTTs7QUFTUCx3QkFBVyxxQkFBWCxFQUFXLE1BQVgsRUFBZTtTQUFmO0FBQ0UsVUFBSSxDQUFDLEtBQUssS0FBVixFQUFpQjtBQUNmLGFBQUssWUFBTDtBQUNEOztBQUNELGFBQU8sS0FBSyxLQUFaO0FBQ0QsS0FMYztTQVVmLGFBQWdCLElBQWhCLEVBQWlDO0FBQy9CLFdBQUssS0FBTCxHQUFhLElBQWI7QUFDQSxXQUFLLFNBQUwsQ0FBZSxJQUFmO0FBQ0QsS0FiYztxQkFBQTs7QUFBQSxHQUFmOztBQWtCTyx1Q0FBUDtBQUVFLFFBQUksSUFBSSxHQUFHLFFBQVEsQ0FBQyxhQUFULENBQXVCLEtBQXZCLENBQVg7QUFDQSxRQUFJLENBQUMsU0FBTCxDQUFlLEdBQWYsQ0FBbUIsS0FBSyxTQUF4QjtBQUNBLFFBQUksQ0FBQyxZQUFMLENBQWtCLE1BQWxCLEVBQTBCLEtBQUssSUFBL0I7QUFDQSxTQUFLLElBQUwsR0FBWSxJQUFaO0FBQ0QsR0FOTTs7QUFXQSxnQ0FBUDtBQUNFLFFBQUksSUFBSSxHQUFHLEtBQUssSUFBaEI7QUFDQSxRQUFJLENBQUMsWUFBTCxDQUFrQixVQUFsQixFQUE4QixHQUE5QjtBQUNBLFFBQUksQ0FBQyxLQUFMO0FBQ0QsR0FKTTs7QUFTQSxrQ0FBUDtBQUNFLFFBQUksSUFBSSxHQUFHLEtBQUssSUFBaEI7O0FBQ0EsUUFBSSxJQUFJLENBQUMsWUFBTCxDQUFrQixVQUFsQixDQUFKLEVBQW1DO0FBQ2pDLFVBQUksQ0FBQyxZQUFMLENBQWtCLFVBQWxCLEVBQThCLElBQTlCO0FBQ0Q7O0FBQ0QsUUFBSTtBQUNGLFVBQUksQ0FBQyxJQUFMO0FBQ0QsS0FGRCxDQUVFLE9BQU8sQ0FBUCxFQUFVLENBRVg7O0FBQ0QsUUFBSSxDQUFDLElBQUw7QUFDRCxHQVhNOztBQWFUO0FBQUMsQ0EvRUQsQ0FBMEMsNkNBQTFDOztBQUFzQixrQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDTHRCOztBQUNBOztBQUNBOztBQUlBO0FBb0JFLHFCQUFvQixJQUFwQixFQUFxQztBQUFqQjtBQWJWLGlCQUF1QixFQUF2QjtBQUVGLG1CQUF1QixJQUF2QjtBQUNBLG1CQUFrQixDQUFsQjtBQUNBLHlCQUF3Qiw4QkFBWSxVQUFaLElBQTBCLEdBQTFCLEdBQzlCLHdCQUFTLE9BQVQsRUFETTtBQUVBLG9CQUFXLElBQVg7QUFDQSxtQkFBMkMsRUFBM0M7QUFNa0M7O0FBTTFDLHdCQUFXLG1CQUFYLEVBQVcsUUFBWCxFQUFpQjtTQWFqQjtBQUNFLGFBQU8sS0FBSyxPQUFaO0FBQ0QsS0FmZ0I7U0FBakIsYUFBa0IsT0FBbEIsRUFBc0M7QUFDcEMsU0FBRztBQUNELFlBQUksS0FBSyxLQUFMLENBQVcsT0FBWCxDQUFtQixPQUFuQixNQUFnQyxDQUFDLENBQXJDLEVBQXdDO0FBQ3RDLGVBQUssT0FBTCxHQUFlLE9BQWY7QUFDQTtBQUNEOztBQUNELGVBQU8sR0FBZ0IsT0FBTyxDQUFDLFVBQS9CO0FBQ0QsT0FORCxRQU1TLE9BTlQ7QUFPRCxLQVJnQjtxQkFBQTs7QUFBQSxHQUFqQjs7QUF1Qk8sNkJBQVA7QUFDRSxRQUFJLE1BQU0sR0FBRyxLQUFLLEtBQUwsQ0FBVyxNQUF4Qjs7QUFDQSxRQUFJLE1BQU0sS0FBSyxDQUFmLEVBQWtCO0FBQ2hCLFdBQUssTUFBTCxHQUFjLElBQWQ7QUFDQSxhQUFPLElBQVA7QUFDRDs7QUFDRCxRQUFJLEtBQUssR0FBRyxLQUFLLEtBQUwsQ0FBVyxPQUFYLENBQW1CLEtBQUssTUFBeEIsQ0FBWjtBQUNBLFNBQUssR0FBRyxLQUFLLEtBQUssQ0FBQyxDQUFYLEdBQWUsQ0FBZixHQUFvQixLQUFLLEdBQUcsTUFBTSxHQUFHLENBQWpCLEdBQXFCLEtBQUssR0FBRyxDQUE3QixHQUFpQyxDQUE3RDtBQUNBLFNBQUssTUFBTCxHQUFjLEtBQUssS0FBTCxDQUFXLEtBQVgsQ0FBZDtBQUNBLFdBQU8sS0FBSyxNQUFaO0FBQ0QsR0FWTTs7QUFrQkEsaUNBQVA7QUFDRSxRQUFJLE1BQU0sR0FBRyxLQUFLLEtBQUwsQ0FBVyxNQUF4Qjs7QUFDQSxRQUFJLE1BQU0sS0FBSyxDQUFmLEVBQWtCO0FBQ2hCLFdBQUssTUFBTCxHQUFjLElBQWQ7QUFDQSxhQUFPLElBQVA7QUFDRDs7QUFDRCxRQUFJLElBQUksR0FBRyxNQUFNLEdBQUcsQ0FBcEI7QUFDQSxRQUFJLEtBQUssR0FBRyxLQUFLLEtBQUwsQ0FBVyxPQUFYLENBQW1CLEtBQUssTUFBeEIsQ0FBWjtBQUNBLFNBQUssR0FBRyxLQUFLLEtBQUssQ0FBQyxDQUFYLEdBQWUsSUFBZixHQUF1QixLQUFLLEtBQUssQ0FBVixHQUFjLElBQWQsR0FBcUIsS0FBSyxHQUFHLENBQTVEO0FBQ0EsU0FBSyxNQUFMLEdBQWMsS0FBSyxLQUFMLENBQVcsS0FBWCxDQUFkO0FBQ0EsV0FBTyxLQUFLLE1BQVo7QUFDRCxHQVhNOztBQWdCQSw4QkFBUDtBQUNFLFNBQUssTUFBTCxDQUFZLEtBQUssS0FBakI7QUFDRCxHQUZNOztBQXdCQSwrQkFBUCxVQUFjLGFBQWQsRUFBZ0M7OztBQUM5QixRQUFJLFFBQVEsR0FBRyxhQUFhLFlBQVksV0FBekIsR0FDYixDQUFDLGFBQUQsQ0FEYSxHQUNLLGFBRHBCOzs7QUFFQSxXQUFvQixxQ0FBUSxnQ0FBNUIsRUFBNEIsa0JBQTVCLEVBQTRCLGdDQUE1QixFQUE4QjtBQUF6QixZQUFJLE9BQU8scUJBQVg7QUFDSCxhQUFLLGFBQUwsQ0FBbUIsT0FBbkI7QUFDRDs7Ozs7Ozs7Ozs7OztBQUNELFNBQUssSUFBTDtBQUNELEdBUE07O0FBNkJBLCtCQUFQLFVBQWMsYUFBZCxFQUFnQzs7O0FBQzlCLFFBQUksUUFBUSxHQUFHLGFBQWEsWUFBWSxXQUF6QixHQUNiLENBQUMsYUFBRCxDQURhLEdBQ0ssYUFEcEI7OztBQUVBLFdBQW9CLHFDQUFRLGdDQUE1QixFQUE0QixrQkFBNUIsRUFBNEIsZ0NBQTVCLEVBQThCO0FBQXpCLFlBQUksT0FBTyxxQkFBWDtBQUNILGFBQUssYUFBTCxDQUFtQixPQUFuQjtBQUNEOzs7Ozs7Ozs7Ozs7O0FBQ0QsU0FBSyxJQUFMO0FBQ0QsR0FQTTs7QUFhQSxtQ0FBUCxVQUFrQixJQUFsQixFQUErQjtBQUM3QixRQUFJLEtBQUssUUFBTCxJQUFpQixDQUFDLElBQXRCLEVBQTRCO0FBQzFCLFdBQUssY0FBTDtBQUNEOztBQUNELFFBQUksQ0FBQyxLQUFLLFFBQU4sSUFBa0IsSUFBdEIsRUFBNEI7QUFDMUIsV0FBSyxjQUFMO0FBQ0Q7O0FBQ0QsU0FBSyxRQUFMLEdBQWdCLElBQWhCO0FBQ0QsR0FSTTs7QUFhQSx1Q0FBUDtBQUNFLFFBQUksS0FBSyxRQUFULEVBQW1CO0FBQ2pCLFdBQUssZUFBTDtBQUNEO0FBQ0YsR0FKTTs7QUFTQSx1Q0FBUDtBQUNFLFFBQUksS0FBSyxRQUFULEVBQW1CO0FBQ2pCLFdBQUssZUFBTDtBQUNEO0FBQ0YsR0FKTTs7QUFVQyxzQ0FBUixVQUFzQixPQUF0QixFQUEwQztBQUN4QyxRQUFJLE9BQU8sQ0FBQyxTQUFSLENBQWtCLFFBQWxCLENBQTJCLEtBQUssYUFBaEMsQ0FBSixFQUFvRDtBQUNsRDtBQUNEOztBQUNELFdBQU8sQ0FBQyxTQUFSLENBQWtCLEdBQWxCLENBQXNCLEtBQUssYUFBM0I7O0FBQ0EsUUFBSSxLQUFLLFFBQVQsRUFBbUI7QUFDakIsV0FBSyxXQUFMLENBQWlCLE9BQWpCO0FBQ0Q7O0FBQ0QsU0FBSyxTQUFMLENBQWUsT0FBZjtBQUNELEdBVE87O0FBZ0JBLHNDQUFSLFVBQXNCLE9BQXRCLEVBQTBDO0FBQ3hDLFFBQUksQ0FBQyxPQUFPLENBQUMsU0FBUixDQUFrQixRQUFsQixDQUEyQixLQUFLLGFBQWhDLENBQUwsRUFBcUQ7QUFDbkQ7QUFDRDs7QUFDRCxXQUFPLENBQUMsU0FBUixDQUFrQixNQUFsQixDQUF5QixLQUFLLGFBQTlCOztBQUNBLFFBQUksS0FBSyxRQUFULEVBQW1CO0FBQ2pCLFdBQUssY0FBTCxDQUFvQixPQUFwQjtBQUNEOztBQUNELFNBQUssWUFBTCxDQUFrQixPQUFsQjtBQUNELEdBVE87O0FBY0EsNkJBQVI7QUFDRSxRQUFJLEtBQUssR0FBRyxRQUFRLENBQUMsc0JBQVQsQ0FBZ0MsS0FBSyxhQUFyQyxDQUFaO0FBQ0EsU0FBSyxLQUFMLEdBQWEsR0FBRyxLQUFILENBQVMsSUFBVCxDQUFjLEtBQWQsQ0FBYjtBQUNELEdBSE87O0FBUUEsd0NBQVI7QUFDRSxTQUFLLEtBQUwsQ0FBVyxPQUFYLENBQW1CLGFBQUM7QUFBSSxjQUFDLENBQUMsWUFBRixDQUFlLFVBQWY7QUFBK0IsS0FBdkQ7QUFDRCxHQUZPOztBQU9BLHdDQUFSO0FBQ0UsU0FBSyxLQUFMLENBQVcsT0FBWCxDQUFtQixhQUFDO0FBQUksY0FBQyxDQUFDLFlBQUYsQ0FBZSxVQUFmO0FBQWdDLEtBQXhEO0FBQ0QsR0FGTzs7QUFRQSxvQ0FBUixVQUFvQixPQUFwQixFQUF3QztBQUN0QyxRQUFJLE9BQU8sQ0FBQyxZQUFSLENBQXFCLFVBQXJCLENBQUosRUFBc0M7QUFDcEMsYUFBTyxDQUFDLFlBQVIsQ0FBcUIsNEJBQVUsUUFBVixDQUFyQixFQUNxQixPQUFPLENBQUMsWUFBUixDQUFxQixVQUFyQixDQURyQjtBQUVEOztBQUNELFdBQU8sQ0FBQyxZQUFSLENBQXFCLFVBQXJCLEVBQWlDLEdBQWpDO0FBQ0QsR0FOTzs7QUFZQSx1Q0FBUixVQUF1QixPQUF2QixFQUEyQztBQUN6QyxRQUFJLE9BQU8sQ0FBQyxZQUFSLENBQXFCLDRCQUFVLFFBQVYsQ0FBckIsQ0FBSixFQUErQztBQUM3QyxhQUFPLENBQUMsWUFBUixDQUFxQixVQUFyQixFQUNxQixPQUFPLENBQUMsWUFBUixDQUFxQiw0QkFBVSxRQUFWLENBQXJCLENBRHJCO0FBRUEsYUFBTyxDQUFDLGVBQVIsQ0FBd0IsNEJBQVUsUUFBVixDQUF4QjtBQUNELEtBSkQsTUFJTztBQUNMLGFBQU8sQ0FBQyxlQUFSLENBQXdCLFVBQXhCO0FBQ0Q7QUFDRixHQVJPOztBQXNCQSxrQ0FBUixVQUFrQixPQUFsQixFQUFzQztBQUNwQyxRQUFJLE9BQU8sQ0FBQyxZQUFSLENBQXFCLDRCQUFVLFNBQVYsQ0FBckIsQ0FBSixFQUFnRDtBQUM5QztBQUNEOztBQUNELFNBQUssUUFBTCxDQUFjLE9BQWQsRUFBdUIsYUFBdkIsRUFBc0MsS0FBSyxJQUFMLENBQVUsSUFBVixDQUFlLElBQWYsQ0FBb0IsS0FBSyxJQUF6QixDQUF0QztBQUNBLFNBQUssUUFBTCxDQUFjLE9BQWQsRUFBdUIsU0FBdkIsRUFBa0MsS0FBSyxPQUFMLENBQWEsSUFBYixDQUFrQixJQUFsQixDQUFsQztBQUNBLFdBQU8sQ0FBQyxZQUFSLENBQXFCLDRCQUFVLFNBQVYsQ0FBckIsRUFBMkMsS0FBSyxPQUFMLENBQWEsUUFBYixFQUEzQztBQUNBLFNBQUssT0FBTDtBQUNELEdBUk87O0FBZ0JBLGlDQUFSLFVBQWlCLE9BQWpCLEVBQXVDLElBQXZDLEVBQXFELElBQXJELEVBQXdFO0FBQ3RFLFFBQUksUUFBUSxHQUFHLDRCQUFVLElBQUksQ0FBQyxXQUFMLEtBQXFCLE1BQS9CLENBQWY7QUFDQSxTQUFLLE9BQUwsQ0FBYSxRQUFRLEdBQUcsS0FBSyxPQUE3QixJQUF3QyxJQUF4QztBQUNBLFdBQU8sQ0FBQyxnQkFBUixDQUF5QixJQUF6QixFQUErQixJQUEvQjtBQUNELEdBSk87O0FBVUEscUNBQVIsVUFBcUIsT0FBckIsRUFBeUM7QUFDdkMsUUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFSLENBQXFCLDRCQUFVLFNBQVYsQ0FBckIsQ0FBTCxFQUFpRDtBQUMvQztBQUNEOztBQUNELFFBQUksT0FBTyxHQUFHLE9BQU8sQ0FBQyxZQUFSLENBQXFCLDRCQUFVLFNBQVYsQ0FBckIsQ0FBZDtBQUNBLFNBQUssV0FBTCxDQUFpQixPQUFqQixFQUEwQixhQUExQixFQUF5QyxPQUF6QztBQUNBLFNBQUssV0FBTCxDQUFpQixPQUFqQixFQUEwQixTQUExQixFQUFxQyxPQUFyQztBQUNBLFdBQU8sQ0FBQyxlQUFSLENBQXdCLDRCQUFVLFNBQVYsQ0FBeEI7QUFDRCxHQVJPOztBQWlCQSxvQ0FBUixVQUFvQixPQUFwQixFQUEwQyxJQUExQyxFQUF3RCxPQUF4RCxFQUF1RTtBQUNyRSxRQUFJLFFBQVEsR0FBRyw0QkFBVSxJQUFJLENBQUMsV0FBTCxLQUFxQixNQUEvQixDQUFmO0FBQ0EsUUFBSSxRQUFRLEdBQUcsS0FBSyxPQUFMLENBQWEsUUFBUSxHQUFHLE9BQXhCLENBQWY7QUFDQSxXQUFPLENBQUMsbUJBQVIsQ0FBNEIsSUFBNUIsRUFBa0MsUUFBbEM7QUFDRCxHQUpPOztBQVVBLGdDQUFSLFVBQWdCLEtBQWhCLEVBQW9DO0FBQ2xDLFFBQUksS0FBSyxDQUFDLE9BQU4sS0FBa0IseUJBQUksS0FBMUIsRUFBaUM7QUFDL0IsV0FBSyxJQUFMLENBQVUsSUFBVixDQUFlLEtBQWY7QUFDQSxXQUFLLENBQUMsY0FBTjtBQUNBLFdBQUssQ0FBQyx3QkFBTjtBQUNEO0FBQ0YsR0FOTzs7QUFRVjtBQUFDLENBelVEOztBQUFhLDhCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNDYixJQUFpQixRQUFqQjs7QUFBQSxXQUFpQixRQUFqQixFQUF5QjtBQU12QixXQUFnQixLQUFoQixDQUFzQixJQUF0QixFQUFnQztBQUM5QixRQUFJLElBQUksR0FBRyxJQUFJLENBQUMsSUFBaEI7O0FBRUEsUUFBSSxJQUFJLENBQUMsUUFBVCxFQUFtQjtBQUNqQixVQUFJLENBQUMsUUFBTCxDQUFjLE1BQWQ7QUFDRCxLQUZELE1BRU87QUFDTCxVQUFJLENBQUMsTUFBTDtBQUNEO0FBQ0Y7O0FBUmUsbUJBQUssS0FBTDs7QUFlaEIsV0FBZ0IsZ0JBQWhCLENBQWlDLElBQWpDLEVBQTJDO0FBQ3pDLFFBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFoQjtBQUNBLFFBQUksUUFBUSxHQUFJLElBQUksQ0FBQyxRQUFMLEdBQWdCLElBQUksQ0FBQyxRQUFyQixHQUFnQyxJQUFoRDtBQUNBLFdBQU8sUUFBUSxDQUFDLEtBQVQsQ0FBZSxNQUF0QjtBQUNEOztBQUplLDhCQUFnQixnQkFBaEI7O0FBV2hCLFdBQWdCLEtBQWhCLENBQXNCLE1BQXRCLEVBQXFDLEdBQXJDLEVBQWdEO0FBQzlDLFdBQU8sQ0FBQyxLQUFSLENBQWMsd0JBQXdCLEdBQXRDO0FBQ0Q7O0FBRmUsbUJBQUssS0FBTDs7QUFPaEIsV0FBZ0IsT0FBaEIsR0FBdUI7QUFDckIsV0FBTyxLQUFLLEVBQVo7QUFDRDs7QUFGZSxxQkFBTyxPQUFQO0FBR2hCLE1BQUksS0FBSyxHQUFHLENBQVo7QUFFRCxDQTVDRCxFQUFpQixRQUFRLEdBQVIsd0NBQVEsRUFBUixDQUFqQixFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNGYSxnQkFBUTtBQUNuQixPQUFLLEVBQUUsT0FEWTtBQUVuQixVQUFRLEVBQUUsVUFGUztBQUduQixNQUFJLEVBQUUsV0FIYTtBQUluQixJQUFFLEVBQUUsU0FKZTtBQUtuQixNQUFJLEVBQUUsV0FMYTtBQU1uQixLQUFHLEVBQUUsVUFOYztBQU9uQixNQUFJLEVBQUUsV0FQYTtBQVFuQixXQUFTLEVBQUUsV0FSUTtBQVNuQixhQUFXLEVBQUU7QUFUTSxDQUFSLEM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0xiOztBQUVBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUVBOztBQUNBOztBQUNBOztBQUNBOztBQUdBO0FBaUNFLGtCQUFZLElBQVosRUFBOEM7QUFBOUM7O0FBQVk7QUFBQTtBQUFrQzs7QUEvQnRDLHFCQUFxQyxDQUMzQyxDQUFDLFNBQUQsRUFBWSwwQkFBUSxRQUFSLENBQWlCLElBQWpCLENBQXNCLHlCQUF0QixDQUFaLENBRDJDLEVBRTNDLENBQUMsVUFBRCxFQUFhLDRCQUFTLFFBQVQsQ0FBa0IsSUFBbEIsQ0FBdUIsMkJBQXZCLENBQWIsQ0FGMkMsRUFHM0MsQ0FBQyxPQUFELEVBQVUsc0JBQU0sUUFBTixDQUFlLElBQWYsQ0FBb0IscUJBQXBCLENBQVYsQ0FIMkMsRUFJM0MsQ0FBQyxRQUFELEVBQVcsd0JBQU8sUUFBUCxDQUFnQixJQUFoQixDQUFxQix1QkFBckIsQ0FBWCxDQUoyQyxFQUszQyxDQUFDLE9BQUQsRUFBVSxzQkFBTSxRQUFOLENBQWUsSUFBZixDQUFvQixxQkFBcEIsQ0FBVixDQUwyQyxFQU0zQyxDQUFDLE9BQUQsRUFBVSxzQkFBTSxRQUFOLENBQWUsSUFBZixDQUFvQixxQkFBcEIsQ0FBVixDQU4yQyxFQU8zQyxDQUFDLE1BQUQsRUFBUyxvQkFBSyxRQUFMLENBQWMsSUFBZCxDQUFtQixtQkFBbkIsQ0FBVCxDQVAyQyxFQVEzQyxDQUFDLFNBQUQsRUFBWSwwQkFBUSxRQUFSLENBQWlCLElBQWpCLENBQXNCLHlCQUF0QixDQUFaLENBUjJDLEVBUzNDLENBQUMsYUFBRCxFQUFnQiw4QkFBWSxRQUFaLENBQXFCLElBQXJCLENBQTBCLDZCQUExQixDQUFoQixDQVQyQyxFQVUzQyxDQUFDLFNBQUQsRUFBWSxzQkFBUSxRQUFSLENBQWlCLElBQWpCLENBQXNCLHFCQUF0QixDQUFaLENBVjJDLEVBVzNDLENBQUMsVUFBRCxFQUFhLHVCQUFTLFFBQVQsQ0FBa0IsSUFBbEIsQ0FBdUIsc0JBQXZCLENBQWIsQ0FYMkMsRUFZM0MsQ0FBQyxPQUFELEVBQVUsS0FBSyxLQUFMLENBQVcsSUFBWCxDQUFnQixJQUFoQixDQUFWLENBWjJDLEVBYTNDLENBQUMsZUFBRCxFQUFrQixpQ0FBYyxRQUFkLENBQXVCLElBQXZCLENBQTRCLGdDQUE1QixDQUFsQixDQWIyQyxFQWMzQyxDQUFDLGNBQUQsRUFBaUIsZ0NBQWEsUUFBYixDQUFzQixJQUF0QixDQUEyQiwrQkFBM0IsQ0FBakIsQ0FkMkMsQ0FBckM7QUF1QlMsb0JBQTBCLElBQUksaUNBQUosQ0FBa0IsS0FBSyxTQUF2QixDQUExQjtBQVNmLFFBQUksQ0FBQyxPQUFMLENBQWEsVUFBQyxFQUFELEVBQU87VUFBTixrQjtVQUFDLENBQUMsUTtVQUFFLENBQUMsUTs7QUFBTSxrQkFBSSxDQUFDLE9BQUwsQ0FBYSxHQUFiLENBQWlCLENBQWpCLEVBQW9CLENBQXBCO0FBQXNCLEtBQS9DO0FBQ0Q7O0FBS0Qsd0JBQVcsZ0JBQVgsRUFBVyxTQUFYLEVBQWtCO1NBQWxCO0FBQ0UsYUFBTyxLQUFLLFFBQVo7QUFDRCxLQUZpQjtxQkFBQTs7QUFBQSxHQUFsQjs7QUFRTywyQkFBUCxVQUFhLFFBQWIsRUFBc0MsR0FBdEMsRUFBa0QsSUFBbEQsRUFBNEQ7OztBQUMxRCxRQUFJLE1BQU0sR0FBRyxFQUFiOzs7QUFDQSxXQUFpQiwyQkFBRyxzQkFBcEIsRUFBb0IsYUFBcEIsRUFBb0Isc0JBQXBCLEVBQXNCO0FBQWpCLFlBQUksSUFBSSxnQkFBUjtBQUNILFlBQUksS0FBSyxHQUFHLEtBQUssS0FBTCxDQUFXLElBQVgsRUFBaUIsSUFBakIsQ0FBWjs7QUFDQSxZQUFJLENBQUMsS0FBTCxFQUFZO0FBQ1Y7QUFDRDs7QUFDRCxZQUFJLENBQUMsS0FBTCxDQUFXLElBQVgsQ0FBZ0IsS0FBaEI7O0FBQ0EsWUFBSSxJQUFJLENBQUMsUUFBVCxFQUFtQjtBQUNqQixlQUFLLENBQUMsT0FBTjtBQUNEOztBQUNELFlBQUksSUFBSSxDQUFDLE1BQVQsRUFBaUI7QUFDZixnQkFBTSxDQUFDLElBQVAsQ0FBWSxLQUFaO0FBQ0Q7QUFDRjs7Ozs7Ozs7Ozs7OztBQUNELFVBQU0sQ0FBQyxPQUFQLENBQWUsYUFBQztBQUFJLGNBQUMsQ0FBRDtBQUFRLEtBQTVCO0FBQ0EsV0FBTyxJQUFJLENBQUMsS0FBWjtBQUNELEdBakJNOztBQXlCQSwyQkFBUCxVQUFhLEVBQWIsRUFDNkM7QUFBRTs7U0FBQSxVLEVBQUEscUIsRUFBQSxJLEVBQWM7QUFBZDs7O0FBRGpDLFFBQU0sSUFBSSxVQUFWO0FBQUEsUUFBZSxJQUFJLGNBQXBCLFFBQW9CLENBQW5COztBQUVaLFFBQUksSUFBSSxHQUFHLEtBQUssT0FBTCxDQUFhLEdBQWIsQ0FBaUIsSUFBakIsQ0FBWDtBQUNBLFdBQU8sSUFBSSxHQUFHLElBQUksTUFBSixDQUFJLE1BQUosRUFBSSxVQUFDLEtBQUssT0FBTixFQUFlLElBQWYsR0FBd0IsSUFBeEIsQ0FBSixDQUFILEdBQXVDLElBQWxEO0FBQ0QsR0FKTTs7QUFNVDtBQUFDLENBL0VEOztBQUFhLHdCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDZGI7QUFRRSx5QkFBWSxJQUFaLEVBQXlDO0FBQ3ZDLFNBQUssT0FBTCxHQUFlLElBQUksR0FBSixDQUE2QixJQUE3QixDQUFmO0FBQ0Q7O0FBT00sZ0NBQVAsVUFBVyxJQUFYLEVBQXVCO0FBQ3JCLFdBQU8sS0FBSyxPQUFMLENBQWEsR0FBYixDQUFpQixJQUFqQixDQUFQO0FBQ0QsR0FGTTs7QUFTQSxnQ0FBUCxVQUFXLElBQVgsRUFBeUIsTUFBekIsRUFBNEM7QUFDMUMsU0FBSyxPQUFMLENBQWEsR0FBYixDQUFpQixJQUFqQixFQUF1QixNQUF2QjtBQUNELEdBRk07O0FBSVQ7QUFBQyxDQTlCRDs7QUFBYSxzQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDRmI7O0FBR0E7QUFBMkI7O0FBa0R6QixpQkFBb0IsS0FBcEIsRUFBbUMsT0FBbkMsRUFBb0Q7QUFBcEQsZ0JBQ0UscUJBQU8sSUFEVDs7QUFBb0I7QUE3QlosbUJBQWlCLElBQWpCO0FBRUEsMEJBQW1EO0FBQ3pELFVBQUksRUFBRSxJQUFJLENBQUMsS0FBTCxDQUFXLENBQUMsTUFBTSxDQUFDLEtBQVAsR0FBZSxHQUFoQixJQUF1QixDQUFsQyxDQURtRDtBQUV6RCxTQUFHLEVBQUcsSUFBSSxDQUFDLEtBQUwsQ0FBVyxDQUFDLE1BQU0sQ0FBQyxNQUFQLEdBQWdCLEdBQWpCLElBQXdCLENBQW5DO0FBRm1ELEtBQW5EO0FBU0EsdUJBQXVCLEVBQXZCO0FBRUEsdUJBQWEsS0FBYjtBQUNBLG1CQUFzQixJQUF0Qjs7QUFpQk4sU0FBSSxDQUFDLE9BQUwsR0FBZSxPQUFPLElBQUk7QUFBYSxhQUFPLEVBQVA7QUFBWSxLQUFuRDs7O0FBQ0Q7O0FBWmEsbUJBQWQsYUFDQyxDQURhOztBQWtCUCwrQkFBUCxVQUFrQixJQUFsQixFQUFtQztBQUNqQyxTQUFLLElBQUwsR0FBWSxJQUFaO0FBQ0QsR0FGTTs7QUFPQSx5QkFBUDtBQUNFLFNBQUssT0FBTDtBQUNELEdBRk07O0FBT0csNEJBQVY7QUFDRSxTQUFLLE1BQUwsR0FBYyxLQUFLLElBQUwsQ0FBVSxLQUFWLENBQWdCLE1BQTlCO0FBQ0EsUUFBSSxRQUFRLEdBQWEsRUFBekI7O0FBQ0EsU0FBSyxJQUFJLE9BQVQsSUFBb0IsS0FBSyxDQUFDLGFBQTFCLEVBQXlDO0FBQ3ZDLGNBQVEsQ0FBQyxJQUFULENBQWMsT0FBTyxHQUFHLEdBQVYsR0FBZ0IsS0FBSyxDQUFDLGFBQU4sQ0FBb0IsT0FBcEIsQ0FBOUI7QUFDRDs7QUFDRCxTQUFLLElBQUksT0FBVCxJQUFvQixLQUFLLGFBQXpCLEVBQXdDO0FBQ3RDLGNBQVEsQ0FBQyxJQUFULENBQWMsT0FBTyxHQUFHLEdBQVYsR0FBZ0IsS0FBSyxhQUFMLENBQW1CLE9BQW5CLENBQTlCO0FBQ0Q7O0FBQ0QsU0FBSyxNQUFMLEdBQWMsTUFBTSxDQUFDLElBQVAsQ0FBWSxFQUFaLEVBQWdCLFFBQWhCLEVBQTBCLFFBQVEsQ0FBQyxJQUFULENBQWMsR0FBZCxDQUExQixDQUFkO0FBQ0EsU0FBSyxVQUFMLENBQWdCLElBQWhCLENBQXFCLEtBQUssTUFBMUI7QUFDQSxRQUFJLEdBQUcsR0FBRyxLQUFLLE1BQUwsQ0FBWSxRQUF0Qjs7QUFDQSxRQUFJLEtBQUssVUFBVCxFQUFxQjtBQUNuQixTQUFHLENBQUMsSUFBSjtBQUNBLFNBQUcsQ0FBQyxLQUFKLENBQVUsdUNBQ0EsMkRBREEsR0FFQSxLQUFLLEtBRkwsR0FHQSw2Q0FIVjtBQUlBLFNBQUcsQ0FBQyxLQUFKLENBQVUsVUFBVSxLQUFLLGVBQUwsRUFBVixHQUFtQyxRQUE3QztBQUNBLFNBQUcsQ0FBQyxLQUFKLENBQVUscUNBRUEsT0FGQSxHQUVVLCtCQUZwQjtBQUdBLFNBQUcsQ0FBQyxLQUFKLENBQVUsZ0JBQVY7QUFDQSxTQUFHLENBQUMsS0FBSjtBQUNELEtBWkQsTUFZTztBQUNMLFNBQUcsQ0FBQyxJQUFKO0FBQ0EsU0FBRyxDQUFDLEtBQUosQ0FBVSx3QkFBd0IsS0FBSyxLQUE3QixHQUNBLDZDQURWO0FBRUEsU0FBRyxDQUFDLEtBQUosQ0FBVSx5QkFBeUIsS0FBSyxlQUFMLEVBQXpCLEdBQ0EsMEJBRFY7QUFFQSxTQUFHLENBQUMsS0FBSixDQUFVLGdCQUFWO0FBQ0EsU0FBRyxDQUFDLEtBQUo7QUFDQSxnQkFBVSxDQUFDLEtBQUssTUFBTCxDQUFZLElBQVosQ0FBaUIsSUFBakIsQ0FBRCxFQUF5QixFQUF6QixDQUFWO0FBQ0Q7QUFDRixHQWxDUzs7QUF1Q0gsMkJBQVA7QUFDRSxTQUFLLFVBQUwsQ0FBZ0IsT0FBaEIsQ0FBd0IsYUFBQztBQUFJLGNBQUMsQ0FBRDtBQUFTLEtBQXRDO0FBQ0EsU0FBSyxNQUFMLEdBQWMsSUFBZDtBQUNELEdBSE07O0FBU0Msb0NBQVI7QUFDRSxXQUFPLEtBQUssT0FBTCxDQUFhLEtBQUssTUFBbEIsQ0FBUDtBQUNELEdBRk87O0FBUUEsMkJBQVI7QUFDRSxRQUFJLEtBQUssR0FBRyxLQUFLLE1BQUwsQ0FBWSxRQUFaLENBQXFCLElBQXJCLENBQTBCLFVBQXRDO0FBQ0EsUUFBSSxDQUFDLEdBQUksS0FBSyxNQUFMLENBQVksV0FBWixHQUEwQixLQUFLLE1BQUwsQ0FBWSxXQUF2QyxJQUF1RCxFQUEvRDtBQUNBLFFBQUksQ0FBQyxHQUFJLEtBQUssTUFBTCxDQUFZLFVBQVosR0FBeUIsS0FBSyxNQUFMLENBQVksVUFBdEMsSUFBcUQsRUFBN0Q7QUFDQSxLQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUwsQ0FBUyxHQUFULEVBQWMsSUFBSSxDQUFDLEdBQUwsQ0FBUyxJQUFJLENBQUMsS0FBTCxDQUFXLEtBQUssS0FBSyxNQUFMLENBQVksTUFBWixDQUFtQixLQUFuQyxDQUFULEVBQ1MsS0FBSyxDQUFDLFdBQU4sR0FBb0IsQ0FBcEIsR0FBd0IsRUFEakMsQ0FBZCxDQUFKO0FBRUEsS0FBQyxHQUFHLElBQUksQ0FBQyxHQUFMLENBQVMsRUFBVCxFQUFhLElBQUksQ0FBQyxHQUFMLENBQVMsSUFBSSxDQUFDLEtBQUwsQ0FBVyxLQUFLLEtBQUssTUFBTCxDQUFZLE1BQVosQ0FBbUIsTUFBbkMsQ0FBVCxFQUNTLEtBQUssQ0FBQyxZQUFOLEdBQXFCLENBQXJCLEdBQXlCLEVBRGxDLENBQWIsQ0FBSjtBQUVBLFNBQUssTUFBTCxDQUFZLFFBQVosQ0FBcUIsQ0FBckIsRUFBd0IsQ0FBeEI7QUFDQSxRQUFJLEVBQUUsR0FBRyxLQUFLLE1BQUwsQ0FBWSxxQkFBWixFQUFUOztBQUNBLFFBQUksRUFBSixFQUFRO0FBQ04sVUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUwsQ0FBUyxDQUFULEVBQVksSUFBSSxDQUFDLEdBQUwsQ0FBUyxFQUFFLENBQUMsS0FBSCxHQUFXLElBQUksQ0FBQyxLQUFMLENBQVcsQ0FBQyxHQUFHLENBQWYsQ0FBcEIsRUFDUyxLQUFLLE1BQUwsQ0FBWSxNQUFaLENBQW1CLEtBQW5CLEdBQTJCLENBQTNCLEdBQStCLEVBRHhDLENBQVosQ0FBUjtBQUVBLFVBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFMLENBQVMsQ0FBVCxFQUFZLElBQUksQ0FBQyxHQUFMLENBQVMsRUFBRSxDQUFDLE1BQUgsR0FBWSxJQUFJLENBQUMsS0FBTCxDQUFXLENBQUMsR0FBRyxDQUFmLENBQXJCLEVBQ1MsS0FBSyxNQUFMLENBQVksTUFBWixDQUFtQixNQUFuQixHQUE0QixDQUE1QixHQUFnQyxFQUR6QyxDQUFaLENBQVI7QUFFQSxXQUFLLE1BQUwsQ0FBWSxNQUFaLENBQW1CLENBQW5CLEVBQXNCLENBQXRCO0FBQ0Q7O0FBQ0QsU0FBSyxNQUFMLEdBQWMsSUFBZDtBQUNELEdBbEJPOztBQXVCRCwyQkFBUDtBQUNFLFdBQU87QUFBQyxVQUFJLEVBQUU7QUFBUCxLQUFQO0FBRUQsR0FITTs7QUF0SlEsd0JBQW1EO0FBQ2hFLFVBQU0sRUFBRSxJQUR3RDtBQUVoRSxXQUFPLEVBQUUsSUFGdUQ7QUFHaEUsZUFBVyxFQUFFLElBSG1EO0FBSWhFLFdBQU8sRUFBRSxJQUp1RDtBQUtoRSxlQUFXLEVBQUUsSUFMbUQ7QUFNaEUsZUFBVyxFQUFFLElBTm1EO0FBT2hFLGFBQVMsRUFBRSxLQVBxRDtBQVFoRSxjQUFVLEVBQUUsS0FSb0Q7QUFTaEUsU0FBSyxFQUFFLEdBVHlEO0FBVWhFLFVBQU0sRUFBRTtBQVZ3RCxHQUFuRDtBQTJKakI7QUFBQyxDQTdKRCxDQUEyQix1Q0FBM0I7O0FBQWEsc0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0piOztBQUNBOztBQUNBOztBQUNBOztBQU9BO0FBQW1DOztBQWlDakMseUJBQW1CLE1BQW5CLEVBQXVDO0FBQXZDLGdCQUNFLHFCQUFPLElBRFQ7O0FBQW1CO0FBNUJULHNCQUFZLDhCQUFZLGVBQVosQ0FBWjtBQThCUixTQUFJLENBQUMsWUFBTCxHQUFvQixLQUFJLENBQUMsTUFBTCxDQUFZLElBQVosQ0FBaUIsSUFBckM7QUFDQSxTQUFJLENBQUMsUUFBTCxHQUFnQixLQUFJLENBQUMsTUFBTCxDQUFZLElBQTVCOztBQUNEOztBQXhCYSwyQkFBZCxVQUNFLE9BREYsRUFFRSxFQUZGLEVBR0UsRUFIRixFQUdrQjtRQURSLEtBQUssVztRQUFVLE1BQU0sWTtRQUFZLFFBQVEsYztBQUVqRCxRQUFJLFNBQVMsR0FBRyxJQUFJLElBQUosQ0FBUyxFQUFULENBQWhCO0FBQ0EsUUFBSSxHQUFHLEdBQUcsT0FBTyxDQUFDLEdBQVIsQ0FBWSxPQUFaLEVBQ1IsT0FEUSxFQUNDO0FBQUMsYUFBTyxFQUFFLEtBQUssSUFBSSxFQUFuQjtBQUF1QixRQUFFLEVBQUUsS0FBSyxJQUFJO0FBQXBDLEtBREQsRUFDNEMsU0FENUMsQ0FBVjtBQUVBLFFBQUksR0FBRyxHQUFHLE9BQU8sQ0FBQyxHQUFSLENBQVksTUFBWixFQUFvQixPQUFwQixFQUE2QixFQUE3QixFQUFpQyxTQUFqQyxDQUFWO0FBQ0EsUUFBSSxNQUFNLEdBQUcsTUFBTSxDQUFDLEdBQVAsQ0FDWCxhQUFDO0FBQUksb0JBQU8sQ0FBQyxHQUFSLENBQVksT0FBWixFQUNILE9BREcsRUFDTTtBQUFDLGVBQU8sRUFBRSxDQUFWO0FBQWEsZ0JBQVEsRUFBRSxRQUF2QjtBQUFpQyxVQUFFLEVBQUU7QUFBckMsT0FETjtBQUN5RCxLQUZuRCxDQUFiO0FBR0EsUUFBSSxLQUFLLEdBQUcsQ0FBQyxHQUFELEVBQU0sR0FBTixFQUFXLE1BQVgsQ0FBa0IsTUFBbEIsQ0FBWjtBQUNBLGFBQVMsQ0FBQyxLQUFWLEdBQWtCLEtBQWxCO0FBQ0EsV0FBTyxTQUFQO0FBQ0QsR0FkYTs7QUE2QlAseUNBQVA7QUFDRSxxQkFBTSxZQUFOLENBQWtCLElBQWxCLENBQWtCLElBQWxCOztBQUNBLFNBQUssS0FBTCxDQUFXLE9BQVgsQ0FBbUIsZ0JBQUk7QUFBSSxpQkFBSSxDQUFDLElBQUwsQ0FBVSxTQUFWLENBQW9CLEdBQXBCLENBQXdCLDhCQUF4QixlQUF3QixDQUF4QjtBQUFxRCxLQUFoRjtBQUNELEdBSE07O0FBUUcsb0NBQVYsYUFBdUIsQ0FBYjs7QUFLSCxrQ0FBUCxVQUFhLEtBQWIsRUFBaUM7QUFDL0IsU0FBSyxNQUFMLENBQVksS0FBWixDQUFrQixLQUFsQjtBQUNELEdBRk07O0FBT0EsaUNBQVAsVUFBWSxLQUFaLEVBQWdDO0FBQzlCLFNBQUssTUFBTCxDQUFZLElBQVosQ0FBaUIsS0FBakI7QUFDRCxHQUZNOztBQUdUO0FBQUMsQ0FqRUQsQ0FBbUMsK0JBQW5DOztBQUFhOztBQWlGYjtBQUFrQzs7QUFrQ2hDLHdCQUFZLEtBQVosRUFBMkIsU0FBM0IsRUFDbUIsS0FEbkIsRUFFbUIsSUFGbkIsRUFFK0Q7QUFENUM7QUFBQTtBQUEyQzs7QUFDM0M7QUFBQTtBQUE0Qzs7QUFGL0QsZ0JBR0Usa0JBQU0sS0FBTixFQUFhLElBQWIsRUFBbUIsU0FBbkIsS0FBNkIsSUFIL0I7O0FBQ21CO0FBQ0E7QUFsQ1gsd0JBQStCLEVBQS9CO0FBQ0EsbUJBQWlCLGdCQUFqQjtBQUNBLHNCQUFxQixJQUFyQjs7QUFrQ1A7O0FBM0JhLDBCQUFkLFVBQ0UsT0FERixFQUVFLEVBRkYsRUFLRSxJQUxGLEVBS21CO1FBSFQsS0FBSyxXO1FBQWEsU0FBUyxlO1FBQWMsVUFBVSxnQjtRQUFTLEtBQUssVztRQUFRLElBQUksVTtBQUluRixXQUFPLENBQUMsR0FBUixDQUFZLElBQVo7QUFDQSxXQUFPLENBQUMsR0FBUixDQUFZLEtBQVo7QUFDQSxRQUFJLEVBQUUsR0FBRyxJQUFJLElBQUosQ0FBUyxLQUFULEVBQWdCLFNBQWhCLEVBQTJCLEtBQTNCLEVBQWtDLElBQWxDLENBQVQ7QUFDQSxNQUFFLENBQUMsVUFBSCxDQUFjLElBQWQ7QUFDQSxRQUFJLElBQUksR0FBRyxVQUFVLENBQUMsR0FBWCxDQUNULGFBQUM7QUFBSSxvQkFBTyxDQUFDLEdBQVIsQ0FBWSxlQUFaLEVBQTZCLE9BQTdCLEVBQXNDLENBQXRDO0FBQTRDLEtBRHhDLENBQVg7QUFFQSxNQUFFLENBQUMsVUFBSCxHQUFnQixJQUFoQjtBQUNBLFdBQU8sRUFBUDtBQUNELEdBZFc7O0FBaUNQLHNDQUFQLFVBQWtCLElBQWxCLEVBQW1DO0FBQ2pDLFNBQUssSUFBTCxHQUFZLElBQVo7QUFDRCxHQUZNOztBQUlQLHdCQUFXLHNCQUFYLEVBQVcsWUFBWCxFQUFxQjtTQUFyQjtBQUNFLGFBQU8sS0FBSyxXQUFaO0FBQ0QsS0FGb0I7U0FJckIsYUFBc0IsVUFBdEIsRUFBaUQ7QUFBakQ7O0FBQ0UsV0FBSyxXQUFMLEdBQW1CLEVBQW5CO0FBQ0EsZ0JBQVUsQ0FBQyxPQUFYLENBQW1CLGFBQUM7QUFBSSxvQkFBSSxDQUFDLFlBQUw7QUFBb0IsT0FBNUM7QUFDRCxLQVBvQjtxQkFBQTs7QUFBQSxHQUFyQjs7QUFTTyx3Q0FBUCxVQUFvQixTQUFwQixFQUE0QztBQUMxQyxhQUFTLENBQUMsTUFBVixHQUFtQixJQUFuQjs7QUFDQSxTQUFLLFdBQUwsQ0FBaUIsSUFBakIsQ0FBc0IsU0FBdEI7QUFDRCxHQUhNOztBQU1DLGtDQUFSLFVBQWUsSUFBZixFQUFvQztBQUFwQzs7QUFDRSxRQUFJLEdBQUcsR0FBRyxRQUFRLENBQUMsYUFBVCxDQUF1QixLQUF2QixDQUFWO0FBQ0EsU0FBSyxVQUFMLENBQWdCLFdBQWhCLENBQTRCLEdBQTVCO0FBQ0EsUUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLEdBQUwsQ0FBUyxlQUFHO0FBQ3RCLFNBQUcsQ0FBQyxXQUFKLENBQWdCLEdBQUcsQ0FBQyxJQUFwQjs7QUFDQSxVQUFJLENBQUMsR0FBRyxDQUFDLElBQUosQ0FBUyxFQUFkLEVBQWtCO0FBQ2hCLFdBQUcsQ0FBQyxJQUFKLENBQVMsRUFBVCxHQUFjLEtBQUksQ0FBQyxNQUFMLEdBQWMsd0JBQVMsT0FBVCxFQUE1QjtBQUNEOztBQUNELGFBQU8sR0FBRyxDQUFDLElBQUosQ0FBUyxxQkFBVCxFQUFQO0FBQ0QsS0FOVyxDQUFaO0FBT0EsUUFBSSxNQUFNLEdBQUcsS0FBSyxDQUFDLEdBQU4sQ0FBVSxhQUFDO0FBQUksY0FBQyxDQUFEO0FBQU8sS0FBdEIsQ0FBYjtBQUNBLFFBQUksS0FBSyxHQUFHLE1BQU0sQ0FBQyxNQUFQLENBQWMsVUFBQyxDQUFELEVBQUksQ0FBSixFQUFLO0FBQUssY0FBQyxHQUFEO0FBQUssS0FBN0IsRUFBK0IsQ0FBL0IsQ0FBWjtBQUNBLFFBQUksTUFBTSxHQUFHLEtBQUssQ0FBQyxNQUFOLENBQWEsVUFBQyxDQUFELEVBQUksQ0FBSixFQUFLO0FBQUssaUJBQUksQ0FBQyxHQUFMLENBQVMsQ0FBVCxFQUFZLENBQUMsQ0FBYjtBQUFxQixLQUE1QyxFQUE4QyxDQUE5QyxDQUFiO0FBQ0EsT0FBRyxDQUFDLFNBQUosQ0FBYyxHQUFkLENBQWtCLDhCQUFZLGtCQUFaLENBQWxCO0FBQ0EsT0FBRyxDQUFDLFlBQUosQ0FBaUIsT0FBakIsRUFBMEIsYUFBYSxNQUFiLEdBQXNCLEtBQWhEO0FBQ0EsV0FBTyxDQUFDLEdBQUQsRUFBTSxLQUFOLEVBQWEsTUFBYixFQUFxQixNQUFyQixDQUFQO0FBQ0QsR0FoQk87O0FBcUJFLG1DQUFWO0FBQ0UscUJBQU0sT0FBTixDQUFhLElBQWIsQ0FBYSxJQUFiOztBQUNBLFNBQUssS0FBTDs7QUFDQSxRQUFJLENBQUMsS0FBSyxVQUFMLENBQWdCLE1BQXJCLEVBQTZCO0FBQzNCO0FBQ0Q7O0FBQ0QsUUFBSSxTQUFTLEdBQWtCLEVBQS9CO0FBQ0EsUUFBSSxRQUFRLEdBQUcsQ0FBZjtBQUNBLFFBQUksY0FBYyxHQUFhLEVBQS9CO0FBQ0EsUUFBSSxNQUFNLEdBQUcsS0FBSyxZQUFMLENBQWtCLEtBQUssVUFBTCxDQUFnQixNQUFsQyxDQUFiOzttQ0FDUyxDLEVBQUM7QUFDUixVQUFJLElBQUksR0FBRyxPQUFLLFVBQUwsQ0FBZ0IsS0FBaEIsQ0FBc0IsQ0FBdEIsRUFBeUIsQ0FBQyxHQUFHLE1BQTdCLENBQVg7O0FBQ0ksc0JBQStCLE9BQUssTUFBTCxDQUFZLElBQVosQ0FBL0IsRUFBZ0QsQ0FBaEQ7QUFBQSxVQUFDLEdBQUcsUUFBSjtBQUFBLFVBQU0sS0FBSyxRQUFYO0FBQUEsVUFBYSxNQUFNLFFBQW5CO0FBQUEsVUFBcUIsTUFBTSxRQUEzQjs7QUFDSixlQUFTLENBQUMsSUFBVixDQUFlLEdBQWY7QUFDQSxjQUFRLEdBQUcsSUFBSSxDQUFDLEdBQUwsQ0FBUyxRQUFULEVBQW1CLEtBQW5CLENBQVg7QUFDQSxVQUFJLENBQUMsT0FBTCxDQUFhLGVBQUc7QUFBSSxrQkFBRyxDQUFDLElBQUosQ0FBUyxLQUFULENBQWUsTUFBZixHQUF3QixNQUFNLEdBQTlCO0FBQXFDLE9BQXpEO0FBQ0Esb0JBQWMsR0FBRyxPQUFLLGFBQUwsQ0FBbUIsY0FBbkIsRUFBbUMsTUFBbkMsQ0FBakI7Ozs7O0FBTkYsU0FBSyxJQUFJLENBQUMsR0FBRyxDQUFiLEVBQWdCLENBQUMsR0FBRyxLQUFLLFVBQUwsQ0FBZ0IsTUFBcEMsRUFBNEMsQ0FBQyxJQUFJLE1BQWpELEVBQXVEO2NBQTlDLEM7QUFPUjs7QUFDRCxRQUFJLEtBQUssU0FBVCxFQUFvQjtBQUNsQixXQUFLLGFBQUwsQ0FBbUIsU0FBbkIsRUFBOEIsY0FBOUI7QUFDQSxjQUFRLEdBQUcsY0FBYyxDQUFDLE1BQWYsQ0FBc0IsVUFBQyxDQUFELEVBQUksQ0FBSixFQUFLO0FBQUssZ0JBQUMsR0FBRDtBQUFLLE9BQXJDLEVBQXVDLEVBQXZDLENBQVg7QUFDRDs7QUFDRCxhQUFTLENBQUMsT0FBVixDQUFrQixlQUFHO0FBQUksZ0JBQUcsQ0FBQyxLQUFKLENBQVUsS0FBVixHQUFrQixRQUFRLEdBQTFCO0FBQWlDLEtBQTFEO0FBQ0QsR0F2QlM7O0FBeUJGLHdDQUFSLFVBQXFCLElBQXJCLEVBQWlDO0FBQy9CLFlBQVEsS0FBSyxJQUFiO0FBQ0E7QUFDRSxlQUFPLElBQUksQ0FBQyxLQUFMLENBQVcsSUFBSSxDQUFDLElBQUwsQ0FBVSxJQUFWLENBQVgsQ0FBUDs7QUFDRjtBQUNFLGVBQU8sSUFBSSxHQUFHLFlBQVksQ0FBQyxTQUEzQjs7QUFDRjtBQUNBO0FBQ0UsZUFBTyxZQUFZLENBQUMsU0FBcEI7QUFQRjtBQVVELEdBWE87O0FBYUEseUNBQVIsVUFBc0IsSUFBdEIsRUFBMkMsTUFBM0MsRUFBMkQ7QUFDekQsUUFBSSxDQUFDLE9BQUwsQ0FBYSxlQUFHO0FBQ2QsVUFBSSxRQUFRLEdBQUcsS0FBSyxDQUFDLElBQU4sQ0FBVyxHQUFHLENBQUMsUUFBZixDQUFmOztBQUNBLFdBQUssSUFBSSxDQUFDLEdBQUcsQ0FBUixFQUFXLEtBQUssU0FBckIsRUFBb0MsS0FBSyxHQUFHLFFBQVEsQ0FBQyxDQUFELENBQXBELEVBQXlELENBQUMsRUFBMUQsRUFBOEQ7QUFDNUQsYUFBSyxDQUFDLEtBQU4sQ0FBWSxLQUFaLEdBQW9CLE1BQU0sQ0FBQyxDQUFELENBQU4sR0FBWSxJQUFoQztBQUNEO0FBQ0YsS0FMRDtBQU1ELEdBUE87O0FBU0EseUNBQVIsVUFBc0IsSUFBdEIsRUFBc0MsSUFBdEMsRUFBb0Q7QUFDbEQsUUFBSSxNQUFNLEdBQWEsRUFBdkI7QUFDQSxRQUFJLENBQUMsR0FBRyxDQUFSOztBQUNBLFdBQU8sSUFBSSxDQUFDLENBQUQsQ0FBSixJQUFXLElBQUksQ0FBQyxDQUFELENBQXRCLEVBQTJCO0FBQ3pCLFVBQUksQ0FBQyxJQUFJLENBQUMsQ0FBRCxDQUFULEVBQWM7QUFDWixjQUFNLEdBQUcsTUFBTSxDQUFDLE1BQVAsQ0FBYyxJQUFJLENBQUMsS0FBTCxDQUFXLENBQVgsQ0FBZCxDQUFUO0FBQ0E7QUFDRDs7QUFDRCxVQUFJLENBQUMsSUFBSSxDQUFDLENBQUQsQ0FBVCxFQUFjO0FBQ1osY0FBTSxHQUFHLE1BQU0sQ0FBQyxNQUFQLENBQWMsSUFBSSxDQUFDLEtBQUwsQ0FBVyxDQUFYLENBQWQsQ0FBVDtBQUNBO0FBQ0Q7O0FBQ0QsWUFBTSxDQUFDLElBQVAsQ0FBWSxJQUFJLENBQUMsR0FBTCxDQUFTLElBQUksQ0FBQyxDQUFELENBQWIsRUFBa0IsSUFBSSxDQUFDLENBQUQsQ0FBdEIsQ0FBWjtBQUNBLE9BQUM7QUFDRjs7QUFBQTtBQUNELFdBQU8sTUFBUDtBQUNELEdBaEJPOztBQXFCRCxnQ0FBUCxVQUFZLEtBQVosRUFBZ0M7QUFBaEM7O0FBQ0UsU0FBSyxJQUFMLENBQVUsS0FBVixFQUFpQixVQUFDLEtBQUQsRUFBYztBQUNyQixjQUFDLEtBQUssS0FBSyxDQUFWLEdBQWMsS0FBSSxDQUFDLFVBQUwsQ0FBZ0IsTUFBOUIsR0FBdUMsS0FBeEMsSUFBaUQsQ0FBakQ7QUFBa0QsS0FENUQ7QUFFRCxHQUhNOztBQVFBLGlDQUFQLFVBQWEsS0FBYixFQUFpQztBQUFqQzs7QUFDRSxTQUFLLElBQUwsQ0FBVSxLQUFWLEVBQWlCLFVBQUMsS0FBRCxFQUFjO0FBQ3JCLGtCQUFLLEtBQUssS0FBSSxDQUFDLFVBQUwsQ0FBZ0IsTUFBaEIsR0FBeUIsQ0FBbkMsR0FBdUMsQ0FBdkMsR0FBMkMsS0FBSyxHQUFHLENBQW5EO0FBQW9ELEtBRDlEO0FBRUQsR0FITTs7QUFRQSx3Q0FBUDtBQUNFLHFCQUFNLFlBQU4sQ0FBa0IsSUFBbEIsQ0FBa0IsSUFBbEI7O0FBQ0EsU0FBSyxJQUFMLENBQVUsU0FBVixDQUFvQixHQUFwQixDQUF3Qiw4QkFBWSxXQUFaLENBQXhCO0FBQ0QsR0FITTs7QUFRRywyQ0FBVjtBQUNFLFFBQUksR0FBRyxHQUFHLGlCQUFNLGVBQU4sQ0FBcUIsSUFBckIsQ0FBcUIsSUFBckIsQ0FBVjs7QUFDQSxPQUFHLENBQUMsU0FBSixDQUFjLEdBQWQsQ0FBa0IsOEJBQVksY0FBWixDQUFsQjtBQUNBLE9BQUcsQ0FBQyxlQUFKLENBQW9CLFVBQXBCO0FBQ0EsV0FBTyxHQUFQO0FBQ0QsR0FMUzs7QUFPRix5Q0FBUixVQUFzQixLQUF0QixFQUEwQztBQUN4QyxRQUFJLE1BQU0sR0FBRyxLQUFLLENBQUMsTUFBbkI7QUFDQSxRQUFJLFNBQVMsR0FBRyxJQUFoQjs7QUFDQSxRQUFJLE1BQU0sQ0FBQyxFQUFYLEVBQWU7QUFDYixlQUFTLEdBQUcsS0FBSyxVQUFMLENBQWdCLElBQWhCLENBQXFCLGFBQUM7QUFBSSxnQkFBQyxDQUFDLElBQUYsQ0FBTyxFQUFQLEtBQWMsTUFBTSxDQUFwQjtBQUF1QixPQUFqRCxDQUFaO0FBQ0Q7O0FBQ0QsUUFBSSxDQUFDLFNBQUwsRUFBZ0I7QUFDZCxVQUFJLElBQUUsR0FBRyxNQUFNLENBQUMsYUFBUCxDQUFxQixFQUE5QjtBQUNBLGVBQVMsR0FBRyxLQUFLLFVBQUwsQ0FBZ0IsSUFBaEIsQ0FBcUIsYUFBQztBQUFJLGdCQUFDLENBQUMsSUFBRixDQUFPLEVBQVA7QUFBZ0IsT0FBMUMsQ0FBWjtBQUNEOztBQUNELFdBQU8sU0FBUDtBQUNELEdBWE87O0FBYUEsZ0NBQVIsVUFBYSxLQUFiLEVBQ2EsTUFEYixFQUMwQztBQUN4QyxRQUFJLFNBQVMsR0FBRyxLQUFLLGFBQUwsQ0FBbUIsS0FBbkIsQ0FBaEI7O0FBQ0EsUUFBSSxTQUFTLENBQUMsT0FBZCxFQUF1QjtBQUNyQixlQUFTLENBQUMsT0FBVixDQUFrQixPQUFsQjtBQUNEOztBQUNELFFBQUksS0FBSyxHQUFHLEtBQUssVUFBTCxDQUFnQixPQUFoQixDQUF3QixTQUF4QixDQUFaO0FBQ0EsUUFBSSxJQUFJLEdBQUcsTUFBTSxDQUFDLEtBQUQsQ0FBakI7QUFDQSxTQUFLLFVBQUwsQ0FBZ0IsSUFBaEIsRUFBc0IsS0FBdEI7QUFDRCxHQVRPOztBQTZCQSxpQ0FBUjtBQUNFLFNBQUssVUFBTCxDQUFnQixJQUFoQixDQUFxQixZQUFZLENBQUMsV0FBYixDQUF5QixHQUF6QixDQUE2QixLQUFLLEtBQWxDLENBQXJCO0FBQ0QsR0FGTzs7QUFPRCxrQ0FBUDtBQUNFLFdBQU87QUFBQyxVQUFJLEVBQUU7QUFBUCxLQUFQO0FBRUQsR0FITTs7QUFuT08sMkJBQVksQ0FBWjtBQTBNUCw2QkFBYyxJQUFJLEdBQUosQ0FBd0UsQ0FDM0YsaUJBQThCLFVBQUMsQ0FBRCxFQUFJLENBQUosRUFBSztBQUFLLFlBQUMsQ0FBQyxLQUFGLENBQVEsQ0FBUixFQUFXLE9BQVgsQ0FBbUIsYUFBbkIsQ0FBaUMsQ0FBQyxDQUFDLEtBQUYsQ0FBUSxDQUFSLEVBQWpDO0FBQW9ELEdBQTVGLENBRDJGLEVBRTNGLFNBQXNCLFVBQUMsRUFBRCxFQUFLLEVBQUwsRUFBTztBQUFLO0FBQUMsR0FBbkMsQ0FGMkYsRUFHM0YsZUFBNEIsVUFBQyxDQUFELEVBQUksQ0FBSixFQUFLO0FBQy9CLFFBQUksRUFBRSxHQUFHLENBQUMsQ0FBQyxLQUFGLENBQVEsTUFBakI7QUFDQSxRQUFJLEVBQUUsR0FBRyxDQUFDLENBQUMsS0FBRixDQUFRLE1BQWpCO0FBQ0EsV0FBUSxFQUFFLEdBQUcsRUFBTixHQUFZLENBQVosR0FBa0IsRUFBRSxHQUFHLEVBQU4sR0FBWSxDQUFDLENBQWIsR0FBaUIsQ0FBekM7QUFDRCxHQUpELENBSDJGLEVBUTNGLGVBQTRCLFVBQUMsQ0FBRCxFQUFJLENBQUosRUFBSztBQUMvQixRQUFJLEVBQUUsR0FBRyxDQUFDLENBQUMsS0FBRixDQUFRLE1BQWpCO0FBQ0EsUUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDLEtBQUYsQ0FBUSxNQUFqQjtBQUNBLFdBQVEsRUFBRSxHQUFHLEVBQU4sR0FBWSxDQUFDLENBQWIsR0FBbUIsRUFBRSxHQUFHLEVBQU4sR0FBWSxDQUFaLEdBQWdCLENBQXpDO0FBQ0QsR0FKRCxDQVIyRixDQUF4RSxDQUFkO0FBOEJUO0FBQUMsQ0E3T0QsQ0FBa0MsY0FBbEM7O0FBQWEsb0M7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzVGYjs7QUFPQTtBQUE2Qjs7QUF5QjNCLG1CQUFvQixPQUFwQixFQUFvQztBQUFwQyxnQkFDRSxxQkFBTyxJQURUOztBQUFvQjtBQUVsQixTQUFJLENBQUMsWUFBTCxHQUFvQixLQUFJLENBQUMsTUFBTCxDQUFZLElBQVosQ0FBaUIsSUFBckM7O0FBQ0EsU0FBSSxDQUFDLFdBQUw7OztBQUNEOztBQXBCYSxxQkFBZCxVQUNFLE9BREYsRUFFRSxFQUZGLEVBR0UsTUFIRixFQUdpQjtRQURQLEdBQUcsVztBQUVYLFFBQU0sT0FBTyxHQUFHLElBQUksSUFBSixDQUFTLE1BQVQsQ0FBaEI7QUFDQSxRQUFNLFFBQVEsR0FBRyxPQUFPLENBQUMsR0FBUixDQUFZLE9BQVosRUFBcUIsT0FBckIsRUFBOEIsR0FBOUIsRUFBbUMsT0FBbkMsQ0FBakI7QUFDQSxXQUFPLENBQUMsS0FBUixHQUFnQixRQUFoQjtBQUNBLFdBQU8sT0FBUDtBQUNELEdBUmE7O0FBMEJkLHdCQUFXLGlCQUFYLEVBQVcsUUFBWCxFQUFpQjtTQUFqQjtBQUNFLGFBQU8sS0FBSyxPQUFaO0FBQ0QsS0FGZ0I7cUJBQUE7O0FBQUEsR0FBakI7O0FBT08sMkJBQVA7QUFDRSxRQUFJLENBQUMsS0FBSyxNQUFMLENBQVksSUFBWixDQUFpQixRQUFqQixFQUFMLEVBQWtDO0FBQ2hDO0FBQ0Q7O0FBRUQsUUFBSSxVQUFVLEdBQUcsS0FBakI7QUFDQSxRQUFJLE9BQU8sR0FBRyxLQUFkO0FBRUEsUUFBSSxNQUFNLEdBQUcsQ0FBYjtBQUNBLFFBQUksTUFBTSxHQUFHLEtBQUssTUFBTCxDQUFZLElBQXpCO0FBQ0EsUUFBSSxJQUFJLEdBQUcsS0FBSyxJQUFoQjtBQUNBLFFBQUksSUFBSSxHQUFJLEtBQUssUUFBTCxDQUE4QixLQUExQztBQUVBLFFBQUksRUFBRSxHQUFHLE1BQU0sQ0FBQyxXQUFoQjtBQUNBLFFBQUksQ0FBQyxHQUFJLFVBQVUsR0FBRyxFQUFILEdBQVEsRUFBRSxHQUFHLENBQWhDO0FBQ0EsUUFBSSxDQUFDLEdBQUcsQ0FBUjs7QUFDQSxXQUFPLE1BQU0sSUFBSSxNQUFNLEtBQUssSUFBNUIsRUFBa0M7QUFDaEMsT0FBQyxJQUFJLE1BQU0sQ0FBQyxVQUFaO0FBQ0EsT0FBQyxJQUFJLE1BQU0sQ0FBQyxTQUFaO0FBQ0EsWUFBTSxHQUFnQixNQUFNLENBQUMsVUFBN0I7QUFDRDs7QUFDRCxRQUFJLENBQUMsVUFBTCxFQUFpQjtBQUNmLFVBQUssT0FBTyxJQUFJLENBQUMsR0FBRyxFQUFKLEdBQVMsSUFBSSxDQUFDLFdBQWQsR0FBNEIsTUFBeEMsSUFDQyxDQUFDLE9BQUQsSUFBWSxDQUFDLEdBQUcsSUFBSSxDQUFDLFdBQVQsR0FDWixRQUFRLENBQUMsSUFBVCxDQUFjLFdBQWQsR0FBNEIsTUFGakMsRUFFMEM7QUFFeEMsU0FBQyxHQUFHLElBQUksQ0FBQyxHQUFMLENBQVMsTUFBVCxFQUFpQixDQUFDLEdBQUcsRUFBSixHQUFTLElBQUksQ0FBQyxXQUFkLEdBQTRCLENBQTdDLENBQUo7QUFDRDtBQUNGOztBQVlELHFCQUFNLElBQU4sQ0FBVSxJQUFWLENBQVUsSUFBVixFQUFXLENBQVgsRUFBYyxDQUFkO0FBQ0QsR0F6Q007O0FBOENHLDhCQUFWO0FBQ0csU0FBSyxRQUFMLENBQThCLEtBQTlCLENBQW9DLFdBQXBDLENBQWdELEtBQUssSUFBckQ7QUFDRixHQUZTOztBQU9GLGtDQUFSO0FBRUUsUUFBSSxJQUFJLEdBQVEsSUFBaEI7O0FBQ0EsT0FBRztBQUNELFVBQUksR0FBRyxJQUFJLENBQUMsTUFBTCxDQUFZLElBQW5CO0FBQ0QsS0FGRCxRQUVTLElBQUksWUFBWSxPQUZ6Qjs7QUFHQSxTQUFLLFFBQUwsR0FBZ0IsSUFBaEI7QUFDRCxHQVBPOztBQVNELDJCQUFQLFVBQVksTUFBWixFQUFpQztBQUMvQixTQUFLLE9BQUwsR0FBZSxJQUFmO0FBQ0EsU0FBSyxNQUFMLENBQVksS0FBWjtBQUNELEdBSE07O0FBUUEsNkJBQVA7QUFDRSxXQUFPO0FBQUMsVUFBSSxFQUFFO0FBQVAsS0FBUDtBQUVELEdBSE07O0FBS1Q7QUFBQyxDQXJIRCxDQUE2QiwrQkFBN0I7O0FBQWEsMEI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKYjs7QUFPQTtBQTJCRSxvQkFBb0IsS0FBcEIsRUFDb0IsTUFEcEIsRUFFb0IsTUFGcEIsRUFFOEQ7QUFGMUM7QUFDQTtBQUNBO0FBM0JaLGlCQUF3QixFQUF4QjtBQTJCMkQ7O0FBbkJyRCxzQkFBZCxVQUNFLFFBREYsRUFFRSxFQUZGLEVBS0UsSUFMRixFQUtvQztRQUgzQixJQUFJLFU7UUFBVSxNQUFNLFk7UUFBVSxNQUFNLFk7QUFJM0MsUUFBTSxRQUFRLEdBQUcsSUFBSSxJQUFKLENBQVMsSUFBVCxFQUFlLE1BQWYsRUFBdUIsTUFBdkIsQ0FBakI7QUFDQSxRQUFJLENBQUMsTUFBTCxDQUFZLFFBQVo7QUFDRCxHQVJhOztBQXdCZCx3QkFBVyxrQkFBWCxFQUFXLE1BQVgsRUFBZTtTQUFmO0FBQ0UsYUFBTyxLQUFLLEtBQVo7QUFDRCxLQUZjO3FCQUFBOztBQUFBLEdBQWY7O0FBUU8sZ0NBQVAsVUFBZ0IsSUFBaEIsRUFBa0M7QUFDaEMsUUFBSTtBQUNGLGFBQU8sS0FBSyxNQUFMLENBQVksSUFBWixDQUFQO0FBQ0QsS0FGRCxDQUVFLE9BQU8sQ0FBUCxFQUFVO0FBQ1YsOEJBQVMsS0FBVCxDQUFlLENBQWYsRUFBa0IseUJBQXlCLEtBQUssSUFBOUIsR0FBcUMsVUFBdkQ7QUFDQSxhQUFPLElBQVA7QUFDRDtBQUNGLEdBUE07O0FBZ0JBLGdDQUFQLFVBQWdCLEtBQWhCLEVBQTBCLElBQTFCLEVBQTRDO0FBQzFDLFFBQUk7QUFDRixXQUFLLE1BQUwsQ0FBWSxLQUFaLEVBQW1CLElBQW5CO0FBQ0QsS0FGRCxDQUVFLE9BQU8sQ0FBUCxFQUFVO0FBQ1YsOEJBQVMsS0FBVCxDQUFlLENBQWYsRUFBa0IseUJBQXlCLEtBQUssSUFBOUIsR0FBcUMsVUFBdkQ7QUFDRDs7QUFDRCxTQUFLLE1BQUw7QUFDRCxHQVBNOztBQWFBLGdDQUFQLFVBQWdCLElBQWhCLEVBQWtDO0FBQ2hDLFFBQUksS0FBSyxLQUFMLENBQVcsT0FBWCxDQUFtQixJQUFuQixNQUE2QixDQUFDLENBQWxDLEVBQXFDO0FBQ25DLFdBQUssS0FBTCxDQUFXLElBQVgsQ0FBZ0IsSUFBaEI7QUFDRDtBQUNGLEdBSk07O0FBVUEsa0NBQVAsVUFBa0IsSUFBbEIsRUFBb0M7QUFDbEMsUUFBSSxLQUFLLEdBQUcsS0FBSyxLQUFMLENBQVcsT0FBWCxDQUFtQixJQUFuQixDQUFaOztBQUNBLFFBQUksS0FBSyxLQUFLLENBQUMsQ0FBZixFQUFrQjtBQUNoQixXQUFLLEtBQUwsQ0FBVyxNQUFYLENBQWtCLEtBQWxCLEVBQXlCLENBQXpCO0FBQ0Q7QUFDRixHQUxNOztBQVVBLDhCQUFQO0FBQ0UsU0FBSyxLQUFMLENBQVcsT0FBWCxDQUFtQixhQUFDO0FBQUksY0FBQyxDQUFEO0FBQVUsS0FBbEM7QUFDRCxHQUZNOztBQVNBLHdDQUFQLFVBQXdCLElBQXhCLEVBQXNDO0FBQ3BDLFNBQUssS0FBTCxDQUFXLE9BQVgsQ0FBbUIsYUFBQztBQUFJLGFBQUMsQ0FBb0IsQ0FBQyxnQkFBckIsQ0FBRCxJQUFDLENBQUQ7QUFBNEMsS0FBcEU7QUFDRCxHQUZNOztBQVNBLDBDQUFQLFVBQTBCLElBQTFCLEVBQXdDO0FBQ3RDLFNBQUssS0FBTCxDQUFXLE9BQVgsQ0FBbUIsYUFBQztBQUFJLGFBQUMsQ0FBb0IsQ0FBQyxrQkFBckIsQ0FBRCxJQUFDLENBQUQ7QUFBOEMsS0FBdEU7QUFDRCxHQUZNOztBQVNBLDhCQUFQO0FBQ0UsV0FBTztBQUFDLFVBQUksRUFBRSxVQUFQO0FBQ0MsVUFBSSxFQUFFLEtBQUssSUFEWjtBQUVDLFlBQU0sRUFBRSxLQUFLLE1BQUwsQ0FBWSxRQUFaLEVBRlQ7QUFHQyxZQUFNLEVBQUUsS0FBSyxNQUFMLENBQVksUUFBWjtBQUhULEtBQVA7QUFJRCxHQUxNOztBQU9UO0FBQUMsQ0E3SEQ7O0FBQWEsNEI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNQYjtBQUFBO0FBRVUsZ0JBQXNDLEVBQXRDO0FBcUNUOztBQS9CUSxrQ0FBUCxVQUFjLFFBQWQsRUFBbUM7QUFDakMsU0FBSyxJQUFMLENBQVUsUUFBUSxDQUFDLElBQW5CLElBQTJCLFFBQTNCO0FBQ0QsR0FGTTs7QUFVQSxrQ0FBUCxVQUFjLElBQWQsRUFBMEI7QUFDeEIsV0FBTyxLQUFLLElBQUwsQ0FBVSxJQUFWLENBQVA7QUFDRCxHQUZNOztBQVFBLGtDQUFQLFVBQWMsSUFBZCxFQUEwQjtBQUN4QixXQUFPLEtBQUssSUFBTCxDQUFVLElBQVYsQ0FBUDtBQUNELEdBRk07O0FBT0Esa0NBQVA7QUFDRSxTQUFLLElBQUksUUFBVCxJQUFxQixLQUFLLElBQTFCLEVBQWdDO0FBQzlCLFdBQUssSUFBTCxDQUFVLFFBQVYsRUFBb0IsTUFBcEI7QUFDRDtBQUNGLEdBSk07O0FBTVQ7QUFBQyxDQXZDRDs7QUFBYSxvQyIsImZpbGUiOiJDb250ZXh0TWVudS5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIkNvbnRleHRNZW51XCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIkNvbnRleHRNZW51XCJdID0gZmFjdG9yeSgpO1xufSkodGhpcywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IFwiLi9qcy9pbmRleC5qc1wiKTtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkFic3RyYWN0RW50cnkgPSB2b2lkIDA7XG52YXIgbWVudV9lbGVtZW50X2pzXzEgPSByZXF1aXJlKFwiLi9tZW51X2VsZW1lbnQuanNcIik7XG52YXIgaHRtbF9jbGFzc2VzX2pzXzEgPSByZXF1aXJlKFwiLi9odG1sX2NsYXNzZXMuanNcIik7XG52YXIgQWJzdHJhY3RFbnRyeSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFic3RyYWN0RW50cnksIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQWJzdHJhY3RFbnRyeShfbWVudSwgX3R5cGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX21lbnUgPSBfbWVudTtcbiAgICAgICAgX3RoaXMuX3R5cGUgPSBfdHlwZTtcbiAgICAgICAgX3RoaXMuY2xhc3NOYW1lID0gaHRtbF9jbGFzc2VzX2pzXzEuSHRtbENsYXNzZXNbJ01FTlVJVEVNJ107XG4gICAgICAgIF90aGlzLnJvbGUgPSAnbWVudWl0ZW0nO1xuICAgICAgICBfdGhpcy5oaWRkZW4gPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWJzdHJhY3RFbnRyeS5wcm90b3R5cGUsIFwibWVudVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21lbnU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKG1lbnUpIHtcbiAgICAgICAgICAgIHRoaXMuX21lbnUgPSBtZW51O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFic3RyYWN0RW50cnkucHJvdG90eXBlLCBcInR5cGVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90eXBlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgQWJzdHJhY3RFbnRyeS5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5oaWRkZW4gPSB0cnVlO1xuICAgICAgICB0aGlzLm1lbnUuZ2VuZXJhdGVNZW51KCk7XG4gICAgfTtcbiAgICBBYnN0cmFjdEVudHJ5LnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmhpZGRlbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLm1lbnUuZ2VuZXJhdGVNZW51KCk7XG4gICAgfTtcbiAgICBBYnN0cmFjdEVudHJ5LnByb3RvdHlwZS5pc0hpZGRlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGlkZGVuO1xuICAgIH07XG4gICAgcmV0dXJuIEFic3RyYWN0RW50cnk7XG59KG1lbnVfZWxlbWVudF9qc18xLk1lbnVFbGVtZW50KSk7XG5leHBvcnRzLkFic3RyYWN0RW50cnkgPSBBYnN0cmFjdEVudHJ5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWJzdHJhY3RfZW50cnkuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX3ZhbHVlcyA9ICh0aGlzICYmIHRoaXMuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQWJzdHJhY3RJdGVtID0gdm9pZCAwO1xudmFyIGFic3RyYWN0X2VudHJ5X2pzXzEgPSByZXF1aXJlKFwiLi9hYnN0cmFjdF9lbnRyeS5qc1wiKTtcbnZhciBtZW51X3V0aWxfanNfMSA9IHJlcXVpcmUoXCIuL21lbnVfdXRpbC5qc1wiKTtcbnZhciBodG1sX2NsYXNzZXNfanNfMSA9IHJlcXVpcmUoXCIuL2h0bWxfY2xhc3Nlcy5qc1wiKTtcbnZhciBBYnN0cmFjdEl0ZW0gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBYnN0cmFjdEl0ZW0sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQWJzdHJhY3RJdGVtKG1lbnUsIHR5cGUsIF9jb250ZW50LCBpZCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtZW51LCB0eXBlKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fY29udGVudCA9IF9jb250ZW50O1xuICAgICAgICBfdGhpcy5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5jYWxsYmFja3MgPSBbXTtcbiAgICAgICAgX3RoaXMuX2lkID0gaWQgPyBpZCA6IF9jb250ZW50O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYnN0cmFjdEl0ZW0ucHJvdG90eXBlLCBcImNvbnRlbnRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb250ZW50O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChjb250ZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9jb250ZW50ID0gY29udGVudDtcbiAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVIdG1sKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5tZW51KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tZW51LmdlbmVyYXRlSHRtbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFic3RyYWN0SXRlbS5wcm90b3R5cGUsIFwiaWRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pZDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIEFic3RyYWN0SXRlbS5wcm90b3R5cGUucHJlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5kaXNhYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5leGVjdXRlQWN0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLmV4ZWN1dGVDYWxsYmFja3NfKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFic3RyYWN0SXRlbS5wcm90b3R5cGUuZXhlY3V0ZUFjdGlvbiA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICBBYnN0cmFjdEl0ZW0ucHJvdG90eXBlLnJlZ2lzdGVyQ2FsbGJhY2sgPSBmdW5jdGlvbiAoZnVuYykge1xuICAgICAgICBpZiAodGhpcy5jYWxsYmFja3MuaW5kZXhPZihmdW5jKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzLnB1c2goZnVuYyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFic3RyYWN0SXRlbS5wcm90b3R5cGUudW5yZWdpc3RlckNhbGxiYWNrID0gZnVuY3Rpb24gKGZ1bmMpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5jYWxsYmFja3MuaW5kZXhPZihmdW5jKTtcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5jYWxsYmFja3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQWJzdHJhY3RJdGVtLnByb3RvdHlwZS5tb3VzZWRvd24gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5wcmVzcygpO1xuICAgICAgICB0aGlzLnN0b3AoZXZlbnQpO1xuICAgIH07XG4gICAgQWJzdHJhY3RJdGVtLnByb3RvdHlwZS5tb3VzZW92ZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5mb2N1cygpO1xuICAgICAgICB0aGlzLnN0b3AoZXZlbnQpO1xuICAgIH07XG4gICAgQWJzdHJhY3RJdGVtLnByb3RvdHlwZS5tb3VzZW91dCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB0aGlzLmRlYWN0aXZhdGUoKTtcbiAgICAgICAgdGhpcy5zdG9wKGV2ZW50KTtcbiAgICB9O1xuICAgIEFic3RyYWN0SXRlbS5wcm90b3R5cGUuZ2VuZXJhdGVIdG1sID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmdlbmVyYXRlSHRtbC5jYWxsKHRoaXMpO1xuICAgICAgICB2YXIgaHRtbCA9IHRoaXMuaHRtbDtcbiAgICAgICAgaHRtbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtZGlzYWJsZWQnLCAnZmFsc2UnKTtcbiAgICAgICAgaHRtbC50ZXh0Q29udGVudCA9IHRoaXMuY29udGVudDtcbiAgICB9O1xuICAgIEFic3RyYWN0SXRlbS5wcm90b3R5cGUuYWN0aXZhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5kaXNhYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5odG1sLmNsYXNzTGlzdC5hZGQoaHRtbF9jbGFzc2VzX2pzXzEuSHRtbENsYXNzZXNbJ01FTlVBQ1RJVkUnXSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFic3RyYWN0SXRlbS5wcm90b3R5cGUuZGVhY3RpdmF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5odG1sLmNsYXNzTGlzdC5yZW1vdmUoaHRtbF9jbGFzc2VzX2pzXzEuSHRtbENsYXNzZXNbJ01FTlVBQ1RJVkUnXSk7XG4gICAgfTtcbiAgICBBYnN0cmFjdEl0ZW0ucHJvdG90eXBlLmZvY3VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLm1lbnUuZm9jdXNlZCA9IHRoaXM7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZm9jdXMuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZSgpO1xuICAgIH07XG4gICAgQWJzdHJhY3RJdGVtLnByb3RvdHlwZS51bmZvY3VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRlYWN0aXZhdGUoKTtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51bmZvY3VzLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICBBYnN0cmFjdEl0ZW0ucHJvdG90eXBlLmVzY2FwZSA9IGZ1bmN0aW9uIChfZXZlbnQpIHtcbiAgICAgICAgbWVudV91dGlsX2pzXzEuTWVudVV0aWwuY2xvc2UodGhpcyk7XG4gICAgfTtcbiAgICBBYnN0cmFjdEl0ZW0ucHJvdG90eXBlLnVwID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHRoaXMubWVudS51cChldmVudCk7XG4gICAgfTtcbiAgICBBYnN0cmFjdEl0ZW0ucHJvdG90eXBlLmRvd24gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5tZW51LmRvd24oZXZlbnQpO1xuICAgIH07XG4gICAgQWJzdHJhY3RJdGVtLnByb3RvdHlwZS5sZWZ0ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHRoaXMubWVudS5sZWZ0KGV2ZW50KTtcbiAgICB9O1xuICAgIEFic3RyYWN0SXRlbS5wcm90b3R5cGUucmlnaHQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5tZW51LnJpZ2h0KGV2ZW50KTtcbiAgICB9O1xuICAgIEFic3RyYWN0SXRlbS5wcm90b3R5cGUuc3BhY2UgPSBmdW5jdGlvbiAoX2V2ZW50KSB7XG4gICAgICAgIHRoaXMucHJlc3MoKTtcbiAgICB9O1xuICAgIEFic3RyYWN0SXRlbS5wcm90b3R5cGUuZGlzYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIHZhciBodG1sID0gdGhpcy5odG1sO1xuICAgICAgICBodG1sLmNsYXNzTGlzdC5hZGQoaHRtbF9jbGFzc2VzX2pzXzEuSHRtbENsYXNzZXNbJ01FTlVESVNBQkxFRCddKTtcbiAgICAgICAgaHRtbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtZGlzYWJsZWQnLCAndHJ1ZScpO1xuICAgIH07XG4gICAgQWJzdHJhY3RJdGVtLnByb3RvdHlwZS5lbmFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGh0bWwgPSB0aGlzLmh0bWw7XG4gICAgICAgIGh0bWwuY2xhc3NMaXN0LnJlbW92ZShodG1sX2NsYXNzZXNfanNfMS5IdG1sQ2xhc3Nlc1snTUVOVURJU0FCTEVEJ10pO1xuICAgICAgICBodG1sLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1kaXNhYmxlZCcpO1xuICAgIH07XG4gICAgQWJzdHJhY3RJdGVtLnByb3RvdHlwZS5leGVjdXRlQ2FsbGJhY2tzXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVfMSwgX2E7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzKHRoaXMuY2FsbGJhY2tzKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBmdW5jID0gX2MudmFsdWU7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZnVuYyh0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbWVudV91dGlsX2pzXzEuTWVudVV0aWwuZXJyb3IoZSwgJ0NhbGxiYWNrIGZvciBtZW51IGVudHJ5ICcgKyB0aGlzLmlkICtcbiAgICAgICAgICAgICAgICAgICAgICAgICcgZmFpbGVkLicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQWJzdHJhY3RJdGVtO1xufShhYnN0cmFjdF9lbnRyeV9qc18xLkFic3RyYWN0RW50cnkpKTtcbmV4cG9ydHMuQWJzdHJhY3RJdGVtID0gQWJzdHJhY3RJdGVtO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWJzdHJhY3RfaXRlbS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fdmFsdWVzID0gKHRoaXMgJiYgdGhpcy5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykge1xuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5BYnN0cmFjdE1lbnUgPSB2b2lkIDA7XG52YXIgYWJzdHJhY3RfcG9zdGFibGVfanNfMSA9IHJlcXVpcmUoXCIuL2Fic3RyYWN0X3Bvc3RhYmxlLmpzXCIpO1xudmFyIGFic3RyYWN0X2l0ZW1fanNfMSA9IHJlcXVpcmUoXCIuL2Fic3RyYWN0X2l0ZW0uanNcIik7XG52YXIgaHRtbF9jbGFzc2VzX2pzXzEgPSByZXF1aXJlKFwiLi9odG1sX2NsYXNzZXMuanNcIik7XG52YXIgaXRlbV9zdWJtZW51X2pzXzEgPSByZXF1aXJlKFwiLi9pdGVtX3N1Ym1lbnUuanNcIik7XG52YXIgQWJzdHJhY3RNZW51ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQWJzdHJhY3RNZW51LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0TWVudSgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmNsYXNzTmFtZSA9IGh0bWxfY2xhc3Nlc19qc18xLkh0bWxDbGFzc2VzWydDT05URVhUTUVOVSddO1xuICAgICAgICBfdGhpcy5yb2xlID0gJ21lbnUnO1xuICAgICAgICBfdGhpcy5faXRlbXMgPSBbXTtcbiAgICAgICAgX3RoaXMuX2Jhc2VNZW51ID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWJzdHJhY3RNZW51LnByb3RvdHlwZSwgXCJiYXNlTWVudVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Jhc2VNZW51O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChtZW51KSB7XG4gICAgICAgICAgICB0aGlzLl9iYXNlTWVudSA9IG1lbnU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWJzdHJhY3RNZW51LnByb3RvdHlwZSwgXCJpdGVtc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2l0ZW1zO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChpdGVtcykge1xuICAgICAgICAgICAgdGhpcy5faXRlbXMgPSBpdGVtcztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYnN0cmFjdE1lbnUucHJvdG90eXBlLCBcInBvb2xcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhcmlhYmxlUG9vbDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYnN0cmFjdE1lbnUucHJvdG90eXBlLCBcImZvY3VzZWRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb2N1c2VkO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZm9jdXNlZCA9PT0gaXRlbSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5fZm9jdXNlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMudW5mb2N1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG9sZCA9IHRoaXMuX2ZvY3VzZWQ7XG4gICAgICAgICAgICB0aGlzLl9mb2N1c2VkID0gaXRlbTtcbiAgICAgICAgICAgIGlmIChvbGQpIHtcbiAgICAgICAgICAgICAgICBvbGQudW5mb2N1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgQWJzdHJhY3RNZW51LnByb3RvdHlwZS51cCA9IGZ1bmN0aW9uIChfZXZlbnQpIHtcbiAgICAgICAgdmFyIGl0ZW1zID0gdGhpcy5pdGVtcy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsgcmV0dXJuICh4IGluc3RhbmNlb2YgYWJzdHJhY3RfaXRlbV9qc18xLkFic3RyYWN0SXRlbSkgJiYgKCF4LmlzSGlkZGVuKCkpOyB9KTtcbiAgICAgICAgaWYgKGl0ZW1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5mb2N1c2VkKSB7XG4gICAgICAgICAgICBpdGVtc1tpdGVtcy5sZW5ndGggLSAxXS5mb2N1cygpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbmRleCA9IGl0ZW1zLmluZGV4T2YodGhpcy5mb2N1c2VkKTtcbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGluZGV4ID0gaW5kZXggPyAtLWluZGV4IDogaXRlbXMubGVuZ3RoIC0gMTtcbiAgICAgICAgaXRlbXNbaW5kZXhdLmZvY3VzKCk7XG4gICAgfTtcbiAgICBBYnN0cmFjdE1lbnUucHJvdG90eXBlLmRvd24gPSBmdW5jdGlvbiAoX2V2ZW50KSB7XG4gICAgICAgIHZhciBpdGVtcyA9IHRoaXMuaXRlbXMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7IHJldHVybiAoeCBpbnN0YW5jZW9mIGFic3RyYWN0X2l0ZW1fanNfMS5BYnN0cmFjdEl0ZW0pICYmICgheC5pc0hpZGRlbigpKTsgfSk7XG4gICAgICAgIGlmIChpdGVtcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuZm9jdXNlZCkge1xuICAgICAgICAgICAgaXRlbXNbMF0uZm9jdXMoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5kZXggPSBpdGVtcy5pbmRleE9mKHRoaXMuZm9jdXNlZCk7XG4gICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpbmRleCsrO1xuICAgICAgICBpbmRleCA9IChpbmRleCA9PT0gaXRlbXMubGVuZ3RoKSA/IDAgOiBpbmRleDtcbiAgICAgICAgaXRlbXNbaW5kZXhdLmZvY3VzKCk7XG4gICAgfTtcbiAgICBBYnN0cmFjdE1lbnUucHJvdG90eXBlLmdlbmVyYXRlSHRtbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5nZW5lcmF0ZUh0bWwuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5nZW5lcmF0ZU1lbnUoKTtcbiAgICB9O1xuICAgIEFic3RyYWN0TWVudS5wcm90b3R5cGUuZ2VuZXJhdGVNZW51ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZV8xLCBfYTtcbiAgICAgICAgdmFyIGh0bWwgPSB0aGlzLmh0bWw7XG4gICAgICAgIGh0bWwuY2xhc3NMaXN0LmFkZChodG1sX2NsYXNzZXNfanNfMS5IdG1sQ2xhc3Nlc1snTUVOVSddKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIF9iID0gX192YWx1ZXModGhpcy5pdGVtcyksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IF9jLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICghaXRlbS5pc0hpZGRlbigpKSB7XG4gICAgICAgICAgICAgICAgICAgIGh0bWwuYXBwZW5kQ2hpbGQoaXRlbS5odG1sKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBpdGVtSHRtbCA9IGl0ZW0uaHRtbDtcbiAgICAgICAgICAgICAgICBpZiAoaXRlbUh0bWwucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICBpdGVtSHRtbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGl0ZW1IdG1sKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgQWJzdHJhY3RNZW51LnByb3RvdHlwZS5wb3N0ID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgdGhpcy52YXJpYWJsZVBvb2wudXBkYXRlKCk7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUucG9zdC5jYWxsKHRoaXMsIHgsIHkpO1xuICAgIH07XG4gICAgQWJzdHJhY3RNZW51LnByb3RvdHlwZS51bnBvc3RTdWJtZW51cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVfMiwgX2E7XG4gICAgICAgIHZhciBzdWJtZW51cyA9IHRoaXMuaXRlbXMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4IGluc3RhbmNlb2YgaXRlbV9zdWJtZW51X2pzXzEuU3VibWVudTsgfSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBzdWJtZW51c18xID0gX192YWx1ZXMoc3VibWVudXMpLCBzdWJtZW51c18xXzEgPSBzdWJtZW51c18xLm5leHQoKTsgIXN1Ym1lbnVzXzFfMS5kb25lOyBzdWJtZW51c18xXzEgPSBzdWJtZW51c18xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBzdWJtZW51ID0gc3VibWVudXNfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgIHN1Ym1lbnUuc3VibWVudS51bnBvc3QoKTtcbiAgICAgICAgICAgICAgICBpZiAoc3VibWVudSAhPT0gdGhpcy5mb2N1c2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1Ym1lbnUudW5mb2N1cygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKHN1Ym1lbnVzXzFfMSAmJiAhc3VibWVudXNfMV8xLmRvbmUgJiYgKF9hID0gc3VibWVudXNfMS5yZXR1cm4pKSBfYS5jYWxsKHN1Ym1lbnVzXzEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzIpIHRocm93IGVfMi5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBBYnN0cmFjdE1lbnUucHJvdG90eXBlLnVucG9zdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51bnBvc3QuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy51bnBvc3RTdWJtZW51cygpO1xuICAgICAgICB0aGlzLmZvY3VzZWQgPSBudWxsO1xuICAgIH07XG4gICAgQWJzdHJhY3RNZW51LnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHZhciBlXzMsIF9hO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyh0aGlzLml0ZW1zKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBpdGVtID0gX2MudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ3J1bGUnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXRlbS5pZCA9PT0gaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdzdWJtZW51Jykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gaXRlbS5zdWJtZW51LmZpbmQoaWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzNfMSkgeyBlXzMgPSB7IGVycm9yOiBlXzNfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMykgdGhyb3cgZV8zLmVycm9yOyB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gQWJzdHJhY3RNZW51O1xufShhYnN0cmFjdF9wb3N0YWJsZV9qc18xLkFic3RyYWN0UG9zdGFibGUpKTtcbmV4cG9ydHMuQWJzdHJhY3RNZW51ID0gQWJzdHJhY3RNZW51O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWJzdHJhY3RfbWVudS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQWJzdHJhY3ROYXZpZ2F0YWJsZSA9IHZvaWQgMDtcbnZhciBrZXlfbmF2aWdhdGFibGVfanNfMSA9IHJlcXVpcmUoXCIuL2tleV9uYXZpZ2F0YWJsZS5qc1wiKTtcbnZhciBtb3VzZV9uYXZpZ2F0YWJsZV9qc18xID0gcmVxdWlyZShcIi4vbW91c2VfbmF2aWdhdGFibGUuanNcIik7XG52YXIgQWJzdHJhY3ROYXZpZ2F0YWJsZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQWJzdHJhY3ROYXZpZ2F0YWJsZSgpIHtcbiAgICAgICAgdGhpcy5idWJibGUgPSBmYWxzZTtcbiAgICB9XG4gICAgQWJzdHJhY3ROYXZpZ2F0YWJsZS5wcm90b3R5cGUuYnViYmxlS2V5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmJ1YmJsZSA9IHRydWU7XG4gICAgfTtcbiAgICBBYnN0cmFjdE5hdmlnYXRhYmxlLnByb3RvdHlwZS5rZXlkb3duID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHN3aXRjaCAoZXZlbnQua2V5Q29kZSkge1xuICAgICAgICAgICAgY2FzZSBrZXlfbmF2aWdhdGFibGVfanNfMS5LRVkuRVNDQVBFOlxuICAgICAgICAgICAgICAgIHRoaXMuZXNjYXBlKGV2ZW50KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2Uga2V5X25hdmlnYXRhYmxlX2pzXzEuS0VZLlJJR0hUOlxuICAgICAgICAgICAgICAgIHRoaXMucmlnaHQoZXZlbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBrZXlfbmF2aWdhdGFibGVfanNfMS5LRVkuTEVGVDpcbiAgICAgICAgICAgICAgICB0aGlzLmxlZnQoZXZlbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBrZXlfbmF2aWdhdGFibGVfanNfMS5LRVkuVVA6XG4gICAgICAgICAgICAgICAgdGhpcy51cChldmVudCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGtleV9uYXZpZ2F0YWJsZV9qc18xLktFWS5ET1dOOlxuICAgICAgICAgICAgICAgIHRoaXMuZG93bihldmVudCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGtleV9uYXZpZ2F0YWJsZV9qc18xLktFWS5SRVRVUk46XG4gICAgICAgICAgICBjYXNlIGtleV9uYXZpZ2F0YWJsZV9qc18xLktFWS5TUEFDRTpcbiAgICAgICAgICAgICAgICB0aGlzLnNwYWNlKGV2ZW50KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYnViYmxlID8gdGhpcy5idWJibGUgPSBmYWxzZSA6IHRoaXMuc3RvcChldmVudCk7XG4gICAgfTtcbiAgICBBYnN0cmFjdE5hdmlnYXRhYmxlLnByb3RvdHlwZS5lc2NhcGUgPSBmdW5jdGlvbiAoX2V2ZW50KSB7IH07XG4gICAgQWJzdHJhY3ROYXZpZ2F0YWJsZS5wcm90b3R5cGUuc3BhY2UgPSBmdW5jdGlvbiAoX2V2ZW50KSB7IH07XG4gICAgQWJzdHJhY3ROYXZpZ2F0YWJsZS5wcm90b3R5cGUubGVmdCA9IGZ1bmN0aW9uIChfZXZlbnQpIHsgfTtcbiAgICBBYnN0cmFjdE5hdmlnYXRhYmxlLnByb3RvdHlwZS5yaWdodCA9IGZ1bmN0aW9uIChfZXZlbnQpIHsgfTtcbiAgICBBYnN0cmFjdE5hdmlnYXRhYmxlLnByb3RvdHlwZS51cCA9IGZ1bmN0aW9uIChfZXZlbnQpIHsgfTtcbiAgICBBYnN0cmFjdE5hdmlnYXRhYmxlLnByb3RvdHlwZS5kb3duID0gZnVuY3Rpb24gKF9ldmVudCkgeyB9O1xuICAgIEFic3RyYWN0TmF2aWdhdGFibGUucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBldmVudC5jYW5jZWxCdWJibGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBYnN0cmFjdE5hdmlnYXRhYmxlLnByb3RvdHlwZS5tb3VzZWRvd24gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RvcChldmVudCk7XG4gICAgfTtcbiAgICBBYnN0cmFjdE5hdmlnYXRhYmxlLnByb3RvdHlwZS5tb3VzZXVwID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0b3AoZXZlbnQpO1xuICAgIH07XG4gICAgQWJzdHJhY3ROYXZpZ2F0YWJsZS5wcm90b3R5cGUubW91c2VvdmVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0b3AoZXZlbnQpO1xuICAgIH07XG4gICAgQWJzdHJhY3ROYXZpZ2F0YWJsZS5wcm90b3R5cGUubW91c2VvdXQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RvcChldmVudCk7XG4gICAgfTtcbiAgICBBYnN0cmFjdE5hdmlnYXRhYmxlLnByb3RvdHlwZS5jbGljayA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdG9wKGV2ZW50KTtcbiAgICB9O1xuICAgIEFic3RyYWN0TmF2aWdhdGFibGUucHJvdG90eXBlLmFkZEV2ZW50cyA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihtb3VzZV9uYXZpZ2F0YWJsZV9qc18xLk1PVVNFLkRPV04sIHRoaXMubW91c2Vkb3duLmJpbmQodGhpcykpO1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIobW91c2VfbmF2aWdhdGFibGVfanNfMS5NT1VTRS5VUCwgdGhpcy5tb3VzZXVwLmJpbmQodGhpcykpO1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIobW91c2VfbmF2aWdhdGFibGVfanNfMS5NT1VTRS5PVkVSLCB0aGlzLm1vdXNlb3Zlci5iaW5kKHRoaXMpKTtcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKG1vdXNlX25hdmlnYXRhYmxlX2pzXzEuTU9VU0UuT1VULCB0aGlzLm1vdXNlb3V0LmJpbmQodGhpcykpO1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIobW91c2VfbmF2aWdhdGFibGVfanNfMS5NT1VTRS5DTElDSywgdGhpcy5jbGljay5iaW5kKHRoaXMpKTtcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5rZXlkb3duLmJpbmQodGhpcykpO1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIHRoaXMuc3RvcC5iaW5kKHRoaXMpKTtcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKG1vdXNlX25hdmlnYXRhYmxlX2pzXzEuTU9VU0UuU0VMRUNUU1RBUlQsIHRoaXMuc3RvcC5iaW5kKHRoaXMpKTtcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIHRoaXMuc3RvcC5iaW5kKHRoaXMpKTtcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKG1vdXNlX25hdmlnYXRhYmxlX2pzXzEuTU9VU0UuREJMQ0xJQ0ssIHRoaXMuc3RvcC5iaW5kKHRoaXMpKTtcbiAgICB9O1xuICAgIHJldHVybiBBYnN0cmFjdE5hdmlnYXRhYmxlO1xufSgpKTtcbmV4cG9ydHMuQWJzdHJhY3ROYXZpZ2F0YWJsZSA9IEFic3RyYWN0TmF2aWdhdGFibGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hYnN0cmFjdF9uYXZpZ2F0YWJsZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5BYnN0cmFjdFBvc3RhYmxlID0gdm9pZCAwO1xudmFyIG1lbnVfZWxlbWVudF9qc18xID0gcmVxdWlyZShcIi4vbWVudV9lbGVtZW50LmpzXCIpO1xudmFyIEFic3RyYWN0UG9zdGFibGUgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBYnN0cmFjdFBvc3RhYmxlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0UG9zdGFibGUoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5wb3N0ZWQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBBYnN0cmFjdFBvc3RhYmxlLnByb3RvdHlwZS5pc1Bvc3RlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9zdGVkO1xuICAgIH07XG4gICAgQWJzdHJhY3RQb3N0YWJsZS5wcm90b3R5cGUucG9zdCA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIGlmICh0aGlzLnBvc3RlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgKHgpICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgKHkpICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhpcy5odG1sLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnbGVmdDogJyArIHggKyAncHg7IHRvcDogJyArIHkgKyAncHg7Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kaXNwbGF5KCk7XG4gICAgICAgIHRoaXMucG9zdGVkID0gdHJ1ZTtcbiAgICB9O1xuICAgIEFic3RyYWN0UG9zdGFibGUucHJvdG90eXBlLnVucG9zdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnBvc3RlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBodG1sID0gdGhpcy5odG1sO1xuICAgICAgICBpZiAoaHRtbC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICBodG1sLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaHRtbCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wb3N0ZWQgPSBmYWxzZTtcbiAgICB9O1xuICAgIHJldHVybiBBYnN0cmFjdFBvc3RhYmxlO1xufShtZW51X2VsZW1lbnRfanNfMS5NZW51RWxlbWVudCkpO1xuZXhwb3J0cy5BYnN0cmFjdFBvc3RhYmxlID0gQWJzdHJhY3RQb3N0YWJsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFic3RyYWN0X3Bvc3RhYmxlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkFic3RyYWN0VmFyaWFibGVJdGVtID0gdm9pZCAwO1xudmFyIGFic3RyYWN0X2l0ZW1fanNfMSA9IHJlcXVpcmUoXCIuL2Fic3RyYWN0X2l0ZW0uanNcIik7XG52YXIgQWJzdHJhY3RWYXJpYWJsZUl0ZW0gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBYnN0cmFjdFZhcmlhYmxlSXRlbSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBYnN0cmFjdFZhcmlhYmxlSXRlbSgpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBBYnN0cmFjdFZhcmlhYmxlSXRlbS5wcm90b3R5cGUuZ2VuZXJhdGVIdG1sID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmdlbmVyYXRlSHRtbC5jYWxsKHRoaXMpO1xuICAgICAgICB2YXIgaHRtbCA9IHRoaXMuaHRtbDtcbiAgICAgICAgaWYgKCF0aGlzLnNwYW4pIHtcbiAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVTcGFuKCk7XG4gICAgICAgIH1cbiAgICAgICAgaHRtbC5hcHBlbmRDaGlsZCh0aGlzLnNwYW4pO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH07XG4gICAgQWJzdHJhY3RWYXJpYWJsZUl0ZW0ucHJvdG90eXBlLnJlZ2lzdGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnZhcmlhYmxlLnJlZ2lzdGVyKHRoaXMpO1xuICAgIH07XG4gICAgQWJzdHJhY3RWYXJpYWJsZUl0ZW0ucHJvdG90eXBlLnVucmVnaXN0ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudmFyaWFibGUudW5yZWdpc3Rlcih0aGlzKTtcbiAgICB9O1xuICAgIEFic3RyYWN0VmFyaWFibGVJdGVtLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudXBkYXRlQXJpYSgpO1xuICAgICAgICBpZiAodGhpcy5zcGFuKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVNwYW4oKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEFic3RyYWN0VmFyaWFibGVJdGVtO1xufShhYnN0cmFjdF9pdGVtX2pzXzEuQWJzdHJhY3RJdGVtKSk7XG5leHBvcnRzLkFic3RyYWN0VmFyaWFibGVJdGVtID0gQWJzdHJhY3RWYXJpYWJsZUl0ZW07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hYnN0cmFjdF92YXJpYWJsZV9pdGVtLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNsb3NlQnV0dG9uID0gdm9pZCAwO1xudmFyIGFic3RyYWN0X3Bvc3RhYmxlX2pzXzEgPSByZXF1aXJlKFwiLi9hYnN0cmFjdF9wb3N0YWJsZS5qc1wiKTtcbnZhciBodG1sX2NsYXNzZXNfanNfMSA9IHJlcXVpcmUoXCIuL2h0bWxfY2xhc3Nlcy5qc1wiKTtcbnZhciBDbG9zZUJ1dHRvbiA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENsb3NlQnV0dG9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENsb3NlQnV0dG9uKGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIF90aGlzLmNsYXNzTmFtZSA9IGh0bWxfY2xhc3Nlc19qc18xLkh0bWxDbGFzc2VzWydNRU5VQ0xPU0UnXTtcbiAgICAgICAgX3RoaXMucm9sZSA9ICdidXR0b24nO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIENsb3NlQnV0dG9uLnByb3RvdHlwZS5nZW5lcmF0ZUh0bWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBodG1sID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBodG1sLmNsYXNzTGlzdC5hZGQodGhpcy5jbGFzc05hbWUpO1xuICAgICAgICBodG1sLnNldEF0dHJpYnV0ZSgncm9sZScsIHRoaXMucm9sZSk7XG4gICAgICAgIGh0bWwuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICcwJyk7XG4gICAgICAgIHZhciBjb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBjb250ZW50LnRleHRDb250ZW50ID0gJ1xcdTAwRDcnO1xuICAgICAgICBodG1sLmFwcGVuZENoaWxkKGNvbnRlbnQpO1xuICAgICAgICB0aGlzLmh0bWwgPSBodG1sO1xuICAgIH07XG4gICAgQ2xvc2VCdXR0b24ucHJvdG90eXBlLmRpc3BsYXkgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgQ2xvc2VCdXR0b24ucHJvdG90eXBlLnVucG9zdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51bnBvc3QuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5lbGVtZW50LnVucG9zdCgpO1xuICAgIH07XG4gICAgQ2xvc2VCdXR0b24ucHJvdG90eXBlLmtleWRvd24gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5idWJibGVLZXkoKTtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5rZXlkb3duLmNhbGwodGhpcywgZXZlbnQpO1xuICAgIH07XG4gICAgQ2xvc2VCdXR0b24ucHJvdG90eXBlLnNwYWNlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHRoaXMudW5wb3N0KCk7XG4gICAgICAgIHRoaXMuc3RvcChldmVudCk7XG4gICAgfTtcbiAgICBDbG9zZUJ1dHRvbi5wcm90b3R5cGUubW91c2Vkb3duID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHRoaXMudW5wb3N0KCk7XG4gICAgICAgIHRoaXMuc3RvcChldmVudCk7XG4gICAgfTtcbiAgICByZXR1cm4gQ2xvc2VCdXR0b247XG59KGFic3RyYWN0X3Bvc3RhYmxlX2pzXzEuQWJzdHJhY3RQb3N0YWJsZSkpO1xuZXhwb3J0cy5DbG9zZUJ1dHRvbiA9IENsb3NlQnV0dG9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2xvc2VfYnV0dG9uLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNvbnRleHRNZW51ID0gdm9pZCAwO1xudmFyIGFic3RyYWN0X21lbnVfanNfMSA9IHJlcXVpcmUoXCIuL2Fic3RyYWN0X21lbnUuanNcIik7XG52YXIgaHRtbF9jbGFzc2VzX2pzXzEgPSByZXF1aXJlKFwiLi9odG1sX2NsYXNzZXMuanNcIik7XG52YXIgbWVudV9zdG9yZV9qc18xID0gcmVxdWlyZShcIi4vbWVudV9zdG9yZS5qc1wiKTtcbnZhciB2YXJpYWJsZV9wb29sX2pzXzEgPSByZXF1aXJlKFwiLi92YXJpYWJsZV9wb29sLmpzXCIpO1xudmFyIENvbnRleHRNZW51ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ29udGV4dE1lbnUsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ29udGV4dE1lbnUoZmFjdG9yeSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5mYWN0b3J5ID0gZmFjdG9yeTtcbiAgICAgICAgX3RoaXMuaWQgPSAnJztcbiAgICAgICAgX3RoaXMubW92aW5nID0gZmFsc2U7XG4gICAgICAgIF90aGlzLl9zdG9yZSA9IG5ldyBtZW51X3N0b3JlX2pzXzEuTWVudVN0b3JlKF90aGlzKTtcbiAgICAgICAgX3RoaXMud2lkZ2V0cyA9IFtdO1xuICAgICAgICBfdGhpcy52YXJpYWJsZVBvb2wgPSBuZXcgdmFyaWFibGVfcG9vbF9qc18xLlZhcmlhYmxlUG9vbCgpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIENvbnRleHRNZW51LmZyb21Kc29uID0gZnVuY3Rpb24gKGZhY3RvcnksIF9hKSB7XG4gICAgICAgIHZhciBwb29sID0gX2EucG9vbCwgaXRlbXMgPSBfYS5pdGVtcywgX2IgPSBfYS5pZCwgaWQgPSBfYiA9PT0gdm9pZCAwID8gJycgOiBfYjtcbiAgICAgICAgdmFyIGN0eHRNZW51ID0gbmV3IHRoaXMoZmFjdG9yeSk7XG4gICAgICAgIGN0eHRNZW51LmlkID0gaWQ7XG4gICAgICAgIHZhciB2YXJQYXJzZXIgPSBmYWN0b3J5LmdldCgndmFyaWFibGUnKTtcbiAgICAgICAgcG9vbC5mb3JFYWNoKGZ1bmN0aW9uICh4KSB7IHJldHVybiB2YXJQYXJzZXIoZmFjdG9yeSwgeCwgY3R4dE1lbnUucG9vbCk7IH0pO1xuICAgICAgICB2YXIgaXRlbUxpc3QgPSBmYWN0b3J5LmdldCgnaXRlbXMnKShmYWN0b3J5LCBpdGVtcywgY3R4dE1lbnUpO1xuICAgICAgICBjdHh0TWVudS5pdGVtcyA9IGl0ZW1MaXN0O1xuICAgICAgICByZXR1cm4gY3R4dE1lbnU7XG4gICAgfTtcbiAgICBDb250ZXh0TWVudS5wcm90b3R5cGUuZ2VuZXJhdGVIdG1sID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5pc1Bvc3RlZCgpKSB7XG4gICAgICAgICAgICB0aGlzLnVucG9zdCgpO1xuICAgICAgICB9XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZ2VuZXJhdGVIdG1sLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuX2ZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuX2ZyYW1lLmNsYXNzTGlzdC5hZGQoaHRtbF9jbGFzc2VzX2pzXzEuSHRtbENsYXNzZXNbJ01FTlVGUkFNRSddKTtcbiAgICAgICAgdmFyIHN0eWxlU3RyaW5nID0gJ2xlZnQ6IDBweDsgdG9wOiAwcHg7IHotaW5kZXg6IDIwMDsgd2lkdGg6IDEwMCU7ICcgK1xuICAgICAgICAgICAgJ2hlaWdodDogMTAwJTsgYm9yZGVyOiAwcHg7IHBhZGRpbmc6IDBweDsgbWFyZ2luOiAwcHg7JztcbiAgICAgICAgdGhpcy5fZnJhbWUuc2V0QXR0cmlidXRlKCdzdHlsZScsICdwb3NpdGlvbjogYWJzb2x1dGU7ICcgKyBzdHlsZVN0cmluZyk7XG4gICAgICAgIHZhciBpbm5lckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBpbm5lckRpdi5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ3Bvc2l0aW9uOiBmaXhlZDsgJyArIHN0eWxlU3RyaW5nKTtcbiAgICAgICAgdGhpcy5fZnJhbWUuYXBwZW5kQ2hpbGQoaW5uZXJEaXYpO1xuICAgICAgICBpbm5lckRpdi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHRoaXMudW5wb3N0KCk7XG4gICAgICAgICAgICB0aGlzLnVucG9zdFdpZGdldHMoKTtcbiAgICAgICAgICAgIHRoaXMuc3RvcChldmVudCk7XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgfTtcbiAgICBDb250ZXh0TWVudS5wcm90b3R5cGUuZGlzcGxheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmZyYW1lKTtcbiAgICAgICAgdGhpcy5mcmFtZS5hcHBlbmRDaGlsZCh0aGlzLmh0bWwpO1xuICAgICAgICB0aGlzLmZvY3VzKCk7XG4gICAgfTtcbiAgICBDb250ZXh0TWVudS5wcm90b3R5cGUuZXNjYXBlID0gZnVuY3Rpb24gKF9ldmVudCkge1xuICAgICAgICB0aGlzLnVucG9zdCgpO1xuICAgICAgICB0aGlzLnVucG9zdFdpZGdldHMoKTtcbiAgICB9O1xuICAgIENvbnRleHRNZW51LnByb3RvdHlwZS51bnBvc3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUudW5wb3N0LmNhbGwodGhpcyk7XG4gICAgICAgIGlmICh0aGlzLndpZGdldHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZnJhbWUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmZyYW1lKTtcbiAgICAgICAgdmFyIHN0b3JlID0gdGhpcy5zdG9yZTtcbiAgICAgICAgaWYgKCF0aGlzLm1vdmluZykge1xuICAgICAgICAgICAgc3RvcmUuaW5zZXJ0VGFib3JkZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBzdG9yZS5hY3RpdmUuZm9jdXMoKTtcbiAgICB9O1xuICAgIENvbnRleHRNZW51LnByb3RvdHlwZS5sZWZ0ID0gZnVuY3Rpb24gKF9ldmVudCkge1xuICAgICAgICB0aGlzLm1vdmVfKHRoaXMuc3RvcmUucHJldmlvdXMoKSk7XG4gICAgfTtcbiAgICBDb250ZXh0TWVudS5wcm90b3R5cGUucmlnaHQgPSBmdW5jdGlvbiAoX2V2ZW50KSB7XG4gICAgICAgIHRoaXMubW92ZV8odGhpcy5zdG9yZS5uZXh0KCkpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnRleHRNZW51LnByb3RvdHlwZSwgXCJmcmFtZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZyYW1lO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnRleHRNZW51LnByb3RvdHlwZSwgXCJzdG9yZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0b3JlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgQ29udGV4dE1lbnUucHJvdG90eXBlLnBvc3QgPSBmdW5jdGlvbiAobnVtYmVyT3JFdmVudCwgaXNZKSB7XG4gICAgICAgIGlmICh0eXBlb2YgKGlzWSkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMubW92aW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdG9yZS5yZW1vdmVUYWJvcmRlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5wb3N0LmNhbGwodGhpcywgbnVtYmVyT3JFdmVudCwgaXNZKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZXZlbnQgPSBudW1iZXJPckV2ZW50O1xuICAgICAgICB2YXIgbm9kZTtcbiAgICAgICAgaWYgKGV2ZW50IGluc3RhbmNlb2YgRXZlbnQpIHtcbiAgICAgICAgICAgIG5vZGUgPSBldmVudC50YXJnZXQ7XG4gICAgICAgICAgICB0aGlzLnN0b3AoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbm9kZSA9IGV2ZW50O1xuICAgICAgICB9XG4gICAgICAgIHZhciB4O1xuICAgICAgICB2YXIgeTtcbiAgICAgICAgaWYgKGV2ZW50IGluc3RhbmNlb2YgTW91c2VFdmVudCkge1xuICAgICAgICAgICAgeCA9IGV2ZW50LnBhZ2VYLCB5ID0gZXZlbnQucGFnZVk7XG4gICAgICAgICAgICBpZiAoIXggJiYgIXkgJiYgZXZlbnQuY2xpZW50WCkge1xuICAgICAgICAgICAgICAgIHggPSBldmVudC5jbGllbnRYICsgZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0ICtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQ7XG4gICAgICAgICAgICAgICAgeSA9IGV2ZW50LmNsaWVudFkgKyBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCArXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF4ICYmICF5ICYmIG5vZGUpIHtcbiAgICAgICAgICAgIHZhciBvZmZzZXRYID0gd2luZG93LnBhZ2VYT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0O1xuICAgICAgICAgICAgdmFyIG9mZnNldFkgPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcbiAgICAgICAgICAgIHZhciByZWN0ID0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIHggPSAocmVjdC5yaWdodCArIHJlY3QubGVmdCkgLyAyICsgb2Zmc2V0WDtcbiAgICAgICAgICAgIHkgPSAocmVjdC5ib3R0b20gKyByZWN0LnRvcCkgLyAyICsgb2Zmc2V0WTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0b3JlLmFjdGl2ZSA9IG5vZGU7XG4gICAgICAgIHRoaXMuYW5jaG9yID0gdGhpcy5zdG9yZS5hY3RpdmU7XG4gICAgICAgIHZhciBtZW51ID0gdGhpcy5odG1sO1xuICAgICAgICB2YXIgbWFyZ2luID0gNTtcbiAgICAgICAgaWYgKHggKyBtZW51Lm9mZnNldFdpZHRoID4gZG9jdW1lbnQuYm9keS5vZmZzZXRXaWR0aCAtIG1hcmdpbikge1xuICAgICAgICAgICAgeCA9IGRvY3VtZW50LmJvZHkub2Zmc2V0V2lkdGggLSBtZW51Lm9mZnNldFdpZHRoIC0gbWFyZ2luO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucG9zdCh4LCB5KTtcbiAgICB9O1xuICAgIENvbnRleHRNZW51LnByb3RvdHlwZS5yZWdpc3RlcldpZGdldCA9IGZ1bmN0aW9uICh3aWRnZXQpIHtcbiAgICAgICAgdGhpcy53aWRnZXRzLnB1c2god2lkZ2V0KTtcbiAgICB9O1xuICAgIENvbnRleHRNZW51LnByb3RvdHlwZS51bnJlZ2lzdGVyV2lkZ2V0ID0gZnVuY3Rpb24gKHdpZGdldCkge1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLndpZGdldHMuaW5kZXhPZih3aWRnZXQpO1xuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgdGhpcy53aWRnZXRzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMud2lkZ2V0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMudW5wb3N0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENvbnRleHRNZW51LnByb3RvdHlwZS51bnBvc3RXaWRnZXRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLndpZGdldHMuZm9yRWFjaChmdW5jdGlvbiAoeCkgeyByZXR1cm4geC51bnBvc3QoKTsgfSk7XG4gICAgfTtcbiAgICBDb250ZXh0TWVudS5wcm90b3R5cGUudG9Kc29uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4geyB0eXBlOiAnJyB9O1xuICAgIH07XG4gICAgQ29udGV4dE1lbnUucHJvdG90eXBlLm1vdmVfID0gZnVuY3Rpb24gKG5leHQpIHtcbiAgICAgICAgaWYgKHRoaXMuYW5jaG9yICYmIG5leHQgIT09IHRoaXMuYW5jaG9yKSB7XG4gICAgICAgICAgICB0aGlzLm1vdmluZyA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnVucG9zdCgpO1xuICAgICAgICAgICAgdGhpcy5wb3N0KG5leHQpO1xuICAgICAgICAgICAgdGhpcy5tb3ZpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIENvbnRleHRNZW51O1xufShhYnN0cmFjdF9tZW51X2pzXzEuQWJzdHJhY3RNZW51KSk7XG5leHBvcnRzLkNvbnRleHRNZW51ID0gQ29udGV4dE1lbnU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb250ZXh0X21lbnUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNzc1N0eWxlcyA9IHZvaWQgMDtcbnZhciBodG1sX2NsYXNzZXNfanNfMSA9IHJlcXVpcmUoXCIuL2h0bWxfY2xhc3Nlcy5qc1wiKTtcbnZhciBDc3NTdHlsZXM7XG4oZnVuY3Rpb24gKENzc1N0eWxlcykge1xuICAgIGZ1bmN0aW9uIG1ha2VDbGFzc18obmFtZSkge1xuICAgICAgICByZXR1cm4gJy4nICsgKGh0bWxfY2xhc3Nlc19qc18xLkh0bWxDbGFzc2VzW25hbWVdIHx8IG5hbWUpO1xuICAgIH1cbiAgICB2YXIgSU5GT19TVFlMRVMgPSB7fTtcbiAgICBJTkZPX1NUWUxFU1ttYWtlQ2xhc3NfKCdJTkZPQ0xPU0UnKV0gPSAneycgK1xuICAgICAgICAnICB0b3A6LjJlbTsgcmlnaHQ6LjJlbTsnICtcbiAgICAgICAgJ30nLFxuICAgICAgICBJTkZPX1NUWUxFU1ttYWtlQ2xhc3NfKCdJTkZPQ09OVEVOVCcpXSA9ICd7JyArXG4gICAgICAgICAgICAnICBvdmVyZmxvdzphdXRvOyB0ZXh0LWFsaWduOmxlZnQ7IGZvbnQtc2l6ZTo4MCU7JyArXG4gICAgICAgICAgICAnICBwYWRkaW5nOi40ZW0gLjZlbTsgYm9yZGVyOjFweCBpbnNldDsgbWFyZ2luOjFlbSAwcHg7JyArXG4gICAgICAgICAgICAnICBtYXgtaGVpZ2h0OjIwZW07IG1heC13aWR0aDozMGVtOyBiYWNrZ3JvdW5kLWNvbG9yOiNFRUVFRUU7JyArXG4gICAgICAgICAgICAnICB3aGl0ZS1zcGFjZTpub3JtYWw7JyArXG4gICAgICAgICAgICAnfScsXG4gICAgICAgIElORk9fU1RZTEVTW21ha2VDbGFzc18oJ0lORk8nKSArIG1ha2VDbGFzc18oJ01PVVNFUE9TVCcpXSA9ICd7JyArXG4gICAgICAgICAgICAnb3V0bGluZTpub25lOycgK1xuICAgICAgICAgICAgJ30nLFxuICAgICAgICBJTkZPX1NUWUxFU1ttYWtlQ2xhc3NfKCdJTkZPJyldID0gJ3snICtcbiAgICAgICAgICAgICcgIHBvc2l0aW9uOmZpeGVkOyBsZWZ0OjUwJTsgd2lkdGg6YXV0bzsgdGV4dC1hbGlnbjpjZW50ZXI7JyArXG4gICAgICAgICAgICAnICBib3JkZXI6M3B4IG91dHNldDsgcGFkZGluZzoxZW0gMmVtOyBiYWNrZ3JvdW5kLWNvbG9yOiNEREREREQ7JyArXG4gICAgICAgICAgICAnICBjb2xvcjpibGFjazsnICtcbiAgICAgICAgICAgICcgIGN1cnNvcjpkZWZhdWx0OyBmb250LWZhbWlseTptZXNzYWdlLWJveDsgZm9udC1zaXplOjEyMCU7JyArXG4gICAgICAgICAgICAnICBmb250LXN0eWxlOm5vcm1hbDsgdGV4dC1pbmRlbnQ6MDsgdGV4dC10cmFuc2Zvcm06bm9uZTsnICtcbiAgICAgICAgICAgICcgIGxpbmUtaGVpZ2h0Om5vcm1hbDsgbGV0dGVyLXNwYWNpbmc6bm9ybWFsOyB3b3JkLXNwYWNpbmc6bm9ybWFsOycgK1xuICAgICAgICAgICAgJyAgd29yZC13cmFwOm5vcm1hbDsgd2hpdGUtc3BhY2U6bm93cmFwOyBmbG9hdDpub25lOyB6LWluZGV4OjIwMTsnICtcbiAgICAgICAgICAgICcgIGJvcmRlci1yYWRpdXM6IDE1cHg7ICAgICAgICAgICAgICAgICAgICAgLyogT3BlcmEgMTAuNSBhbmQgSUU5ICovJyArXG4gICAgICAgICAgICAnICAtd2Via2l0LWJvcmRlci1yYWRpdXM6MTVweDsgICAgICAgICAgICAgICAvKiBTYWZhcmkgYW5kIENocm9tZSAqLycgK1xuICAgICAgICAgICAgJyAgLW1vei1ib3JkZXItcmFkaXVzOjE1cHg7ICAgICAgICAgICAgICAgICAgLyogRmlyZWZveCAqLycgK1xuICAgICAgICAgICAgJyAgLWtodG1sLWJvcmRlci1yYWRpdXM6MTVweDsgICAgICAgICAgICAgICAgLyogS29ucXVlcm9yICovJyArXG4gICAgICAgICAgICAnICBib3gtc2hhZG93OjBweCAxMHB4IDIwcHggIzgwODA4MDsgICAgICAgICAvKiBPcGVyYSAxMC41IGFuZCBJRTkgKi8nICtcbiAgICAgICAgICAgICcgIC13ZWJraXQtYm94LXNoYWRvdzowcHggMTBweCAyMHB4ICM4MDgwODA7IC8qIFNhZmFyaSAzICYgQ2hyb21lICovJyArXG4gICAgICAgICAgICAnICAtbW96LWJveC1zaGFkb3c6MHB4IDEwcHggMjBweCAjODA4MDgwOyAgICAvKiBGb3JlZm94IDMuNSAqLycgK1xuICAgICAgICAgICAgJyAgLWtodG1sLWJveC1zaGFkb3c6MHB4IDEwcHggMjBweCAjODA4MDgwOyAgLyogS29ucXVlcm9yICovJyArXG4gICAgICAgICAgICAnICBmaWx0ZXI6cHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LmRyb3BzaGFkb3coT2ZmWD0yLCcgK1xuICAgICAgICAgICAgJyBPZmZZPTIsIENvbG9yPVwiZ3JheVwiLCBQb3NpdGl2ZT1cInRydWVcIik7IC8qIElFICovJyArXG4gICAgICAgICAgICAnfSc7XG4gICAgdmFyIE1FTlVfU1RZTEVTID0ge307XG4gICAgTUVOVV9TVFlMRVNbbWFrZUNsYXNzXygnTUVOVScpXSA9ICd7JyArXG4gICAgICAgICcgIHBvc2l0aW9uOmFic29sdXRlOycgK1xuICAgICAgICAnICBiYWNrZ3JvdW5kLWNvbG9yOndoaXRlOycgK1xuICAgICAgICAnICBjb2xvcjpibGFjazsnICtcbiAgICAgICAgJyAgd2lkdGg6YXV0bzsgcGFkZGluZzo1cHggMHB4OycgK1xuICAgICAgICAnICBib3JkZXI6MXB4IHNvbGlkICNDQ0NDQ0M7IG1hcmdpbjowOyBjdXJzb3I6ZGVmYXVsdDsnICtcbiAgICAgICAgJyAgZm9udDogbWVudTsgdGV4dC1hbGlnbjpsZWZ0OyB0ZXh0LWluZGVudDowOyB0ZXh0LXRyYW5zZm9ybTpub25lOycgK1xuICAgICAgICAnICBsaW5lLWhlaWdodDpub3JtYWw7IGxldHRlci1zcGFjaW5nOm5vcm1hbDsgd29yZC1zcGFjaW5nOm5vcm1hbDsnICtcbiAgICAgICAgJyAgd29yZC13cmFwOm5vcm1hbDsgd2hpdGUtc3BhY2U6bm93cmFwOyBmbG9hdDpub25lOyB6LWluZGV4OjIwMTsnICtcbiAgICAgICAgJyAgYm9yZGVyLXJhZGl1czogNXB4OyAgICAgICAgICAgICAgICAgICAgIC8qIE9wZXJhIDEwLjUgYW5kIElFOSAqLycgK1xuICAgICAgICAnICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDVweDsgICAgICAgICAgICAgLyogU2FmYXJpIGFuZCBDaHJvbWUgKi8nICtcbiAgICAgICAgJyAgLW1vei1ib3JkZXItcmFkaXVzOiA1cHg7ICAgICAgICAgICAgICAgIC8qIEZpcmVmb3ggKi8nICtcbiAgICAgICAgJyAgLWtodG1sLWJvcmRlci1yYWRpdXM6IDVweDsgICAgICAgICAgICAgIC8qIEtvbnF1ZXJvciAqLycgK1xuICAgICAgICAnICBib3gtc2hhZG93OjBweCAxMHB4IDIwcHggIzgwODA4MDsgICAgICAgICAvKiBPcGVyYSAxMC41IGFuZCBJRTkgKi8nICtcbiAgICAgICAgJyAgLXdlYmtpdC1ib3gtc2hhZG93OjBweCAxMHB4IDIwcHggIzgwODA4MDsgLyogU2FmYXJpIDMgJiBDaHJvbWUgKi8nICtcbiAgICAgICAgJyAgLW1vei1ib3gtc2hhZG93OjBweCAxMHB4IDIwcHggIzgwODA4MDsgICAgLyogRm9yZWZveCAzLjUgKi8nICtcbiAgICAgICAgJyAgLWtodG1sLWJveC1zaGFkb3c6MHB4IDEwcHggMjBweCAjODA4MDgwOyAgLyogS29ucXVlcm9yICovJyArXG4gICAgICAgICd9JyxcbiAgICAgICAgTUVOVV9TVFlMRVNbbWFrZUNsYXNzXygnTUVOVUlURU0nKV0gPSAneycgK1xuICAgICAgICAgICAgJyAgcGFkZGluZzogMXB4IDJlbTsnICtcbiAgICAgICAgICAgICcgIGJhY2tncm91bmQ6dHJhbnNwYXJlbnQ7JyArXG4gICAgICAgICAgICAnfScsXG4gICAgICAgIE1FTlVfU1RZTEVTW21ha2VDbGFzc18oJ01FTlVBUlJPVycpXSA9ICd7JyArXG4gICAgICAgICAgICAnICBwb3NpdGlvbjphYnNvbHV0ZTsgcmlnaHQ6LjVlbTsgcGFkZGluZy10b3A6LjI1ZW07IGNvbG9yOiM2NjY2NjY7JyArXG4gICAgICAgICAgICAnICBmb250LWZhbWlseTogbnVsbDsgZm9udC1zaXplOiAuNzVlbScgK1xuICAgICAgICAgICAgJ30nLFxuICAgICAgICBNRU5VX1NUWUxFU1ttYWtlQ2xhc3NfKCdNRU5VQUNUSVZFJykgKyAnICcgKyBtYWtlQ2xhc3NfKCdNRU5VQVJST1cnKV0gPVxuICAgICAgICAgICAgJ3tjb2xvcjp3aGl0ZX0nLFxuICAgICAgICBNRU5VX1NUWUxFU1ttYWtlQ2xhc3NfKCdNRU5VQVJST1cnKSArIG1ha2VDbGFzc18oJ1JUTCcpXSA9XG4gICAgICAgICAgICAne2xlZnQ6LjVlbTsgcmlnaHQ6YXV0b30nLFxuICAgICAgICBNRU5VX1NUWUxFU1ttYWtlQ2xhc3NfKCdNRU5VQ0hFQ0snKV0gPSAneycgK1xuICAgICAgICAgICAgJyAgcG9zaXRpb246YWJzb2x1dGU7IGxlZnQ6LjdlbTsnICtcbiAgICAgICAgICAgICcgIGZvbnQtZmFtaWx5OiBudWxsJyArXG4gICAgICAgICAgICAnfScsXG4gICAgICAgIE1FTlVfU1RZTEVTW21ha2VDbGFzc18oJ01FTlVDSEVDSycpICsgbWFrZUNsYXNzXygnUlRMJyldID1cbiAgICAgICAgICAgICd7IHJpZ2h0Oi43ZW07IGxlZnQ6YXV0byB9JyxcbiAgICAgICAgTUVOVV9TVFlMRVNbbWFrZUNsYXNzXygnTUVOVVJBRElPQ0hFQ0snKV0gPSAneycgK1xuICAgICAgICAgICAgJyAgcG9zaXRpb246YWJzb2x1dGU7IGxlZnQ6IC43ZW07JyArXG4gICAgICAgICAgICAnfScsXG4gICAgICAgIE1FTlVfU1RZTEVTW21ha2VDbGFzc18oJ01FTlVSQURJT0NIRUNLJykgKyBtYWtlQ2xhc3NfKCdSVEwnKV0gPSAneycgK1xuICAgICAgICAgICAgJyAgcmlnaHQ6IC43ZW07IGxlZnQ6YXV0bycgK1xuICAgICAgICAgICAgJ30nLFxuICAgICAgICBNRU5VX1NUWUxFU1ttYWtlQ2xhc3NfKCdNRU5VSU5QVVRCT1gnKV0gPSAneycgK1xuICAgICAgICAgICAgJyAgcGFkZGluZy1sZWZ0OiAxZW07IHJpZ2h0Oi41ZW07IGNvbG9yOiM2NjY2NjY7JyArXG4gICAgICAgICAgICAnICBmb250LWZhbWlseTogbnVsbDsnICtcbiAgICAgICAgICAgICd9JyxcbiAgICAgICAgTUVOVV9TVFlMRVNbbWFrZUNsYXNzXygnTUVOVUlOUFVUQk9YJykgKyBtYWtlQ2xhc3NfKCdSVEwnKV0gPSAneycgK1xuICAgICAgICAgICAgJyAgbGVmdDogLjFlbTsnICtcbiAgICAgICAgICAgICd9JyxcbiAgICAgICAgTUVOVV9TVFlMRVNbbWFrZUNsYXNzXygnTUVOVUNPTUJPQk9YJyldID0gJ3snICtcbiAgICAgICAgICAgICcgIGxlZnQ6LjFlbTsgcGFkZGluZy1ib3R0b206LjVlbTsnICtcbiAgICAgICAgICAgICd9JyxcbiAgICAgICAgTUVOVV9TVFlMRVNbbWFrZUNsYXNzXygnTUVOVVNMSURFUicpXSA9ICd7JyArXG4gICAgICAgICAgICAnICBsZWZ0OiAuMWVtOycgK1xuICAgICAgICAgICAgJ30nLFxuICAgICAgICBNRU5VX1NUWUxFU1ttYWtlQ2xhc3NfKCdTTElERVJWQUxVRScpXSA9ICd7JyArXG4gICAgICAgICAgICAnICBwb3NpdGlvbjphYnNvbHV0ZTsgcmlnaHQ6LjFlbTsgcGFkZGluZy10b3A6LjI1ZW07IGNvbG9yOiMzMzMzMzM7JyArXG4gICAgICAgICAgICAnICBmb250LXNpemU6IC43NWVtJyArXG4gICAgICAgICAgICAnfScsXG4gICAgICAgIE1FTlVfU1RZTEVTW21ha2VDbGFzc18oJ1NMSURFUkJBUicpXSA9ICd7JyArXG4gICAgICAgICAgICAnICBvdXRsaW5lOiBub25lOyBiYWNrZ3JvdW5kOiAjZDNkM2QzJyArXG4gICAgICAgICAgICAnfScsXG4gICAgICAgIE1FTlVfU1RZTEVTW21ha2VDbGFzc18oJ01FTlVMQUJFTCcpXSA9ICd7JyArXG4gICAgICAgICAgICAnICBwYWRkaW5nOiAxcHggMmVtIDNweCAxLjMzZW07JyArXG4gICAgICAgICAgICAnICBmb250LXN0eWxlOml0YWxpYycgK1xuICAgICAgICAgICAgJ30nLFxuICAgICAgICBNRU5VX1NUWUxFU1ttYWtlQ2xhc3NfKCdNRU5VUlVMRScpXSA9ICd7JyArXG4gICAgICAgICAgICAnICBib3JkZXItdG9wOiAxcHggc29saWQgI0RERERERDsnICtcbiAgICAgICAgICAgICcgIG1hcmdpbjogNHB4IDNweDsnICtcbiAgICAgICAgICAgICd9JyxcbiAgICAgICAgTUVOVV9TVFlMRVNbbWFrZUNsYXNzXygnTUVOVURJU0FCTEVEJyldID0gJ3snICtcbiAgICAgICAgICAgICcgIGNvbG9yOkdyYXlUZXh0JyArXG4gICAgICAgICAgICAnfScsXG4gICAgICAgIE1FTlVfU1RZTEVTW21ha2VDbGFzc18oJ01FTlVBQ1RJVkUnKV0gPSAneycgK1xuICAgICAgICAgICAgJyAgYmFja2dyb3VuZC1jb2xvcjogIzYwNjg3MjsnICtcbiAgICAgICAgICAgICcgIGNvbG9yOiB3aGl0ZTsnICtcbiAgICAgICAgICAgICd9JyxcbiAgICAgICAgTUVOVV9TVFlMRVNbbWFrZUNsYXNzXygnTUVOVURJU0FCTEVEJykgKyAnOmZvY3VzJ10gPSAneycgK1xuICAgICAgICAgICAgJyAgYmFja2dyb3VuZC1jb2xvcjogI0U4RThFOCcgK1xuICAgICAgICAgICAgJ30nLFxuICAgICAgICBNRU5VX1NUWUxFU1ttYWtlQ2xhc3NfKCdNRU5VTEFCRUwnKSArICc6Zm9jdXMnXSA9ICd7JyArXG4gICAgICAgICAgICAnICBiYWNrZ3JvdW5kLWNvbG9yOiAjRThFOEU4JyArXG4gICAgICAgICAgICAnfScsXG4gICAgICAgIE1FTlVfU1RZTEVTW21ha2VDbGFzc18oJ0NPTlRFWFRNRU5VJykgKyAnOmZvY3VzJ10gPSAneycgK1xuICAgICAgICAgICAgJyAgb3V0bGluZTpub25lJyArXG4gICAgICAgICAgICAnfScsXG4gICAgICAgIE1FTlVfU1RZTEVTW21ha2VDbGFzc18oJ0NPTlRFWFRNRU5VJykgKyAnICcgK1xuICAgICAgICAgICAgbWFrZUNsYXNzXygnTUVOVUlURU0nKSArICc6Zm9jdXMnXSA9ICd7JyArXG4gICAgICAgICAgICAnICBvdXRsaW5lOm5vbmUnICtcbiAgICAgICAgICAgICd9JyxcbiAgICAgICAgTUVOVV9TVFlMRVNbbWFrZUNsYXNzXygnU0VMRUNUSU9OTUVOVScpXSA9ICd7JyArXG4gICAgICAgICAgICAnICBwb3NpdGlvbjpyZWxhdGl2ZTsgZmxvYXQ6bGVmdDsnICtcbiAgICAgICAgICAgICcgIGJvcmRlci1ib3R0b206IG5vbmU7JyArXG4gICAgICAgICAgICAnIC13ZWJraXQtYm94LXNoYWRvdzpub25lOycgK1xuICAgICAgICAgICAgJyAtd2Via2l0LWJvcmRlci1yYWRpdXM6MHB4OyAnICtcbiAgICAgICAgICAgICd9JyxcbiAgICAgICAgTUVOVV9TVFlMRVNbbWFrZUNsYXNzXygnU0VMRUNUSU9OSVRFTScpXSA9ICd7JyArXG4gICAgICAgICAgICAnICBwYWRkaW5nLXJpZ2h0OiAxZW07JyArXG4gICAgICAgICAgICAnfScsXG4gICAgICAgIE1FTlVfU1RZTEVTW21ha2VDbGFzc18oJ1NFTEVDVElPTicpXSA9ICd7JyArXG4gICAgICAgICAgICAnICByaWdodDogNDAlOyB3aWR0aDo1MCU7ICcgK1xuICAgICAgICAgICAgJ30nLFxuICAgICAgICBNRU5VX1NUWUxFU1ttYWtlQ2xhc3NfKCdTRUxFQ1RJT05CT1gnKV0gPSAneycgK1xuICAgICAgICAgICAgJyAgcGFkZGluZzogMGVtOyBtYXgtaGVpZ2h0OjIwZW07IG1heC13aWR0aDogbm9uZTsnICtcbiAgICAgICAgICAgICcgIGJhY2tncm91bmQtY29sb3I6I0ZGRkZGRjsnICtcbiAgICAgICAgICAgICd9JyxcbiAgICAgICAgTUVOVV9TVFlMRVNbbWFrZUNsYXNzXygnU0VMRUNUSU9ORElWSURFUicpXSA9ICd7JyArXG4gICAgICAgICAgICAnICBjbGVhcjogYm90aDsgYm9yZGVyLXRvcDogMnB4IHNvbGlkICMwMDAwMDA7JyArXG4gICAgICAgICAgICAnfScsXG4gICAgICAgIE1FTlVfU1RZTEVTW21ha2VDbGFzc18oJ01FTlUnKSArICcgJyArIG1ha2VDbGFzc18oJ01FTlVDTE9TRScpXSA9ICd7JyArXG4gICAgICAgICAgICAnICB0b3A6LTEwcHg7IGxlZnQ6LTEwcHgnICtcbiAgICAgICAgICAgICd9JztcbiAgICB2YXIgQ0xPU0VfSUNPTl9TVFlMRVMgPSB7fTtcbiAgICBDTE9TRV9JQ09OX1NUWUxFU1ttYWtlQ2xhc3NfKCdNRU5VQ0xPU0UnKV0gPSAneycgK1xuICAgICAgICAnICBwb3NpdGlvbjphYnNvbHV0ZTsnICtcbiAgICAgICAgJyAgY3Vyc29yOnBvaW50ZXI7JyArXG4gICAgICAgICcgIGRpc3BsYXk6aW5saW5lLWJsb2NrOycgK1xuICAgICAgICAnICBib3JkZXI6MnB4IHNvbGlkICNBQUE7JyArXG4gICAgICAgICcgIGJvcmRlci1yYWRpdXM6MThweDsnICtcbiAgICAgICAgJyAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiAxOHB4OyAgICAgICAgICAgICAvKiBTYWZhcmkgYW5kIENocm9tZSAqLycgK1xuICAgICAgICAnICAtbW96LWJvcmRlci1yYWRpdXM6IDE4cHg7ICAgICAgICAgICAgICAgIC8qIEZpcmVmb3ggKi8nICtcbiAgICAgICAgJyAgLWtodG1sLWJvcmRlci1yYWRpdXM6IDE4cHg7ICAgICAgICAgICAgICAvKiBLb25xdWVyb3IgKi8nICtcbiAgICAgICAgJyAgZm9udC1mYW1pbHk6IFwiQ291cmllciBOZXdcIiwgQ291cmllcjsnICtcbiAgICAgICAgJyAgZm9udC1zaXplOjI0cHg7JyArXG4gICAgICAgICcgIGNvbG9yOiNGMEYwRjAnICtcbiAgICAgICAgJ30nLFxuICAgICAgICBDTE9TRV9JQ09OX1NUWUxFU1ttYWtlQ2xhc3NfKCdNRU5VQ0xPU0UnKSArICcgc3BhbiddID0gJ3snICtcbiAgICAgICAgICAgICcgIGRpc3BsYXk6YmxvY2s7IGJhY2tncm91bmQtY29sb3I6I0FBQTsgYm9yZGVyOjEuNXB4IHNvbGlkOycgK1xuICAgICAgICAgICAgJyAgYm9yZGVyLXJhZGl1czoxOHB4OycgK1xuICAgICAgICAgICAgJyAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiAxOHB4OyAgICAgICAgICAgICAvKiBTYWZhcmkgYW5kIENocm9tZSAqLycgK1xuICAgICAgICAgICAgJyAgLW1vei1ib3JkZXItcmFkaXVzOiAxOHB4OyAgICAgICAgICAgICAgICAvKiBGaXJlZm94ICovJyArXG4gICAgICAgICAgICAnICAta2h0bWwtYm9yZGVyLXJhZGl1czogMThweDsgICAgICAgICAgICAgIC8qIEtvbnF1ZXJvciAqLycgK1xuICAgICAgICAgICAgJyAgbGluZS1oZWlnaHQ6MDsnICtcbiAgICAgICAgICAgICcgIHBhZGRpbmc6OHB4IDAgNnB4ICAgICAvKiBtYXkgbmVlZCB0byBiZSBicm93c2VyLXNwZWNpZmljICovJyArXG4gICAgICAgICAgICAnfScsXG4gICAgICAgIENMT1NFX0lDT05fU1RZTEVTW21ha2VDbGFzc18oJ01FTlVDTE9TRScpICsgJzpob3ZlciddID0gJ3snICtcbiAgICAgICAgICAgICcgIGNvbG9yOndoaXRlIWltcG9ydGFudDsnICtcbiAgICAgICAgICAgICcgIGJvcmRlcjoycHggc29saWQgI0NDQyFpbXBvcnRhbnQnICtcbiAgICAgICAgICAgICd9JyxcbiAgICAgICAgQ0xPU0VfSUNPTl9TVFlMRVNbbWFrZUNsYXNzXygnTUVOVUNMT1NFJykgKyAnOmhvdmVyIHNwYW4nXSA9ICd7JyArXG4gICAgICAgICAgICAnICBiYWNrZ3JvdW5kLWNvbG9yOiNDQ0MhaW1wb3J0YW50JyArXG4gICAgICAgICAgICAnfScsXG4gICAgICAgIENMT1NFX0lDT05fU1RZTEVTW21ha2VDbGFzc18oJ01FTlVDTE9TRScpICsgJzpob3Zlcjpmb2N1cyddID0gJ3snICtcbiAgICAgICAgICAgICcgIG91dGxpbmU6bm9uZScgK1xuICAgICAgICAgICAgJ30nO1xuICAgIHZhciBJTkZPX0FEREVEID0gZmFsc2U7XG4gICAgdmFyIE1FTlVfQURERUQgPSBmYWxzZTtcbiAgICB2YXIgQ0xPU0VfSUNPTl9BRERFRCA9IGZhbHNlO1xuICAgIGZ1bmN0aW9uIGFkZE1lbnVTdHlsZXMob3B0X2RvY3VtZW50KSB7XG4gICAgICAgIGlmIChNRU5VX0FEREVEKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYWRkU3R5bGVzXyhNRU5VX1NUWUxFUywgb3B0X2RvY3VtZW50KTtcbiAgICAgICAgTUVOVV9BRERFRCA9IHRydWU7XG4gICAgICAgIGFkZENsb3NlSWNvblN0eWxlc18ob3B0X2RvY3VtZW50KTtcbiAgICB9XG4gICAgQ3NzU3R5bGVzLmFkZE1lbnVTdHlsZXMgPSBhZGRNZW51U3R5bGVzO1xuICAgIGZ1bmN0aW9uIGFkZEluZm9TdHlsZXMob3B0X2RvY3VtZW50KSB7XG4gICAgICAgIGlmIChJTkZPX0FEREVEKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYWRkU3R5bGVzXyhJTkZPX1NUWUxFUywgb3B0X2RvY3VtZW50KTtcbiAgICAgICAgSU5GT19BRERFRCA9IHRydWU7XG4gICAgICAgIGFkZENsb3NlSWNvblN0eWxlc18ob3B0X2RvY3VtZW50KTtcbiAgICB9XG4gICAgQ3NzU3R5bGVzLmFkZEluZm9TdHlsZXMgPSBhZGRJbmZvU3R5bGVzO1xuICAgIGZ1bmN0aW9uIGFkZENsb3NlSWNvblN0eWxlc18ob3B0X2RvY3VtZW50KSB7XG4gICAgICAgIGlmIChDTE9TRV9JQ09OX0FEREVEKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYWRkU3R5bGVzXyhDTE9TRV9JQ09OX1NUWUxFUywgb3B0X2RvY3VtZW50KTtcbiAgICAgICAgQ0xPU0VfSUNPTl9BRERFRCA9IHRydWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFkZFN0eWxlc18oc3R5bGVzLCBvcHRfZG9jdW1lbnQpIHtcbiAgICAgICAgdmFyIGRvYyA9IG9wdF9kb2N1bWVudCB8fCBkb2N1bWVudDtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBkb2MuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgICAgZWxlbWVudC50eXBlID0gJ3RleHQvY3NzJztcbiAgICAgICAgdmFyIGlubmVyID0gJyc7XG4gICAgICAgIGZvciAodmFyIHN0eWxlIGluIHN0eWxlcykge1xuICAgICAgICAgICAgaW5uZXIgKz0gc3R5bGU7XG4gICAgICAgICAgICBpbm5lciArPSAnICc7XG4gICAgICAgICAgICBpbm5lciArPSBzdHlsZXNbc3R5bGVdO1xuICAgICAgICAgICAgaW5uZXIgKz0gJ1xcbic7XG4gICAgICAgIH1cbiAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSBpbm5lcjtcbiAgICAgICAgZG9jLmhlYWQuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgfVxufSkoQ3NzU3R5bGVzID0gZXhwb3J0cy5Dc3NTdHlsZXMgfHwgKGV4cG9ydHMuQ3NzU3R5bGVzID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNzc191dGlsLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5IdG1sQXR0cnMgPSBleHBvcnRzLkh0bWxDbGFzc2VzID0gdm9pZCAwO1xudmFyIFBSRUZJWCA9ICdDdHh0TWVudSc7XG5mdW5jdGlvbiBwcmVmaXhfKG5hbWUpIHtcbiAgICByZXR1cm4gUFJFRklYICsgJ18nICsgbmFtZTtcbn1cbmZ1bmN0aW9uIHByZWZpeENsYXNzXyhuYW1lKSB7XG4gICAgcmV0dXJuIHByZWZpeF8obmFtZSk7XG59XG5mdW5jdGlvbiBwcmVmaXhBdHRyXyhuYW1lKSB7XG4gICAgcmV0dXJuIHByZWZpeF8obmFtZSk7XG59XG5leHBvcnRzLkh0bWxDbGFzc2VzID0ge1xuICAgIEFUVEFDSEVEOiBwcmVmaXhDbGFzc18oJ0F0dGFjaGVkJyksXG4gICAgQ09OVEVYVE1FTlU6IHByZWZpeENsYXNzXygnQ29udGV4dE1lbnUnKSxcbiAgICBNRU5VOiBwcmVmaXhDbGFzc18oJ01lbnUnKSxcbiAgICBNRU5VQVJST1c6IHByZWZpeENsYXNzXygnTWVudUFycm93JyksXG4gICAgTUVOVUFDVElWRTogcHJlZml4Q2xhc3NfKCdNZW51QWN0aXZlJyksXG4gICAgTUVOVUNIRUNLOiBwcmVmaXhDbGFzc18oJ01lbnVDaGVjaycpLFxuICAgIE1FTlVDTE9TRTogcHJlZml4Q2xhc3NfKCdNZW51Q2xvc2UnKSxcbiAgICBNRU5VQ09NQk9CT1g6IHByZWZpeENsYXNzXygnTWVudUNvbWJvQm94JyksXG4gICAgTUVOVURJU0FCTEVEOiBwcmVmaXhDbGFzc18oJ01lbnVEaXNhYmxlZCcpLFxuICAgIE1FTlVGUkFNRTogcHJlZml4Q2xhc3NfKCdNZW51RnJhbWUnKSxcbiAgICBNRU5VSVRFTTogcHJlZml4Q2xhc3NfKCdNZW51SXRlbScpLFxuICAgIE1FTlVMQUJFTDogcHJlZml4Q2xhc3NfKCdNZW51TGFiZWwnKSxcbiAgICBNRU5VUkFESU9DSEVDSzogcHJlZml4Q2xhc3NfKCdNZW51UmFkaW9DaGVjaycpLFxuICAgIE1FTlVJTlBVVEJPWDogcHJlZml4Q2xhc3NfKCdNZW51SW5wdXRCb3gnKSxcbiAgICBNRU5VUlVMRTogcHJlZml4Q2xhc3NfKCdNZW51UnVsZScpLFxuICAgIE1FTlVTTElERVI6IHByZWZpeENsYXNzXygnTWVudVNsaWRlcicpLFxuICAgIE1PVVNFUE9TVDogcHJlZml4Q2xhc3NfKCdNb3VzZVBvc3QnKSxcbiAgICBSVEw6IHByZWZpeENsYXNzXygnUlRMJyksXG4gICAgSU5GTzogcHJlZml4Q2xhc3NfKCdJbmZvJyksXG4gICAgSU5GT0NMT1NFOiBwcmVmaXhDbGFzc18oJ0luZm9DbG9zZScpLFxuICAgIElORk9DT05URU5UOiBwcmVmaXhDbGFzc18oJ0luZm9Db250ZW50JyksXG4gICAgSU5GT1NJR05BVFVSRTogcHJlZml4Q2xhc3NfKCdJbmZvU2lnbmF0dXJlJyksXG4gICAgSU5GT1RJVExFOiBwcmVmaXhDbGFzc18oJ0luZm9UaXRsZScpLFxuICAgIFNMSURFUlZBTFVFOiBwcmVmaXhDbGFzc18oJ1NsaWRlclZhbHVlJyksXG4gICAgU0xJREVSQkFSOiBwcmVmaXhDbGFzc18oJ1NsaWRlckJhcicpLFxuICAgIFNFTEVDVElPTjogcHJlZml4Q2xhc3NfKCdTZWxlY3Rpb24nKSxcbiAgICBTRUxFQ1RJT05CT1g6IHByZWZpeENsYXNzXygnU2VsZWN0aW9uQm94JyksXG4gICAgU0VMRUNUSU9OTUVOVTogcHJlZml4Q2xhc3NfKCdTZWxlY3Rpb25NZW51JyksXG4gICAgU0VMRUNUSU9ORElWSURFUjogcHJlZml4Q2xhc3NfKCdTZWxlY3Rpb25EaXZpZGVyJyksXG4gICAgU0VMRUNUSU9OSVRFTTogcHJlZml4Q2xhc3NfKCdTZWxlY3Rpb25JdGVtJylcbn07XG5leHBvcnRzLkh0bWxBdHRycyA9IHtcbiAgICBDT1VOVEVSOiBwcmVmaXhBdHRyXygnQ291bnRlcicpLFxuICAgIEtFWURPV05GVU5DOiBwcmVmaXhBdHRyXygna2V5ZG93bkZ1bmMnKSxcbiAgICBDT05URVhUTUVOVUZVTkM6IHByZWZpeEF0dHJfKCdjb250ZXh0bWVudUZ1bmMnKSxcbiAgICBPTERUQUI6IHByZWZpeEF0dHJfKCdPbGR0YWJpbmRleCcpLFxuICAgIFRPVUNIRlVOQzogcHJlZml4QXR0cl8oJ1RvdWNoRnVuYycpLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWh0bWxfY2xhc3Nlcy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUGFyc2VyRmFjdG9yeSA9IGV4cG9ydHMuVmFyaWFibGUgPSBleHBvcnRzLlNlbGVjdGlvbkJveCA9IGV4cG9ydHMudmVyc2lvbiA9IGV4cG9ydHMuUGFyc2VyID0gZXhwb3J0cy5Qb3B1cCA9IGV4cG9ydHMuSW5mbyA9IGV4cG9ydHMuQ3NzU3R5bGVzID0gZXhwb3J0cy5Db250ZXh0TWVudSA9IHZvaWQgMDtcbnZhciBjb250ZXh0X21lbnVfMSA9IHJlcXVpcmUoXCIuL2NvbnRleHRfbWVudVwiKTtcbnZhciBjc3NfdXRpbF8xID0gcmVxdWlyZShcIi4vY3NzX3V0aWxcIik7XG52YXIgaW5mb18xID0gcmVxdWlyZShcIi4vaW5mb1wiKTtcbnZhciBwb3B1cF8xID0gcmVxdWlyZShcIi4vcG9wdXBcIik7XG52YXIgcGFyc2VfMSA9IHJlcXVpcmUoXCIuL3BhcnNlXCIpO1xudmFyIHNlbGVjdGlvbl9ib3hfMSA9IHJlcXVpcmUoXCIuL3NlbGVjdGlvbl9ib3hcIik7XG52YXIgdmFyaWFibGVfMSA9IHJlcXVpcmUoXCIuL3ZhcmlhYmxlXCIpO1xudmFyIHBhcnNlcl9mYWN0b3J5XzEgPSByZXF1aXJlKFwiLi9wYXJzZXJfZmFjdG9yeVwiKTtcbmV4cG9ydHMuQ29udGV4dE1lbnUgPSBjb250ZXh0X21lbnVfMS5Db250ZXh0TWVudTtcbmV4cG9ydHMuQ3NzU3R5bGVzID0gY3NzX3V0aWxfMS5Dc3NTdHlsZXM7XG5leHBvcnRzLkluZm8gPSBpbmZvXzEuSW5mbztcbmV4cG9ydHMuUG9wdXAgPSBwb3B1cF8xLlBvcHVwO1xuZXhwb3J0cy5QYXJzZXIgPSBwYXJzZV8xLlBhcnNlcjtcbmV4cG9ydHMudmVyc2lvbiA9ICcwLjQuMic7XG5leHBvcnRzLlNlbGVjdGlvbkJveCA9IHNlbGVjdGlvbl9ib3hfMS5TZWxlY3Rpb25Cb3g7XG5leHBvcnRzLlZhcmlhYmxlID0gdmFyaWFibGVfMS5WYXJpYWJsZTtcbmV4cG9ydHMuUGFyc2VyRmFjdG9yeSA9IHBhcnNlcl9mYWN0b3J5XzEuUGFyc2VyRmFjdG9yeTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkluZm8gPSB2b2lkIDA7XG52YXIgY2xvc2VfYnV0dG9uX2pzXzEgPSByZXF1aXJlKFwiLi9jbG9zZV9idXR0b24uanNcIik7XG52YXIgaHRtbF9jbGFzc2VzX2pzXzEgPSByZXF1aXJlKFwiLi9odG1sX2NsYXNzZXMuanNcIik7XG52YXIgYWJzdHJhY3RfcG9zdGFibGVfanNfMSA9IHJlcXVpcmUoXCIuL2Fic3RyYWN0X3Bvc3RhYmxlLmpzXCIpO1xudmFyIEluZm8gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhJbmZvLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEluZm8odGl0bGUsIGNvbnRlbnQsIHNpZ25hdHVyZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy50aXRsZSA9IHRpdGxlO1xuICAgICAgICBfdGhpcy5zaWduYXR1cmUgPSBzaWduYXR1cmU7XG4gICAgICAgIF90aGlzLmNsYXNzTmFtZSA9IGh0bWxfY2xhc3Nlc19qc18xLkh0bWxDbGFzc2VzWydJTkZPJ107XG4gICAgICAgIF90aGlzLnJvbGUgPSAnZGlhbG9nJztcbiAgICAgICAgX3RoaXMuY29udGVudERpdiA9IF90aGlzLmdlbmVyYXRlQ29udGVudCgpO1xuICAgICAgICBfdGhpcy5jbG9zZSA9IF90aGlzLmdlbmVyYXRlQ2xvc2UoKTtcbiAgICAgICAgX3RoaXMuY29udGVudCA9IGNvbnRlbnQgfHwgZnVuY3Rpb24gKCkgeyByZXR1cm4gJyc7IH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgSW5mby5wcm90b3R5cGUuYXR0YWNoTWVudSA9IGZ1bmN0aW9uIChtZW51KSB7XG4gICAgICAgIHRoaXMubWVudSA9IG1lbnU7XG4gICAgfTtcbiAgICBJbmZvLnByb3RvdHlwZS5nZW5lcmF0ZUh0bWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZ2VuZXJhdGVIdG1sLmNhbGwodGhpcyk7XG4gICAgICAgIHZhciBodG1sID0gdGhpcy5odG1sO1xuICAgICAgICBodG1sLmFwcGVuZENoaWxkKHRoaXMuZ2VuZXJhdGVUaXRsZSgpKTtcbiAgICAgICAgaHRtbC5hcHBlbmRDaGlsZCh0aGlzLmNvbnRlbnREaXYpO1xuICAgICAgICBodG1sLmFwcGVuZENoaWxkKHRoaXMuZ2VuZXJhdGVTaWduYXR1cmUoKSk7XG4gICAgICAgIGh0bWwuYXBwZW5kQ2hpbGQodGhpcy5jbG9zZS5odG1sKTtcbiAgICAgICAgaHRtbC5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJzAnKTtcbiAgICB9O1xuICAgIEluZm8ucHJvdG90eXBlLnBvc3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUucG9zdC5jYWxsKHRoaXMpO1xuICAgICAgICB2YXIgZG9jID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICB2YXIgaHRtbCA9IHRoaXMuaHRtbDtcbiAgICAgICAgdmFyIEggPSB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jLmNsaWVudEhlaWdodCB8fCBkb2Muc2Nyb2xsSGVpZ2h0IHx8IDA7XG4gICAgICAgIHZhciB4ID0gTWF0aC5mbG9vcigoLWh0bWwub2Zmc2V0V2lkdGgpIC8gMik7XG4gICAgICAgIHZhciB5ID0gTWF0aC5mbG9vcigoSCAtIGh0bWwub2Zmc2V0SGVpZ2h0KSAvIDMpO1xuICAgICAgICBodG1sLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnbWFyZ2luLWxlZnQ6ICcgKyB4ICsgJ3B4OyB0b3A6ICcgKyB5ICsgJ3B4OycpO1xuICAgICAgICBpZiAod2luZG93LmV2ZW50IGluc3RhbmNlb2YgTW91c2VFdmVudCkge1xuICAgICAgICAgICAgaHRtbC5jbGFzc0xpc3QuYWRkKGh0bWxfY2xhc3Nlc19qc18xLkh0bWxDbGFzc2VzWydNT1VTRVBPU1QnXSk7XG4gICAgICAgIH1cbiAgICAgICAgaHRtbC5mb2N1cygpO1xuICAgIH07XG4gICAgSW5mby5wcm90b3R5cGUuZGlzcGxheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5tZW51LnJlZ2lzdGVyV2lkZ2V0KHRoaXMpO1xuICAgICAgICB0aGlzLmNvbnRlbnREaXYuaW5uZXJIVE1MID0gdGhpcy5jb250ZW50KCk7XG4gICAgICAgIHZhciBodG1sID0gdGhpcy5tZW51Lmh0bWw7XG4gICAgICAgIGlmIChodG1sLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgIGh0bWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChodG1sKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1lbnUuZnJhbWUuYXBwZW5kQ2hpbGQodGhpcy5odG1sKTtcbiAgICB9O1xuICAgIEluZm8ucHJvdG90eXBlLmNsaWNrID0gZnVuY3Rpb24gKF9ldmVudCkgeyB9O1xuICAgIEluZm8ucHJvdG90eXBlLmtleWRvd24gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5idWJibGVLZXkoKTtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5rZXlkb3duLmNhbGwodGhpcywgZXZlbnQpO1xuICAgIH07XG4gICAgSW5mby5wcm90b3R5cGUuZXNjYXBlID0gZnVuY3Rpb24gKF9ldmVudCkge1xuICAgICAgICB0aGlzLnVucG9zdCgpO1xuICAgIH07XG4gICAgSW5mby5wcm90b3R5cGUudW5wb3N0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnVucG9zdC5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLmh0bWwuY2xhc3NMaXN0LnJlbW92ZShodG1sX2NsYXNzZXNfanNfMS5IdG1sQ2xhc3Nlc1snTU9VU0VQT1NUJ10pO1xuICAgICAgICB0aGlzLm1lbnUudW5yZWdpc3RlcldpZGdldCh0aGlzKTtcbiAgICB9O1xuICAgIEluZm8ucHJvdG90eXBlLmdlbmVyYXRlQ2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjbG9zZSA9IG5ldyBjbG9zZV9idXR0b25fanNfMS5DbG9zZUJ1dHRvbih0aGlzKTtcbiAgICAgICAgdmFyIGh0bWwgPSBjbG9zZS5odG1sO1xuICAgICAgICBodG1sLmNsYXNzTGlzdC5hZGQoaHRtbF9jbGFzc2VzX2pzXzEuSHRtbENsYXNzZXNbJ0lORk9DTE9TRSddKTtcbiAgICAgICAgaHRtbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCAnQ2xvc2UgRGlhbG9nIEJveCcpO1xuICAgICAgICByZXR1cm4gY2xvc2U7XG4gICAgfTtcbiAgICBJbmZvLnByb3RvdHlwZS5nZW5lcmF0ZVRpdGxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgc3Bhbi5pbm5lckhUTUwgPSB0aGlzLnRpdGxlO1xuICAgICAgICBzcGFuLmNsYXNzTGlzdC5hZGQoaHRtbF9jbGFzc2VzX2pzXzEuSHRtbENsYXNzZXNbJ0lORk9USVRMRSddKTtcbiAgICAgICAgcmV0dXJuIHNwYW47XG4gICAgfTtcbiAgICBJbmZvLnByb3RvdHlwZS5nZW5lcmF0ZUNvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZGl2LmNsYXNzTGlzdC5hZGQoaHRtbF9jbGFzc2VzX2pzXzEuSHRtbENsYXNzZXNbJ0lORk9DT05URU5UJ10pO1xuICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICcwJyk7XG4gICAgICAgIHJldHVybiBkaXY7XG4gICAgfTtcbiAgICBJbmZvLnByb3RvdHlwZS5nZW5lcmF0ZVNpZ25hdHVyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIHNwYW4uaW5uZXJIVE1MID0gdGhpcy5zaWduYXR1cmU7XG4gICAgICAgIHNwYW4uY2xhc3NMaXN0LmFkZChodG1sX2NsYXNzZXNfanNfMS5IdG1sQ2xhc3Nlc1snSU5GT1NJR05BVFVSRSddKTtcbiAgICAgICAgcmV0dXJuIHNwYW47XG4gICAgfTtcbiAgICBJbmZvLnByb3RvdHlwZS50b0pzb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6ICcnXG4gICAgICAgIH07XG4gICAgfTtcbiAgICByZXR1cm4gSW5mbztcbn0oYWJzdHJhY3RfcG9zdGFibGVfanNfMS5BYnN0cmFjdFBvc3RhYmxlKSk7XG5leHBvcnRzLkluZm8gPSBJbmZvO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5mby5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5DaGVja2JveCA9IHZvaWQgMDtcbnZhciBhYnN0cmFjdF92YXJpYWJsZV9pdGVtX2pzXzEgPSByZXF1aXJlKFwiLi9hYnN0cmFjdF92YXJpYWJsZV9pdGVtLmpzXCIpO1xudmFyIG1lbnVfdXRpbF9qc18xID0gcmVxdWlyZShcIi4vbWVudV91dGlsLmpzXCIpO1xudmFyIGh0bWxfY2xhc3Nlc19qc18xID0gcmVxdWlyZShcIi4vaHRtbF9jbGFzc2VzLmpzXCIpO1xudmFyIENoZWNrYm94ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ2hlY2tib3gsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ2hlY2tib3gobWVudSwgY29udGVudCwgdmFyaWFibGUsIGlkKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG1lbnUsICdjaGVja2JveCcsIGNvbnRlbnQsIGlkKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5yb2xlID0gJ21lbnVpdGVtY2hlY2tib3gnO1xuICAgICAgICBfdGhpcy52YXJpYWJsZSA9IG1lbnUucG9vbC5sb29rdXAodmFyaWFibGUpO1xuICAgICAgICBfdGhpcy5yZWdpc3RlcigpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIENoZWNrYm94LmZyb21Kc29uID0gZnVuY3Rpb24gKF9mYWN0b3J5LCBfYSwgbWVudSkge1xuICAgICAgICB2YXIgY29udGVudCA9IF9hLmNvbnRlbnQsIHZhcmlhYmxlID0gX2EudmFyaWFibGUsIGlkID0gX2EuaWQ7XG4gICAgICAgIHJldHVybiBuZXcgdGhpcyhtZW51LCBjb250ZW50LCB2YXJpYWJsZSwgaWQpO1xuICAgIH07XG4gICAgQ2hlY2tib3gucHJvdG90eXBlLmV4ZWN1dGVBY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudmFyaWFibGUuc2V0VmFsdWUoIXRoaXMudmFyaWFibGUuZ2V0VmFsdWUoKSk7XG4gICAgICAgIG1lbnVfdXRpbF9qc18xLk1lbnVVdGlsLmNsb3NlKHRoaXMpO1xuICAgIH07XG4gICAgQ2hlY2tib3gucHJvdG90eXBlLmdlbmVyYXRlU3BhbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICB0aGlzLnNwYW4udGV4dENvbnRlbnQgPSAnXFx1MjcxMyc7XG4gICAgICAgIHRoaXMuc3Bhbi5jbGFzc0xpc3QuYWRkKGh0bWxfY2xhc3Nlc19qc18xLkh0bWxDbGFzc2VzWydNRU5VQ0hFQ0snXSk7XG4gICAgfTtcbiAgICBDaGVja2JveC5wcm90b3R5cGUudXBkYXRlQXJpYSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5odG1sLnNldEF0dHJpYnV0ZSgnYXJpYS1jaGVja2VkJywgdGhpcy52YXJpYWJsZS5nZXRWYWx1ZSgpID8gJ3RydWUnIDogJ2ZhbHNlJyk7XG4gICAgfTtcbiAgICBDaGVja2JveC5wcm90b3R5cGUudXBkYXRlU3BhbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zcGFuLnN0eWxlLmRpc3BsYXkgPSB0aGlzLnZhcmlhYmxlLmdldFZhbHVlKCkgPyAnJyA6ICdub25lJztcbiAgICB9O1xuICAgIENoZWNrYm94LnByb3RvdHlwZS50b0pzb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6ICcnXG4gICAgICAgIH07XG4gICAgfTtcbiAgICByZXR1cm4gQ2hlY2tib3g7XG59KGFic3RyYWN0X3ZhcmlhYmxlX2l0ZW1fanNfMS5BYnN0cmFjdFZhcmlhYmxlSXRlbSkpO1xuZXhwb3J0cy5DaGVja2JveCA9IENoZWNrYm94O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXRlbV9jaGVja2JveC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Db21ibyA9IHZvaWQgMDtcbnZhciBhYnN0cmFjdF92YXJpYWJsZV9pdGVtX2pzXzEgPSByZXF1aXJlKFwiLi9hYnN0cmFjdF92YXJpYWJsZV9pdGVtLmpzXCIpO1xudmFyIG1lbnVfdXRpbF9qc18xID0gcmVxdWlyZShcIi4vbWVudV91dGlsLmpzXCIpO1xudmFyIGh0bWxfY2xhc3Nlc19qc18xID0gcmVxdWlyZShcIi4vaHRtbF9jbGFzc2VzLmpzXCIpO1xudmFyIGtleV9uYXZpZ2F0YWJsZV9qc18xID0gcmVxdWlyZShcIi4va2V5X25hdmlnYXRhYmxlLmpzXCIpO1xudmFyIENvbWJvID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ29tYm8sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ29tYm8obWVudSwgY29udGVudCwgdmFyaWFibGUsIGlkKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG1lbnUsICdjb21ib2JveCcsIGNvbnRlbnQsIGlkKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5yb2xlID0gJ2NvbWJvYm94JztcbiAgICAgICAgX3RoaXMuaW5wdXRFdmVudCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy52YXJpYWJsZSA9IG1lbnUucG9vbC5sb29rdXAodmFyaWFibGUpO1xuICAgICAgICBfdGhpcy5yZWdpc3RlcigpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIENvbWJvLmZyb21Kc29uID0gZnVuY3Rpb24gKF9mYWN0b3J5LCBfYSwgbWVudSkge1xuICAgICAgICB2YXIgY29udGVudCA9IF9hLmNvbnRlbnQsIHZhcmlhYmxlID0gX2EudmFyaWFibGUsIGlkID0gX2EuaWQ7XG4gICAgICAgIHJldHVybiBuZXcgdGhpcyhtZW51LCBjb250ZW50LCB2YXJpYWJsZSwgaWQpO1xuICAgIH07XG4gICAgQ29tYm8ucHJvdG90eXBlLmV4ZWN1dGVBY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudmFyaWFibGUuc2V0VmFsdWUodGhpcy5pbnB1dC52YWx1ZSwgbWVudV91dGlsX2pzXzEuTWVudVV0aWwuZ2V0QWN0aXZlRWxlbWVudCh0aGlzKSk7XG4gICAgfTtcbiAgICBDb21iby5wcm90b3R5cGUuc3BhY2UgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5zcGFjZS5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICAgICAgbWVudV91dGlsX2pzXzEuTWVudVV0aWwuY2xvc2UodGhpcyk7XG4gICAgfTtcbiAgICBDb21iby5wcm90b3R5cGUuZm9jdXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZm9jdXMuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5pbnB1dC5mb2N1cygpO1xuICAgIH07XG4gICAgQ29tYm8ucHJvdG90eXBlLnVuZm9jdXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUudW5mb2N1cy5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLnVwZGF0ZVNwYW4oKTtcbiAgICB9O1xuICAgIENvbWJvLnByb3RvdHlwZS5nZW5lcmF0ZUh0bWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZ2VuZXJhdGVIdG1sLmNhbGwodGhpcyk7XG4gICAgICAgIHZhciBodG1sID0gdGhpcy5odG1sO1xuICAgICAgICBodG1sLmNsYXNzTGlzdC5hZGQoaHRtbF9jbGFzc2VzX2pzXzEuSHRtbENsYXNzZXNbJ01FTlVDT01CT0JPWCddKTtcbiAgICB9O1xuICAgIENvbWJvLnByb3RvdHlwZS5nZW5lcmF0ZVNwYW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgdGhpcy5zcGFuLmNsYXNzTGlzdC5hZGQoaHRtbF9jbGFzc2VzX2pzXzEuSHRtbENsYXNzZXNbJ01FTlVJTlBVVEJPWCddKTtcbiAgICAgICAgdGhpcy5pbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgIHRoaXMuaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuaW5wdXRLZXkuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuaW5wdXQuc2V0QXR0cmlidXRlKCdzaXplJywgJzEwZW0nKTtcbiAgICAgICAgdGhpcy5pbnB1dC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dCcpO1xuICAgICAgICB0aGlzLmlucHV0LnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnLTEnKTtcbiAgICAgICAgdGhpcy5zcGFuLmFwcGVuZENoaWxkKHRoaXMuaW5wdXQpO1xuICAgIH07XG4gICAgQ29tYm8ucHJvdG90eXBlLmlucHV0S2V5ID0gZnVuY3Rpb24gKF9ldmVudCkge1xuICAgICAgICB0aGlzLmJ1YmJsZUtleSgpO1xuICAgICAgICB0aGlzLmlucHV0RXZlbnQgPSB0cnVlO1xuICAgIH07XG4gICAgQ29tYm8ucHJvdG90eXBlLmtleWRvd24gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuaW5wdXRFdmVudCAmJlxuICAgICAgICAgICAgZXZlbnQua2V5Q29kZSAhPT0ga2V5X25hdmlnYXRhYmxlX2pzXzEuS0VZLkVTQ0FQRSAmJlxuICAgICAgICAgICAgZXZlbnQua2V5Q29kZSAhPT0ga2V5X25hdmlnYXRhYmxlX2pzXzEuS0VZLlJFVFVSTikge1xuICAgICAgICAgICAgdGhpcy5pbnB1dEV2ZW50ID0gZmFsc2U7XG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmtleWRvd24uY2FsbCh0aGlzLCBldmVudCk7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH07XG4gICAgQ29tYm8ucHJvdG90eXBlLnVwZGF0ZUFyaWEgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgQ29tYm8ucHJvdG90eXBlLnVwZGF0ZVNwYW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpbml0VmFsdWU7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpbml0VmFsdWUgPSB0aGlzLnZhcmlhYmxlLmdldFZhbHVlKG1lbnVfdXRpbF9qc18xLk1lbnVVdGlsLmdldEFjdGl2ZUVsZW1lbnQodGhpcykpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBpbml0VmFsdWUgPSAnJztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlucHV0LnZhbHVlID0gaW5pdFZhbHVlO1xuICAgIH07XG4gICAgQ29tYm8ucHJvdG90eXBlLnRvSnNvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogJydcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHJldHVybiBDb21ibztcbn0oYWJzdHJhY3RfdmFyaWFibGVfaXRlbV9qc18xLkFic3RyYWN0VmFyaWFibGVJdGVtKSk7XG5leHBvcnRzLkNvbWJvID0gQ29tYm87XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pdGVtX2NvbWJvLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNvbW1hbmQgPSB2b2lkIDA7XG52YXIgYWJzdHJhY3RfaXRlbV9qc18xID0gcmVxdWlyZShcIi4vYWJzdHJhY3RfaXRlbS5qc1wiKTtcbnZhciBtZW51X3V0aWxfanNfMSA9IHJlcXVpcmUoXCIuL21lbnVfdXRpbC5qc1wiKTtcbnZhciBDb21tYW5kID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ29tbWFuZCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDb21tYW5kKG1lbnUsIGNvbnRlbnQsIGNvbW1hbmQsIGlkKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG1lbnUsICdjb21tYW5kJywgY29udGVudCwgaWQpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmNvbW1hbmQgPSBjb21tYW5kO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIENvbW1hbmQuZnJvbUpzb24gPSBmdW5jdGlvbiAoX2ZhY3RvcnksIF9hLCBtZW51KSB7XG4gICAgICAgIHZhciBjb250ZW50ID0gX2EuY29udGVudCwgYWN0aW9uID0gX2EuYWN0aW9uLCBpZCA9IF9hLmlkO1xuICAgICAgICByZXR1cm4gbmV3IHRoaXMobWVudSwgY29udGVudCwgYWN0aW9uLCBpZCk7XG4gICAgfTtcbiAgICBDb21tYW5kLnByb3RvdHlwZS5leGVjdXRlQWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5jb21tYW5kKG1lbnVfdXRpbF9qc18xLk1lbnVVdGlsLmdldEFjdGl2ZUVsZW1lbnQodGhpcykpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBtZW51X3V0aWxfanNfMS5NZW51VXRpbC5lcnJvcihlLCAnSWxsZWdhbCBjb21tYW5kIGNhbGxiYWNrLicpO1xuICAgICAgICB9XG4gICAgICAgIG1lbnVfdXRpbF9qc18xLk1lbnVVdGlsLmNsb3NlKHRoaXMpO1xuICAgIH07XG4gICAgQ29tbWFuZC5wcm90b3R5cGUudG9Kc29uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4geyB0eXBlOiAnJ1xuICAgICAgICB9O1xuICAgIH07XG4gICAgcmV0dXJuIENvbW1hbmQ7XG59KGFic3RyYWN0X2l0ZW1fanNfMS5BYnN0cmFjdEl0ZW0pKTtcbmV4cG9ydHMuQ29tbWFuZCA9IENvbW1hbmQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pdGVtX2NvbW1hbmQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTGFiZWwgPSB2b2lkIDA7XG52YXIgYWJzdHJhY3RfaXRlbV9qc18xID0gcmVxdWlyZShcIi4vYWJzdHJhY3RfaXRlbS5qc1wiKTtcbnZhciBodG1sX2NsYXNzZXNfanNfMSA9IHJlcXVpcmUoXCIuL2h0bWxfY2xhc3Nlcy5qc1wiKTtcbnZhciBMYWJlbCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKExhYmVsLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIExhYmVsKG1lbnUsIGNvbnRlbnQsIGlkKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBtZW51LCAnbGFiZWwnLCBjb250ZW50LCBpZCkgfHwgdGhpcztcbiAgICB9XG4gICAgTGFiZWwuZnJvbUpzb24gPSBmdW5jdGlvbiAoX2ZhY3RvcnksIF9hLCBtZW51KSB7XG4gICAgICAgIHZhciBjb250ZW50ID0gX2EuY29udGVudCwgaWQgPSBfYS5pZDtcbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzKG1lbnUsIGNvbnRlbnQsIGlkKTtcbiAgICB9O1xuICAgIExhYmVsLnByb3RvdHlwZS5nZW5lcmF0ZUh0bWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZ2VuZXJhdGVIdG1sLmNhbGwodGhpcyk7XG4gICAgICAgIHZhciBodG1sID0gdGhpcy5odG1sO1xuICAgICAgICBodG1sLmNsYXNzTGlzdC5hZGQoaHRtbF9jbGFzc2VzX2pzXzEuSHRtbENsYXNzZXNbJ01FTlVMQUJFTCddKTtcbiAgICB9O1xuICAgIExhYmVsLnByb3RvdHlwZS50b0pzb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6ICcnXG4gICAgICAgIH07XG4gICAgfTtcbiAgICByZXR1cm4gTGFiZWw7XG59KGFic3RyYWN0X2l0ZW1fanNfMS5BYnN0cmFjdEl0ZW0pKTtcbmV4cG9ydHMuTGFiZWwgPSBMYWJlbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWl0ZW1fbGFiZWwuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUmFkaW8gPSB2b2lkIDA7XG52YXIgYWJzdHJhY3RfdmFyaWFibGVfaXRlbV9qc18xID0gcmVxdWlyZShcIi4vYWJzdHJhY3RfdmFyaWFibGVfaXRlbS5qc1wiKTtcbnZhciBtZW51X3V0aWxfanNfMSA9IHJlcXVpcmUoXCIuL21lbnVfdXRpbC5qc1wiKTtcbnZhciBodG1sX2NsYXNzZXNfanNfMSA9IHJlcXVpcmUoXCIuL2h0bWxfY2xhc3Nlcy5qc1wiKTtcbnZhciBSYWRpbyA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJhZGlvLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJhZGlvKG1lbnUsIGNvbnRlbnQsIHZhcmlhYmxlLCBpZCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtZW51LCAncmFkaW8nLCBjb250ZW50LCBpZCkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucm9sZSA9ICdtZW51aXRlbXJhZGlvJztcbiAgICAgICAgX3RoaXMudmFyaWFibGUgPSBtZW51LnBvb2wubG9va3VwKHZhcmlhYmxlKTtcbiAgICAgICAgX3RoaXMucmVnaXN0ZXIoKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBSYWRpby5mcm9tSnNvbiA9IGZ1bmN0aW9uIChfZmFjdG9yeSwgX2EsIG1lbnUpIHtcbiAgICAgICAgdmFyIGNvbnRlbnQgPSBfYS5jb250ZW50LCB2YXJpYWJsZSA9IF9hLnZhcmlhYmxlLCBpZCA9IF9hLmlkO1xuICAgICAgICByZXR1cm4gbmV3IHRoaXMobWVudSwgY29udGVudCwgdmFyaWFibGUsIGlkKTtcbiAgICB9O1xuICAgIFJhZGlvLnByb3RvdHlwZS5leGVjdXRlQWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnZhcmlhYmxlLnNldFZhbHVlKHRoaXMuaWQpO1xuICAgICAgICBtZW51X3V0aWxfanNfMS5NZW51VXRpbC5jbG9zZSh0aGlzKTtcbiAgICB9O1xuICAgIFJhZGlvLnByb3RvdHlwZS5nZW5lcmF0ZVNwYW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgdGhpcy5zcGFuLnRleHRDb250ZW50ID0gJ1xcdTI3MTMnO1xuICAgICAgICB0aGlzLnNwYW4uY2xhc3NMaXN0LmFkZChodG1sX2NsYXNzZXNfanNfMS5IdG1sQ2xhc3Nlc1snTUVOVVJBRElPQ0hFQ0snXSk7XG4gICAgfTtcbiAgICBSYWRpby5wcm90b3R5cGUudXBkYXRlQXJpYSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5odG1sLnNldEF0dHJpYnV0ZSgnYXJpYS1jaGVja2VkJywgdGhpcy52YXJpYWJsZS5nZXRWYWx1ZSgpID09PSB0aGlzLmlkID8gJ3RydWUnIDogJ2ZhbHNlJyk7XG4gICAgfTtcbiAgICBSYWRpby5wcm90b3R5cGUudXBkYXRlU3BhbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zcGFuLnN0eWxlLmRpc3BsYXkgPVxuICAgICAgICAgICAgdGhpcy52YXJpYWJsZS5nZXRWYWx1ZSgpID09PSB0aGlzLmlkID8gJycgOiAnbm9uZSc7XG4gICAgfTtcbiAgICBSYWRpby5wcm90b3R5cGUudG9Kc29uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4geyB0eXBlOiAnJ1xuICAgICAgICB9O1xuICAgIH07XG4gICAgcmV0dXJuIFJhZGlvO1xufShhYnN0cmFjdF92YXJpYWJsZV9pdGVtX2pzXzEuQWJzdHJhY3RWYXJpYWJsZUl0ZW0pKTtcbmV4cG9ydHMuUmFkaW8gPSBSYWRpbztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWl0ZW1fcmFkaW8uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUnVsZSA9IHZvaWQgMDtcbnZhciBhYnN0cmFjdF9lbnRyeV9qc18xID0gcmVxdWlyZShcIi4vYWJzdHJhY3RfZW50cnkuanNcIik7XG52YXIgaHRtbF9jbGFzc2VzX2pzXzEgPSByZXF1aXJlKFwiLi9odG1sX2NsYXNzZXMuanNcIik7XG52YXIgUnVsZSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJ1bGUsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUnVsZShtZW51KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG1lbnUsICdydWxlJykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuY2xhc3NOYW1lID0gaHRtbF9jbGFzc2VzX2pzXzEuSHRtbENsYXNzZXNbJ01FTlVJVEVNJ107XG4gICAgICAgIF90aGlzLnJvbGUgPSAnc2VwYXJhdG9yJztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBSdWxlLmZyb21Kc29uID0gZnVuY3Rpb24gKF9mYWN0b3J5LCBfYSwgbWVudSkge1xuICAgICAgICByZXR1cm4gbmV3IHRoaXMobWVudSk7XG4gICAgfTtcbiAgICBSdWxlLnByb3RvdHlwZS5nZW5lcmF0ZUh0bWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZ2VuZXJhdGVIdG1sLmNhbGwodGhpcyk7XG4gICAgICAgIHZhciBodG1sID0gdGhpcy5odG1sO1xuICAgICAgICBodG1sLmNsYXNzTGlzdC5hZGQoaHRtbF9jbGFzc2VzX2pzXzEuSHRtbENsYXNzZXNbJ01FTlVSVUxFJ10pO1xuICAgICAgICBodG1sLnNldEF0dHJpYnV0ZSgnYXJpYS1vcmllbnRhdGlvbicsICd2ZXJ0aWNhbCcpO1xuICAgIH07XG4gICAgUnVsZS5wcm90b3R5cGUuYWRkRXZlbnRzID0gZnVuY3Rpb24gKF9lbGVtZW50KSB7IH07XG4gICAgUnVsZS5wcm90b3R5cGUudG9Kc29uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4geyB0eXBlOiAncnVsZScgfTtcbiAgICB9O1xuICAgIHJldHVybiBSdWxlO1xufShhYnN0cmFjdF9lbnRyeV9qc18xLkFic3RyYWN0RW50cnkpKTtcbmV4cG9ydHMuUnVsZSA9IFJ1bGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pdGVtX3J1bGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuU2xpZGVyID0gdm9pZCAwO1xudmFyIGFic3RyYWN0X3ZhcmlhYmxlX2l0ZW1fanNfMSA9IHJlcXVpcmUoXCIuL2Fic3RyYWN0X3ZhcmlhYmxlX2l0ZW0uanNcIik7XG52YXIgbWVudV91dGlsX2pzXzEgPSByZXF1aXJlKFwiLi9tZW51X3V0aWwuanNcIik7XG52YXIgaHRtbF9jbGFzc2VzX2pzXzEgPSByZXF1aXJlKFwiLi9odG1sX2NsYXNzZXMuanNcIik7XG52YXIga2V5X25hdmlnYXRhYmxlX2pzXzEgPSByZXF1aXJlKFwiLi9rZXlfbmF2aWdhdGFibGUuanNcIik7XG52YXIgU2xpZGVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU2xpZGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFNsaWRlcihtZW51LCBjb250ZW50LCB2YXJpYWJsZSwgaWQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbWVudSwgJ3NsaWRlcicsIGNvbnRlbnQsIGlkKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5yb2xlID0gJ3NsaWRlcic7XG4gICAgICAgIF90aGlzLmxhYmVsSWQgPSAnY3R4X3NsaWRlTGFiZWwnICsgbWVudV91dGlsX2pzXzEuTWVudVV0aWwuY291bnRlcigpO1xuICAgICAgICBfdGhpcy52YWx1ZUlkID0gJ2N0eF9zbGlkZVZhbHVlJyArIG1lbnVfdXRpbF9qc18xLk1lbnVVdGlsLmNvdW50ZXIoKTtcbiAgICAgICAgX3RoaXMuaW5wdXRFdmVudCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy52YXJpYWJsZSA9IG1lbnUucG9vbC5sb29rdXAodmFyaWFibGUpO1xuICAgICAgICBfdGhpcy5yZWdpc3RlcigpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFNsaWRlci5mcm9tSnNvbiA9IGZ1bmN0aW9uIChfZmFjdG9yeSwgX2EsIG1lbnUpIHtcbiAgICAgICAgdmFyIGNvbnRlbnQgPSBfYS5jb250ZW50LCB2YXJpYWJsZSA9IF9hLnZhcmlhYmxlLCBpZCA9IF9hLmlkO1xuICAgICAgICByZXR1cm4gbmV3IHRoaXMobWVudSwgY29udGVudCwgdmFyaWFibGUsIGlkKTtcbiAgICB9O1xuICAgIFNsaWRlci5wcm90b3R5cGUuZXhlY3V0ZUFjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy52YXJpYWJsZS5zZXRWYWx1ZSh0aGlzLmlucHV0LnZhbHVlLCBtZW51X3V0aWxfanNfMS5NZW51VXRpbC5nZXRBY3RpdmVFbGVtZW50KHRoaXMpKTtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9O1xuICAgIFNsaWRlci5wcm90b3R5cGUuc3BhY2UgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5zcGFjZS5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICAgICAgbWVudV91dGlsX2pzXzEuTWVudVV0aWwuY2xvc2UodGhpcyk7XG4gICAgfTtcbiAgICBTbGlkZXIucHJvdG90eXBlLmZvY3VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmZvY3VzLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuaW5wdXQuZm9jdXMoKTtcbiAgICB9O1xuICAgIFNsaWRlci5wcm90b3R5cGUudW5mb2N1cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51bmZvY3VzLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMudXBkYXRlU3BhbigpO1xuICAgIH07XG4gICAgU2xpZGVyLnByb3RvdHlwZS5nZW5lcmF0ZUh0bWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZ2VuZXJhdGVIdG1sLmNhbGwodGhpcyk7XG4gICAgICAgIHZhciBodG1sID0gdGhpcy5odG1sO1xuICAgICAgICBodG1sLmNsYXNzTGlzdC5hZGQoaHRtbF9jbGFzc2VzX2pzXzEuSHRtbENsYXNzZXNbJ01FTlVTTElERVInXSk7XG4gICAgICAgIHRoaXMudmFsdWVTcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICB0aGlzLnZhbHVlU3Bhbi5zZXRBdHRyaWJ1dGUoJ2lkJywgdGhpcy52YWx1ZUlkKTtcbiAgICAgICAgdGhpcy52YWx1ZVNwYW4uY2xhc3NMaXN0LmFkZChodG1sX2NsYXNzZXNfanNfMS5IdG1sQ2xhc3Nlc1snU0xJREVSVkFMVUUnXSk7XG4gICAgICAgIHRoaXMuaHRtbC5hcHBlbmRDaGlsZCh0aGlzLnZhbHVlU3Bhbik7XG4gICAgfTtcbiAgICBTbGlkZXIucHJvdG90eXBlLmdlbmVyYXRlU3BhbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICB0aGlzLmxhYmVsU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgdGhpcy5sYWJlbFNwYW4uc2V0QXR0cmlidXRlKCdpZCcsIHRoaXMubGFiZWxJZCk7XG4gICAgICAgIHRoaXMubGFiZWxTcGFuLmFwcGVuZENoaWxkKHRoaXMuaHRtbC5jaGlsZE5vZGVzWzBdKTtcbiAgICAgICAgdGhpcy5odG1sLmFwcGVuZENoaWxkKHRoaXMubGFiZWxTcGFuKTtcbiAgICAgICAgdGhpcy5pbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgIHRoaXMuaW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3JhbmdlJyk7XG4gICAgICAgIHRoaXMuaW5wdXQuc2V0QXR0cmlidXRlKCdtaW4nLCAnMCcpO1xuICAgICAgICB0aGlzLmlucHV0LnNldEF0dHJpYnV0ZSgnbWF4JywgJzEwMCcpO1xuICAgICAgICB0aGlzLmlucHV0LnNldEF0dHJpYnV0ZSgnYXJpYS12YWx1ZW1pbicsICcwJyk7XG4gICAgICAgIHRoaXMuaW5wdXQuc2V0QXR0cmlidXRlKCdhcmlhLXZhbHVlbWF4JywgJzEwMCcpO1xuICAgICAgICB0aGlzLmlucHV0LnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbGxlZGJ5JywgdGhpcy5sYWJlbElkKTtcbiAgICAgICAgdGhpcy5pbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5pbnB1dEtleS5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5pbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIHRoaXMuZXhlY3V0ZUFjdGlvbi5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5pbnB1dC5jbGFzc0xpc3QuYWRkKGh0bWxfY2xhc3Nlc19qc18xLkh0bWxDbGFzc2VzWydTTElERVJCQVInXSk7XG4gICAgICAgIHRoaXMuc3Bhbi5hcHBlbmRDaGlsZCh0aGlzLmlucHV0KTtcbiAgICB9O1xuICAgIFNsaWRlci5wcm90b3R5cGUuaW5wdXRLZXkgPSBmdW5jdGlvbiAoX2V2ZW50KSB7XG4gICAgICAgIHRoaXMuaW5wdXRFdmVudCA9IHRydWU7XG4gICAgfTtcbiAgICBTbGlkZXIucHJvdG90eXBlLm1vdXNlZG93biA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9O1xuICAgIFNsaWRlci5wcm90b3R5cGUubW91c2V1cCA9IGZ1bmN0aW9uIChfZXZlbnQpIHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfTtcbiAgICBTbGlkZXIucHJvdG90eXBlLmtleWRvd24gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIGNvZGUgPSBldmVudC5rZXlDb2RlO1xuICAgICAgICBpZiAoY29kZSA9PT0ga2V5X25hdmlnYXRhYmxlX2pzXzEuS0VZLlVQIHx8IGNvZGUgPT09IGtleV9uYXZpZ2F0YWJsZV9qc18xLktFWS5ET1dOKSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5rZXlkb3duLmNhbGwodGhpcywgZXZlbnQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlucHV0RXZlbnQgJiZcbiAgICAgICAgICAgIGNvZGUgIT09IGtleV9uYXZpZ2F0YWJsZV9qc18xLktFWS5FU0NBUEUgJiYgY29kZSAhPT0ga2V5X25hdmlnYXRhYmxlX2pzXzEuS0VZLlJFVFVSTikge1xuICAgICAgICAgICAgdGhpcy5pbnB1dEV2ZW50ID0gZmFsc2U7XG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmtleWRvd24uY2FsbCh0aGlzLCBldmVudCk7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH07XG4gICAgU2xpZGVyLnByb3RvdHlwZS51cGRhdGVBcmlhID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnZhcmlhYmxlLmdldFZhbHVlKCk7XG4gICAgICAgIGlmICh2YWx1ZSAmJiB0aGlzLmlucHV0KSB7XG4gICAgICAgICAgICB0aGlzLmlucHV0LnNldEF0dHJpYnV0ZSgnYXJpYS12YWx1ZW5vdycsIHZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMuaW5wdXQuc2V0QXR0cmlidXRlKCdhcmlhLXZhbHVldGV4dCcsIHZhbHVlICsgJyUnKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU2xpZGVyLnByb3RvdHlwZS51cGRhdGVTcGFuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaW5pdFZhbHVlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaW5pdFZhbHVlID0gdGhpcy52YXJpYWJsZS5nZXRWYWx1ZShtZW51X3V0aWxfanNfMS5NZW51VXRpbC5nZXRBY3RpdmVFbGVtZW50KHRoaXMpKTtcbiAgICAgICAgICAgIHRoaXMudmFsdWVTcGFuLmlubmVySFRNTCA9IGluaXRWYWx1ZSArICclJztcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgaW5pdFZhbHVlID0gJyc7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbnB1dC52YWx1ZSA9IGluaXRWYWx1ZTtcbiAgICB9O1xuICAgIFNsaWRlci5wcm90b3R5cGUudG9Kc29uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4geyB0eXBlOiAnJ1xuICAgICAgICB9O1xuICAgIH07XG4gICAgcmV0dXJuIFNsaWRlcjtcbn0oYWJzdHJhY3RfdmFyaWFibGVfaXRlbV9qc18xLkFic3RyYWN0VmFyaWFibGVJdGVtKSk7XG5leHBvcnRzLlNsaWRlciA9IFNsaWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWl0ZW1fc2xpZGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlN1Ym1lbnUgPSB2b2lkIDA7XG52YXIgYWJzdHJhY3RfaXRlbV9qc18xID0gcmVxdWlyZShcIi4vYWJzdHJhY3RfaXRlbS5qc1wiKTtcbnZhciBodG1sX2NsYXNzZXNfanNfMSA9IHJlcXVpcmUoXCIuL2h0bWxfY2xhc3Nlcy5qc1wiKTtcbnZhciBTdWJtZW51ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU3VibWVudSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTdWJtZW51KG1lbnUsIGNvbnRlbnQsIGlkKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG1lbnUsICdzdWJtZW51JywgY29udGVudCwgaWQpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9zdWJtZW51ID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTdWJtZW51LmZyb21Kc29uID0gZnVuY3Rpb24gKGZhY3RvcnksIF9hLCBtZW51KSB7XG4gICAgICAgIHZhciBjb250ZW50ID0gX2EuY29udGVudCwgc3VibWVudSA9IF9hLm1lbnUsIGlkID0gX2EuaWQ7XG4gICAgICAgIHZhciBpdGVtID0gbmV3IHRoaXMobWVudSwgY29udGVudCwgaWQpO1xuICAgICAgICB2YXIgc20gPSBmYWN0b3J5LmdldCgnc3ViTWVudScpKGZhY3RvcnksIHN1Ym1lbnUsIGl0ZW0pO1xuICAgICAgICBpdGVtLnN1Ym1lbnUgPSBzbTtcbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3VibWVudS5wcm90b3R5cGUsIFwic3VibWVudVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N1Ym1lbnU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKG1lbnUpIHtcbiAgICAgICAgICAgIHRoaXMuX3N1Ym1lbnUgPSBtZW51O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgU3VibWVudS5wcm90b3R5cGUubW91c2VvdmVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuZm9jdXMoKTtcbiAgICAgICAgdGhpcy5zdG9wKGV2ZW50KTtcbiAgICB9O1xuICAgIFN1Ym1lbnUucHJvdG90eXBlLm1vdXNlb3V0ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuc3RvcChldmVudCk7XG4gICAgfTtcbiAgICBTdWJtZW51LnByb3RvdHlwZS51bmZvY3VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuc3VibWVudS5pc1Bvc3RlZCgpKSB7XG4gICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLnVuZm9jdXMuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5tZW51LmZvY3VzZWQgIT09IHRoaXMpIHtcbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUudW5mb2N1cy5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5tZW51LnVucG9zdFN1Ym1lbnVzKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5odG1sLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnLTEnKTtcbiAgICAgICAgdGhpcy5odG1sLmJsdXIoKTtcbiAgICB9O1xuICAgIFN1Ym1lbnUucHJvdG90eXBlLmZvY3VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmZvY3VzLmNhbGwodGhpcyk7XG4gICAgICAgIGlmICghdGhpcy5zdWJtZW51LmlzUG9zdGVkKCkgJiYgIXRoaXMuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3VibWVudS5wb3N0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1Ym1lbnUucHJvdG90eXBlLmV4ZWN1dGVBY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc3VibWVudS5pc1Bvc3RlZCgpID8gdGhpcy5zdWJtZW51LnVucG9zdCgpIDogdGhpcy5zdWJtZW51LnBvc3QoKTtcbiAgICB9O1xuICAgIFN1Ym1lbnUucHJvdG90eXBlLmdlbmVyYXRlSHRtbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5nZW5lcmF0ZUh0bWwuY2FsbCh0aGlzKTtcbiAgICAgICAgdmFyIGh0bWwgPSB0aGlzLmh0bWw7XG4gICAgICAgIHRoaXMuc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgdGhpcy5zcGFuLnRleHRDb250ZW50ID0gJ1xcdTI1QkEnO1xuICAgICAgICB0aGlzLnNwYW4uY2xhc3NMaXN0LmFkZChodG1sX2NsYXNzZXNfanNfMS5IdG1sQ2xhc3Nlc1snTUVOVUFSUk9XJ10pO1xuICAgICAgICBodG1sLmFwcGVuZENoaWxkKHRoaXMuc3Bhbik7XG4gICAgICAgIGh0bWwuc2V0QXR0cmlidXRlKCdhcmlhLWhhc3BvcHVwJywgJ3RydWUnKTtcbiAgICB9O1xuICAgIFN1Ym1lbnUucHJvdG90eXBlLmxlZnQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuc3VibWVudS5pc1Bvc3RlZCgpKSB7XG4gICAgICAgICAgICB0aGlzLnN1Ym1lbnUudW5wb3N0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLmxlZnQuY2FsbCh0aGlzLCBldmVudCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1Ym1lbnUucHJvdG90eXBlLnJpZ2h0ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5zdWJtZW51LmlzUG9zdGVkKCkpIHtcbiAgICAgICAgICAgIHRoaXMuc3VibWVudS5wb3N0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN1Ym1lbnUuZG93bihldmVudCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1Ym1lbnUucHJvdG90eXBlLnRvSnNvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogJydcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHJldHVybiBTdWJtZW51O1xufShhYnN0cmFjdF9pdGVtX2pzXzEuQWJzdHJhY3RJdGVtKSk7XG5leHBvcnRzLlN1Ym1lbnUgPSBTdWJtZW51O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXRlbV9zdWJtZW51LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5LRVkgPSB2b2lkIDA7XG52YXIgS0VZO1xuKGZ1bmN0aW9uIChLRVkpIHtcbiAgICBLRVlbS0VZW1wiUkVUVVJOXCJdID0gMTNdID0gXCJSRVRVUk5cIjtcbiAgICBLRVlbS0VZW1wiRVNDQVBFXCJdID0gMjddID0gXCJFU0NBUEVcIjtcbiAgICBLRVlbS0VZW1wiU1BBQ0VcIl0gPSAzMl0gPSBcIlNQQUNFXCI7XG4gICAgS0VZW0tFWVtcIkxFRlRcIl0gPSAzN10gPSBcIkxFRlRcIjtcbiAgICBLRVlbS0VZW1wiVVBcIl0gPSAzOF0gPSBcIlVQXCI7XG4gICAgS0VZW0tFWVtcIlJJR0hUXCJdID0gMzldID0gXCJSSUdIVFwiO1xuICAgIEtFWVtLRVlbXCJET1dOXCJdID0gNDBdID0gXCJET1dOXCI7XG59KShLRVkgPSBleHBvcnRzLktFWSB8fCAoZXhwb3J0cy5LRVkgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9a2V5X25hdmlnYXRhYmxlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk1lbnVFbGVtZW50ID0gdm9pZCAwO1xudmFyIGFic3RyYWN0X25hdmlnYXRhYmxlX2pzXzEgPSByZXF1aXJlKFwiLi9hYnN0cmFjdF9uYXZpZ2F0YWJsZS5qc1wiKTtcbnZhciBNZW51RWxlbWVudCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE1lbnVFbGVtZW50LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE1lbnVFbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIE1lbnVFbGVtZW50LnByb3RvdHlwZS5hZGRBdHRyaWJ1dGVzID0gZnVuY3Rpb24gKGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgZm9yICh2YXIgYXR0ciBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICB0aGlzLmh0bWwuc2V0QXR0cmlidXRlKGF0dHIsIGF0dHJpYnV0ZXNbYXR0cl0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVudUVsZW1lbnQucHJvdG90eXBlLCBcImh0bWxcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5faHRtbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVIdG1sKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faHRtbDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoaHRtbCkge1xuICAgICAgICAgICAgdGhpcy5faHRtbCA9IGh0bWw7XG4gICAgICAgICAgICB0aGlzLmFkZEV2ZW50cyhodG1sKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE1lbnVFbGVtZW50LnByb3RvdHlwZS5nZW5lcmF0ZUh0bWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBodG1sID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGh0bWwuY2xhc3NMaXN0LmFkZCh0aGlzLmNsYXNzTmFtZSk7XG4gICAgICAgIGh0bWwuc2V0QXR0cmlidXRlKCdyb2xlJywgdGhpcy5yb2xlKTtcbiAgICAgICAgdGhpcy5odG1sID0gaHRtbDtcbiAgICB9O1xuICAgIE1lbnVFbGVtZW50LnByb3RvdHlwZS5mb2N1cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGh0bWwgPSB0aGlzLmh0bWw7XG4gICAgICAgIGh0bWwuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICcwJyk7XG4gICAgICAgIGh0bWwuZm9jdXMoKTtcbiAgICB9O1xuICAgIE1lbnVFbGVtZW50LnByb3RvdHlwZS51bmZvY3VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaHRtbCA9IHRoaXMuaHRtbDtcbiAgICAgICAgaWYgKGh0bWwuaGFzQXR0cmlidXRlKCd0YWJpbmRleCcpKSB7XG4gICAgICAgICAgICBodG1sLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnLTEnKTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaHRtbC5ibHVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgfVxuICAgICAgICBodG1sLmJsdXIoKTtcbiAgICB9O1xuICAgIHJldHVybiBNZW51RWxlbWVudDtcbn0oYWJzdHJhY3RfbmF2aWdhdGFibGVfanNfMS5BYnN0cmFjdE5hdmlnYXRhYmxlKSk7XG5leHBvcnRzLk1lbnVFbGVtZW50ID0gTWVudUVsZW1lbnQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZW51X2VsZW1lbnQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX192YWx1ZXMgPSAodGhpcyAmJiB0aGlzLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7XG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk1lbnVTdG9yZSA9IHZvaWQgMDtcbnZhciBtZW51X3V0aWxfanNfMSA9IHJlcXVpcmUoXCIuL21lbnVfdXRpbC5qc1wiKTtcbnZhciBodG1sX2NsYXNzZXNfanNfMSA9IHJlcXVpcmUoXCIuL2h0bWxfY2xhc3Nlcy5qc1wiKTtcbnZhciBrZXlfbmF2aWdhdGFibGVfanNfMSA9IHJlcXVpcmUoXCIuL2tleV9uYXZpZ2F0YWJsZS5qc1wiKTtcbnZhciBNZW51U3RvcmUgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1lbnVTdG9yZShtZW51KSB7XG4gICAgICAgIHRoaXMubWVudSA9IG1lbnU7XG4gICAgICAgIHRoaXMuc3RvcmUgPSBbXTtcbiAgICAgICAgdGhpcy5fYWN0aXZlID0gbnVsbDtcbiAgICAgICAgdGhpcy5jb3VudGVyID0gMDtcbiAgICAgICAgdGhpcy5hdHRhY2hlZENsYXNzID0gaHRtbF9jbGFzc2VzX2pzXzEuSHRtbENsYXNzZXNbJ0FUVEFDSEVEJ10gKyAnXycgK1xuICAgICAgICAgICAgbWVudV91dGlsX2pzXzEuTWVudVV0aWwuY291bnRlcigpO1xuICAgICAgICB0aGlzLnRhYm9yZGVyID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5hdHRyTWFwID0ge307XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZW51U3RvcmUucHJvdG90eXBlLCBcImFjdGl2ZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FjdGl2ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0b3JlLmluZGV4T2YoZWxlbWVudCkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FjdGl2ZSA9IGVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICAgICAgICAgICAgfSB3aGlsZSAoZWxlbWVudCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBNZW51U3RvcmUucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSB0aGlzLnN0b3JlLmxlbmd0aDtcbiAgICAgICAgaWYgKGxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5zdG9yZS5pbmRleE9mKHRoaXMuYWN0aXZlKTtcbiAgICAgICAgaW5kZXggPSBpbmRleCA9PT0gLTEgPyAwIDogKGluZGV4IDwgbGVuZ3RoIC0gMSA/IGluZGV4ICsgMSA6IDApO1xuICAgICAgICB0aGlzLmFjdGl2ZSA9IHRoaXMuc3RvcmVbaW5kZXhdO1xuICAgICAgICByZXR1cm4gdGhpcy5hY3RpdmU7XG4gICAgfTtcbiAgICBNZW51U3RvcmUucHJvdG90eXBlLnByZXZpb3VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5zdG9yZS5sZW5ndGg7XG4gICAgICAgIGlmIChsZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsYXN0ID0gbGVuZ3RoIC0gMTtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5zdG9yZS5pbmRleE9mKHRoaXMuYWN0aXZlKTtcbiAgICAgICAgaW5kZXggPSBpbmRleCA9PT0gLTEgPyBsYXN0IDogKGluZGV4ID09PSAwID8gbGFzdCA6IGluZGV4IC0gMSk7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gdGhpcy5zdG9yZVtpbmRleF07XG4gICAgICAgIHJldHVybiB0aGlzLmFjdGl2ZTtcbiAgICB9O1xuICAgIE1lbnVTdG9yZS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlKHRoaXMuc3RvcmUpO1xuICAgIH07XG4gICAgTWVudVN0b3JlLnByb3RvdHlwZS5pbnNlcnQgPSBmdW5jdGlvbiAoZWxlbWVudE9yTGlzdCkge1xuICAgICAgICB2YXIgZV8xLCBfYTtcbiAgICAgICAgdmFyIGVsZW1lbnRzID0gZWxlbWVudE9yTGlzdCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ID9cbiAgICAgICAgICAgIFtlbGVtZW50T3JMaXN0XSA6IGVsZW1lbnRPckxpc3Q7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBlbGVtZW50c18xID0gX192YWx1ZXMoZWxlbWVudHMpLCBlbGVtZW50c18xXzEgPSBlbGVtZW50c18xLm5leHQoKTsgIWVsZW1lbnRzXzFfMS5kb25lOyBlbGVtZW50c18xXzEgPSBlbGVtZW50c18xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gZWxlbWVudHNfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5zZXJ0RWxlbWVudChlbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRzXzFfMSAmJiAhZWxlbWVudHNfMV8xLmRvbmUgJiYgKF9hID0gZWxlbWVudHNfMS5yZXR1cm4pKSBfYS5jYWxsKGVsZW1lbnRzXzEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc29ydCgpO1xuICAgIH07XG4gICAgTWVudVN0b3JlLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoZWxlbWVudE9yTGlzdCkge1xuICAgICAgICB2YXIgZV8yLCBfYTtcbiAgICAgICAgdmFyIGVsZW1lbnRzID0gZWxlbWVudE9yTGlzdCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ID9cbiAgICAgICAgICAgIFtlbGVtZW50T3JMaXN0XSA6IGVsZW1lbnRPckxpc3Q7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBlbGVtZW50c18yID0gX192YWx1ZXMoZWxlbWVudHMpLCBlbGVtZW50c18yXzEgPSBlbGVtZW50c18yLm5leHQoKTsgIWVsZW1lbnRzXzJfMS5kb25lOyBlbGVtZW50c18yXzEgPSBlbGVtZW50c18yLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gZWxlbWVudHNfMl8xLnZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRWxlbWVudChlbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRzXzJfMSAmJiAhZWxlbWVudHNfMl8xLmRvbmUgJiYgKF9hID0gZWxlbWVudHNfMi5yZXR1cm4pKSBfYS5jYWxsKGVsZW1lbnRzXzIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzIpIHRocm93IGVfMi5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc29ydCgpO1xuICAgIH07XG4gICAgTWVudVN0b3JlLnByb3RvdHlwZS5pblRhYm9yZGVyID0gZnVuY3Rpb24gKGZsYWcpIHtcbiAgICAgICAgaWYgKHRoaXMudGFib3JkZXIgJiYgIWZsYWcpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlVGFib3JkZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMudGFib3JkZXIgJiYgZmxhZykge1xuICAgICAgICAgICAgdGhpcy5pbnNlcnRUYWJvcmRlcigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGFib3JkZXIgPSBmbGFnO1xuICAgIH07XG4gICAgTWVudVN0b3JlLnByb3RvdHlwZS5pbnNlcnRUYWJvcmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMudGFib3JkZXIpIHtcbiAgICAgICAgICAgIHRoaXMuaW5zZXJ0VGFib3JkZXJfKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1lbnVTdG9yZS5wcm90b3R5cGUucmVtb3ZlVGFib3JkZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnRhYm9yZGVyKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZVRhYm9yZGVyXygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNZW51U3RvcmUucHJvdG90eXBlLmluc2VydEVsZW1lbnQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnModGhpcy5hdHRhY2hlZENsYXNzKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLmF0dGFjaGVkQ2xhc3MpO1xuICAgICAgICBpZiAodGhpcy50YWJvcmRlcikge1xuICAgICAgICAgICAgdGhpcy5hZGRUYWJpbmRleChlbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFkZEV2ZW50cyhlbGVtZW50KTtcbiAgICB9O1xuICAgIE1lbnVTdG9yZS5wcm90b3R5cGUucmVtb3ZlRWxlbWVudCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIGlmICghZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnModGhpcy5hdHRhY2hlZENsYXNzKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmF0dGFjaGVkQ2xhc3MpO1xuICAgICAgICBpZiAodGhpcy50YWJvcmRlcikge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVUYWJpbmRleChlbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbW92ZUV2ZW50cyhlbGVtZW50KTtcbiAgICB9O1xuICAgIE1lbnVTdG9yZS5wcm90b3R5cGUuc29ydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5vZGVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSh0aGlzLmF0dGFjaGVkQ2xhc3MpO1xuICAgICAgICB0aGlzLnN0b3JlID0gW10uc2xpY2UuY2FsbChub2Rlcyk7XG4gICAgfTtcbiAgICBNZW51U3RvcmUucHJvdG90eXBlLmluc2VydFRhYm9yZGVyXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zdG9yZS5mb3JFYWNoKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnMCcpOyB9KTtcbiAgICB9O1xuICAgIE1lbnVTdG9yZS5wcm90b3R5cGUucmVtb3ZlVGFib3JkZXJfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnN0b3JlLmZvckVhY2goZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHguc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICctMScpOyB9KTtcbiAgICB9O1xuICAgIE1lbnVTdG9yZS5wcm90b3R5cGUuYWRkVGFiaW5kZXggPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICBpZiAoZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ3RhYmluZGV4JykpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGh0bWxfY2xhc3Nlc19qc18xLkh0bWxBdHRyc1snT0xEVEFCJ10sIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCd0YWJpbmRleCcpKTtcbiAgICAgICAgfVxuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnMCcpO1xuICAgIH07XG4gICAgTWVudVN0b3JlLnByb3RvdHlwZS5yZW1vdmVUYWJpbmRleCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIGlmIChlbGVtZW50Lmhhc0F0dHJpYnV0ZShodG1sX2NsYXNzZXNfanNfMS5IdG1sQXR0cnNbJ09MRFRBQiddKSkge1xuICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgZWxlbWVudC5nZXRBdHRyaWJ1dGUoaHRtbF9jbGFzc2VzX2pzXzEuSHRtbEF0dHJzWydPTERUQUInXSkpO1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoaHRtbF9jbGFzc2VzX2pzXzEuSHRtbEF0dHJzWydPTERUQUInXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgndGFiaW5kZXgnKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTWVudVN0b3JlLnByb3RvdHlwZS5hZGRFdmVudHMgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICBpZiAoZWxlbWVudC5oYXNBdHRyaWJ1dGUoaHRtbF9jbGFzc2VzX2pzXzEuSHRtbEF0dHJzWydDT1VOVEVSJ10pKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hZGRFdmVudChlbGVtZW50LCAnY29udGV4dG1lbnUnLCB0aGlzLm1lbnUucG9zdC5iaW5kKHRoaXMubWVudSkpO1xuICAgICAgICB0aGlzLmFkZEV2ZW50KGVsZW1lbnQsICdrZXlkb3duJywgdGhpcy5rZXlkb3duLmJpbmQodGhpcykpO1xuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShodG1sX2NsYXNzZXNfanNfMS5IdG1sQXR0cnNbJ0NPVU5URVInXSwgdGhpcy5jb3VudGVyLnRvU3RyaW5nKCkpO1xuICAgICAgICB0aGlzLmNvdW50ZXIrKztcbiAgICB9O1xuICAgIE1lbnVTdG9yZS5wcm90b3R5cGUuYWRkRXZlbnQgPSBmdW5jdGlvbiAoZWxlbWVudCwgbmFtZSwgZnVuYykge1xuICAgICAgICB2YXIgYXR0ck5hbWUgPSBodG1sX2NsYXNzZXNfanNfMS5IdG1sQXR0cnNbbmFtZS50b1VwcGVyQ2FzZSgpICsgJ0ZVTkMnXTtcbiAgICAgICAgdGhpcy5hdHRyTWFwW2F0dHJOYW1lICsgdGhpcy5jb3VudGVyXSA9IGZ1bmM7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBmdW5jKTtcbiAgICB9O1xuICAgIE1lbnVTdG9yZS5wcm90b3R5cGUucmVtb3ZlRXZlbnRzID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKCFlbGVtZW50Lmhhc0F0dHJpYnV0ZShodG1sX2NsYXNzZXNfanNfMS5IdG1sQXR0cnNbJ0NPVU5URVInXSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY291bnRlciA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKGh0bWxfY2xhc3Nlc19qc18xLkh0bWxBdHRyc1snQ09VTlRFUiddKTtcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudChlbGVtZW50LCAnY29udGV4dG1lbnUnLCBjb3VudGVyKTtcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudChlbGVtZW50LCAna2V5ZG93bicsIGNvdW50ZXIpO1xuICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShodG1sX2NsYXNzZXNfanNfMS5IdG1sQXR0cnNbJ0NPVU5URVInXSk7XG4gICAgfTtcbiAgICBNZW51U3RvcmUucHJvdG90eXBlLnJlbW92ZUV2ZW50ID0gZnVuY3Rpb24gKGVsZW1lbnQsIG5hbWUsIGNvdW50ZXIpIHtcbiAgICAgICAgdmFyIGF0dHJOYW1lID0gaHRtbF9jbGFzc2VzX2pzXzEuSHRtbEF0dHJzW25hbWUudG9VcHBlckNhc2UoKSArICdGVU5DJ107XG4gICAgICAgIHZhciBtZW51RnVuYyA9IHRoaXMuYXR0ck1hcFthdHRyTmFtZSArIGNvdW50ZXJdO1xuICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZSwgbWVudUZ1bmMpO1xuICAgIH07XG4gICAgTWVudVN0b3JlLnByb3RvdHlwZS5rZXlkb3duID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSBrZXlfbmF2aWdhdGFibGVfanNfMS5LRVkuU1BBQ0UpIHtcbiAgICAgICAgICAgIHRoaXMubWVudS5wb3N0KGV2ZW50KTtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE1lbnVTdG9yZTtcbn0oKSk7XG5leHBvcnRzLk1lbnVTdG9yZSA9IE1lbnVTdG9yZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lbnVfc3RvcmUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk1lbnVVdGlsID0gdm9pZCAwO1xudmFyIE1lbnVVdGlsO1xuKGZ1bmN0aW9uIChNZW51VXRpbCkge1xuICAgIGZ1bmN0aW9uIGNsb3NlKGl0ZW0pIHtcbiAgICAgICAgdmFyIG1lbnUgPSBpdGVtLm1lbnU7XG4gICAgICAgIGlmIChtZW51LmJhc2VNZW51KSB7XG4gICAgICAgICAgICBtZW51LmJhc2VNZW51LnVucG9zdCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbWVudS51bnBvc3QoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBNZW51VXRpbC5jbG9zZSA9IGNsb3NlO1xuICAgIGZ1bmN0aW9uIGdldEFjdGl2ZUVsZW1lbnQoaXRlbSkge1xuICAgICAgICB2YXIgbWVudSA9IGl0ZW0ubWVudTtcbiAgICAgICAgdmFyIGJhc2VNZW51ID0gKG1lbnUuYmFzZU1lbnUgPyBtZW51LmJhc2VNZW51IDogbWVudSk7XG4gICAgICAgIHJldHVybiBiYXNlTWVudS5zdG9yZS5hY3RpdmU7XG4gICAgfVxuICAgIE1lbnVVdGlsLmdldEFjdGl2ZUVsZW1lbnQgPSBnZXRBY3RpdmVFbGVtZW50O1xuICAgIGZ1bmN0aW9uIGVycm9yKF9lcnJvciwgbXNnKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0NvbnRleHRNZW51IEVycm9yOiAnICsgbXNnKTtcbiAgICB9XG4gICAgTWVudVV0aWwuZXJyb3IgPSBlcnJvcjtcbiAgICBmdW5jdGlvbiBjb3VudGVyKCkge1xuICAgICAgICByZXR1cm4gY291bnQrKztcbiAgICB9XG4gICAgTWVudVV0aWwuY291bnRlciA9IGNvdW50ZXI7XG4gICAgdmFyIGNvdW50ID0gMDtcbn0pKE1lbnVVdGlsID0gZXhwb3J0cy5NZW51VXRpbCB8fCAoZXhwb3J0cy5NZW51VXRpbCA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZW51X3V0aWwuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk1PVVNFID0gdm9pZCAwO1xuZXhwb3J0cy5NT1VTRSA9IHtcbiAgICBDTElDSzogJ2NsaWNrJyxcbiAgICBEQkxDTElDSzogJ2RibGNsaWNrJyxcbiAgICBET1dOOiAnbW91c2Vkb3duJyxcbiAgICBVUDogJ21vdXNldXAnLFxuICAgIE9WRVI6ICdtb3VzZW92ZXInLFxuICAgIE9VVDogJ21vdXNlb3V0JyxcbiAgICBNT1ZFOiAnbW91c2Vtb3ZlJyxcbiAgICBTRUxFQ1RFTkQ6ICdzZWxlY3RlbmQnLFxuICAgIFNFTEVDVFNUQVJUOiAnc2VsZWN0c3RhcnQnXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bW91c2VfbmF2aWdhdGFibGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19yZXN0ID0gKHRoaXMgJiYgdGhpcy5fX3Jlc3QpIHx8IGZ1bmN0aW9uIChzLCBlKSB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcbiAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgICAgIH1cbiAgICByZXR1cm4gdDtcbn07XG52YXIgX19yZWFkID0gKHRoaXMgJiYgdGhpcy5fX3JlYWQpIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICAgIGlmICghbSkgcmV0dXJuIG87XG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XG4gICAgdHJ5IHtcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XG4gICAgfVxuICAgIHJldHVybiBhcjtcbn07XG52YXIgX192YWx1ZXMgPSAodGhpcyAmJiB0aGlzLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7XG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbn07XG52YXIgX19zcHJlYWQgPSAodGhpcyAmJiB0aGlzLl9fc3ByZWFkKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcbiAgICByZXR1cm4gYXI7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5QYXJzZXIgPSB2b2lkIDA7XG52YXIgaXRlbV9jb21tYW5kX2pzXzEgPSByZXF1aXJlKFwiLi9pdGVtX2NvbW1hbmQuanNcIik7XG52YXIgY29udGV4dF9tZW51X2pzXzEgPSByZXF1aXJlKFwiLi9jb250ZXh0X21lbnUuanNcIik7XG52YXIgdmFyaWFibGVfanNfMSA9IHJlcXVpcmUoXCIuL3ZhcmlhYmxlLmpzXCIpO1xudmFyIGl0ZW1fY2hlY2tib3hfanNfMSA9IHJlcXVpcmUoXCIuL2l0ZW1fY2hlY2tib3guanNcIik7XG52YXIgaXRlbV9jb21ib19qc18xID0gcmVxdWlyZShcIi4vaXRlbV9jb21iby5qc1wiKTtcbnZhciBpdGVtX2xhYmVsX2pzXzEgPSByZXF1aXJlKFwiLi9pdGVtX2xhYmVsLmpzXCIpO1xudmFyIGl0ZW1fcmFkaW9fanNfMSA9IHJlcXVpcmUoXCIuL2l0ZW1fcmFkaW8uanNcIik7XG52YXIgaXRlbV9zdWJtZW51X2pzXzEgPSByZXF1aXJlKFwiLi9pdGVtX3N1Ym1lbnUuanNcIik7XG52YXIgaXRlbV9ydWxlX2pzXzEgPSByZXF1aXJlKFwiLi9pdGVtX3J1bGUuanNcIik7XG52YXIgaXRlbV9zbGlkZXJfanNfMSA9IHJlcXVpcmUoXCIuL2l0ZW1fc2xpZGVyLmpzXCIpO1xudmFyIHN1Yl9tZW51X2pzXzEgPSByZXF1aXJlKFwiLi9zdWJfbWVudS5qc1wiKTtcbnZhciBzZWxlY3Rpb25fYm94X2pzXzEgPSByZXF1aXJlKFwiLi9zZWxlY3Rpb25fYm94LmpzXCIpO1xudmFyIHBhcnNlcl9mYWN0b3J5X2pzXzEgPSByZXF1aXJlKFwiLi9wYXJzZXJfZmFjdG9yeS5qc1wiKTtcbnZhciBQYXJzZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFBhcnNlcihpbml0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChpbml0ID09PSB2b2lkIDApIHsgaW5pdCA9IFtdOyB9XG4gICAgICAgIHRoaXMuX2luaXRMaXN0ID0gW1xuICAgICAgICAgICAgWydjb21tYW5kJywgaXRlbV9jb21tYW5kX2pzXzEuQ29tbWFuZC5mcm9tSnNvbi5iaW5kKGl0ZW1fY29tbWFuZF9qc18xLkNvbW1hbmQpXSxcbiAgICAgICAgICAgIFsnY2hlY2tib3gnLCBpdGVtX2NoZWNrYm94X2pzXzEuQ2hlY2tib3guZnJvbUpzb24uYmluZChpdGVtX2NoZWNrYm94X2pzXzEuQ2hlY2tib3gpXSxcbiAgICAgICAgICAgIFsnY29tYm8nLCBpdGVtX2NvbWJvX2pzXzEuQ29tYm8uZnJvbUpzb24uYmluZChpdGVtX2NvbWJvX2pzXzEuQ29tYm8pXSxcbiAgICAgICAgICAgIFsnc2xpZGVyJywgaXRlbV9zbGlkZXJfanNfMS5TbGlkZXIuZnJvbUpzb24uYmluZChpdGVtX3NsaWRlcl9qc18xLlNsaWRlcildLFxuICAgICAgICAgICAgWydsYWJlbCcsIGl0ZW1fbGFiZWxfanNfMS5MYWJlbC5mcm9tSnNvbi5iaW5kKGl0ZW1fbGFiZWxfanNfMS5MYWJlbCldLFxuICAgICAgICAgICAgWydyYWRpbycsIGl0ZW1fcmFkaW9fanNfMS5SYWRpby5mcm9tSnNvbi5iaW5kKGl0ZW1fcmFkaW9fanNfMS5SYWRpbyldLFxuICAgICAgICAgICAgWydydWxlJywgaXRlbV9ydWxlX2pzXzEuUnVsZS5mcm9tSnNvbi5iaW5kKGl0ZW1fcnVsZV9qc18xLlJ1bGUpXSxcbiAgICAgICAgICAgIFsnc3VibWVudScsIGl0ZW1fc3VibWVudV9qc18xLlN1Ym1lbnUuZnJvbUpzb24uYmluZChpdGVtX3N1Ym1lbnVfanNfMS5TdWJtZW51KV0sXG4gICAgICAgICAgICBbJ2NvbnRleHRNZW51JywgY29udGV4dF9tZW51X2pzXzEuQ29udGV4dE1lbnUuZnJvbUpzb24uYmluZChjb250ZXh0X21lbnVfanNfMS5Db250ZXh0TWVudSldLFxuICAgICAgICAgICAgWydzdWJNZW51Jywgc3ViX21lbnVfanNfMS5TdWJNZW51LmZyb21Kc29uLmJpbmQoc3ViX21lbnVfanNfMS5TdWJNZW51KV0sXG4gICAgICAgICAgICBbJ3ZhcmlhYmxlJywgdmFyaWFibGVfanNfMS5WYXJpYWJsZS5mcm9tSnNvbi5iaW5kKHZhcmlhYmxlX2pzXzEuVmFyaWFibGUpXSxcbiAgICAgICAgICAgIFsnaXRlbXMnLCB0aGlzLml0ZW1zLmJpbmQodGhpcyldLFxuICAgICAgICAgICAgWydzZWxlY3Rpb25NZW51Jywgc2VsZWN0aW9uX2JveF9qc18xLlNlbGVjdGlvbk1lbnUuZnJvbUpzb24uYmluZChzZWxlY3Rpb25fYm94X2pzXzEuU2VsZWN0aW9uTWVudSldLFxuICAgICAgICAgICAgWydzZWxlY3Rpb25Cb3gnLCBzZWxlY3Rpb25fYm94X2pzXzEuU2VsZWN0aW9uQm94LmZyb21Kc29uLmJpbmQoc2VsZWN0aW9uX2JveF9qc18xLlNlbGVjdGlvbkJveCldXG4gICAgICAgIF07XG4gICAgICAgIHRoaXMuX2ZhY3RvcnkgPSBuZXcgcGFyc2VyX2ZhY3RvcnlfanNfMS5QYXJzZXJGYWN0b3J5KHRoaXMuX2luaXRMaXN0KTtcbiAgICAgICAgaW5pdC5mb3JFYWNoKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgdmFyIF9iID0gX19yZWFkKF9hLCAyKSwgeCA9IF9iWzBdLCB5ID0gX2JbMV07XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuZmFjdG9yeS5hZGQoeCwgeSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUGFyc2VyLnByb3RvdHlwZSwgXCJmYWN0b3J5XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZmFjdG9yeTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFBhcnNlci5wcm90b3R5cGUuaXRlbXMgPSBmdW5jdGlvbiAoX2ZhY3RvcnksIGl0cywgY3R4dCkge1xuICAgICAgICB2YXIgZV8xLCBfYTtcbiAgICAgICAgdmFyIGhpZGRlbiA9IFtdO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgaXRzXzEgPSBfX3ZhbHVlcyhpdHMpLCBpdHNfMV8xID0gaXRzXzEubmV4dCgpOyAhaXRzXzFfMS5kb25lOyBpdHNfMV8xID0gaXRzXzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBpdHNfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgIHZhciBlbnRyeSA9IHRoaXMucGFyc2UoaXRlbSwgY3R4dCk7XG4gICAgICAgICAgICAgICAgaWYgKCFlbnRyeSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3R4dC5pdGVtcy5wdXNoKGVudHJ5KTtcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS5kaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICBlbnRyeS5kaXNhYmxlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpdGVtLmhpZGRlbikge1xuICAgICAgICAgICAgICAgICAgICBoaWRkZW4ucHVzaChlbnRyeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoaXRzXzFfMSAmJiAhaXRzXzFfMS5kb25lICYmIChfYSA9IGl0c18xLnJldHVybikpIF9hLmNhbGwoaXRzXzEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgICAgIGhpZGRlbi5mb3JFYWNoKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LmhpZGUoKTsgfSk7XG4gICAgICAgIHJldHVybiBjdHh0Lml0ZW1zO1xuICAgIH07XG4gICAgUGFyc2VyLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgcmVzdCA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgcmVzdFtfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIga2luZCA9IF9hLnR5cGUsIGpzb24gPSBfX3Jlc3QoX2EsIFtcInR5cGVcIl0pO1xuICAgICAgICB2YXIgZnVuYyA9IHRoaXMuZmFjdG9yeS5nZXQoa2luZCk7XG4gICAgICAgIHJldHVybiBmdW5jID8gZnVuYy5hcHBseSh2b2lkIDAsIF9fc3ByZWFkKFt0aGlzLmZhY3RvcnksIGpzb25dLCByZXN0KSkgOiBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIFBhcnNlcjtcbn0oKSk7XG5leHBvcnRzLlBhcnNlciA9IFBhcnNlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnNlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5QYXJzZXJGYWN0b3J5ID0gdm9pZCAwO1xudmFyIFBhcnNlckZhY3RvcnkgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFBhcnNlckZhY3RvcnkoaW5pdCkge1xuICAgICAgICB0aGlzLl9wYXJzZXIgPSBuZXcgTWFwKGluaXQpO1xuICAgIH1cbiAgICBQYXJzZXJGYWN0b3J5LnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGFyc2VyLmdldChuYW1lKTtcbiAgICB9O1xuICAgIFBhcnNlckZhY3RvcnkucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChuYW1lLCBtZXRob2QpIHtcbiAgICAgICAgdGhpcy5fcGFyc2VyLnNldChuYW1lLCBtZXRob2QpO1xuICAgIH07XG4gICAgcmV0dXJuIFBhcnNlckZhY3Rvcnk7XG59KCkpO1xuZXhwb3J0cy5QYXJzZXJGYWN0b3J5ID0gUGFyc2VyRmFjdG9yeTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnNlcl9mYWN0b3J5LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlBvcHVwID0gdm9pZCAwO1xudmFyIGFic3RyYWN0X3Bvc3RhYmxlX2pzXzEgPSByZXF1aXJlKFwiLi9hYnN0cmFjdF9wb3N0YWJsZS5qc1wiKTtcbnZhciBQb3B1cCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFBvcHVwLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFBvcHVwKHRpdGxlLCBjb250ZW50KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgICAgIF90aGlzLndpbmRvdyA9IG51bGw7XG4gICAgICAgIF90aGlzLmxvY2FsU2V0dGluZ3MgPSB7XG4gICAgICAgICAgICBsZWZ0OiBNYXRoLnJvdW5kKChzY3JlZW4ud2lkdGggLSA0MDApIC8gMiksXG4gICAgICAgICAgICB0b3A6IE1hdGgucm91bmQoKHNjcmVlbi5oZWlnaHQgLSAzMDApIC8gMylcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMud2luZG93TGlzdCA9IFtdO1xuICAgICAgICBfdGhpcy5tb2JpbGVGbGFnID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmFjdGl2ZSA9IG51bGw7XG4gICAgICAgIF90aGlzLmNvbnRlbnQgPSBjb250ZW50IHx8IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcnOyB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFBvcHVwLmZyb21Kc29uID0gZnVuY3Rpb24gKCkge1xuICAgIH07XG4gICAgUG9wdXAucHJvdG90eXBlLmF0dGFjaE1lbnUgPSBmdW5jdGlvbiAobWVudSkge1xuICAgICAgICB0aGlzLm1lbnUgPSBtZW51O1xuICAgIH07XG4gICAgUG9wdXAucHJvdG90eXBlLnBvc3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGlzcGxheSgpO1xuICAgIH07XG4gICAgUG9wdXAucHJvdG90eXBlLmRpc3BsYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gdGhpcy5tZW51LnN0b3JlLmFjdGl2ZTtcbiAgICAgICAgdmFyIHNldHRpbmdzID0gW107XG4gICAgICAgIGZvciAodmFyIHNldHRpbmcgaW4gUG9wdXAucG9wdXBTZXR0aW5ncykge1xuICAgICAgICAgICAgc2V0dGluZ3MucHVzaChzZXR0aW5nICsgJz0nICsgUG9wdXAucG9wdXBTZXR0aW5nc1tzZXR0aW5nXSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgc2V0dGluZyBpbiB0aGlzLmxvY2FsU2V0dGluZ3MpIHtcbiAgICAgICAgICAgIHNldHRpbmdzLnB1c2goc2V0dGluZyArICc9JyArIHRoaXMubG9jYWxTZXR0aW5nc1tzZXR0aW5nXSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy53aW5kb3cgPSB3aW5kb3cub3BlbignJywgJ19ibGFuaycsIHNldHRpbmdzLmpvaW4oJywnKSk7XG4gICAgICAgIHRoaXMud2luZG93TGlzdC5wdXNoKHRoaXMud2luZG93KTtcbiAgICAgICAgdmFyIGRvYyA9IHRoaXMud2luZG93LmRvY3VtZW50O1xuICAgICAgICBpZiAodGhpcy5tb2JpbGVGbGFnKSB7XG4gICAgICAgICAgICBkb2Mub3BlbigpO1xuICAgICAgICAgICAgZG9jLndyaXRlKCc8aHRtbD48aGVhZD48bWV0YSBuYW1lPVwidmlld3BvcnRcIiAnICtcbiAgICAgICAgICAgICAgICAnY29udGVudD1cIndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjBcIiAvPjx0aXRsZT4nICtcbiAgICAgICAgICAgICAgICB0aGlzLnRpdGxlICtcbiAgICAgICAgICAgICAgICAnPC90aXRsZT48L2hlYWQ+PGJvZHkgc3R5bGU9XCJmb250LXNpemU6ODUlXCI+Jyk7XG4gICAgICAgICAgICBkb2Mud3JpdGUoJzxwcmU+JyArIHRoaXMuZ2VuZXJhdGVDb250ZW50KCkgKyAnPC9wcmU+Jyk7XG4gICAgICAgICAgICBkb2Mud3JpdGUoJzxocj48aW5wdXQgdHlwZT1cImJ1dHRvblwiIHZhbHVlPVwiJyArXG4gICAgICAgICAgICAgICAgJ0Nsb3NlJyArICdcIiBvbmNsaWNrPVwid2luZG93LmNsb3NlKClcIiAvPicpO1xuICAgICAgICAgICAgZG9jLndyaXRlKCc8L2JvZHk+PC9odG1sPicpO1xuICAgICAgICAgICAgZG9jLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkb2Mub3BlbigpO1xuICAgICAgICAgICAgZG9jLndyaXRlKCc8aHRtbD48aGVhZD48dGl0bGU+JyArIHRoaXMudGl0bGUgK1xuICAgICAgICAgICAgICAgICc8L3RpdGxlPjwvaGVhZD48Ym9keSBzdHlsZT1cImZvbnQtc2l6ZTo4NSVcIj4nKTtcbiAgICAgICAgICAgIGRvYy53cml0ZSgnPHRhYmxlPjx0cj48dGQ+PHByZT4nICsgdGhpcy5nZW5lcmF0ZUNvbnRlbnQoKSArXG4gICAgICAgICAgICAgICAgJzwvcHJlPjwvdGQ+PC90cj48L3RhYmxlPicpO1xuICAgICAgICAgICAgZG9jLndyaXRlKCc8L2JvZHk+PC9odG1sPicpO1xuICAgICAgICAgICAgZG9jLmNsb3NlKCk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMucmVzaXplLmJpbmQodGhpcyksIDUwKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUG9wdXAucHJvdG90eXBlLnVucG9zdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy53aW5kb3dMaXN0LmZvckVhY2goZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHguY2xvc2UoKTsgfSk7XG4gICAgICAgIHRoaXMud2luZG93ID0gbnVsbDtcbiAgICB9O1xuICAgIFBvcHVwLnByb3RvdHlwZS5nZW5lcmF0ZUNvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRlbnQodGhpcy5hY3RpdmUpO1xuICAgIH07XG4gICAgUG9wdXAucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRhYmxlID0gdGhpcy53aW5kb3cuZG9jdW1lbnQuYm9keS5maXJzdENoaWxkO1xuICAgICAgICB2YXIgSCA9ICh0aGlzLndpbmRvdy5vdXRlckhlaWdodCAtIHRoaXMud2luZG93LmlubmVySGVpZ2h0KSB8fCAzMDtcbiAgICAgICAgdmFyIFcgPSAodGhpcy53aW5kb3cub3V0ZXJXaWR0aCAtIHRoaXMud2luZG93LmlubmVyV2lkdGgpIHx8IDMwO1xuICAgICAgICBXID0gTWF0aC5tYXgoMTQwLCBNYXRoLm1pbihNYXRoLmZsb29yKC41ICogdGhpcy53aW5kb3cuc2NyZWVuLndpZHRoKSwgdGFibGUub2Zmc2V0V2lkdGggKyBXICsgMjUpKTtcbiAgICAgICAgSCA9IE1hdGgubWF4KDQwLCBNYXRoLm1pbihNYXRoLmZsb29yKC41ICogdGhpcy53aW5kb3cuc2NyZWVuLmhlaWdodCksIHRhYmxlLm9mZnNldEhlaWdodCArIEggKyAyNSkpO1xuICAgICAgICB0aGlzLndpbmRvdy5yZXNpemVUbyhXLCBIKTtcbiAgICAgICAgdmFyIGJiID0gdGhpcy5hY3RpdmUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGlmIChiYikge1xuICAgICAgICAgICAgdmFyIHggPSBNYXRoLm1heCgwLCBNYXRoLm1pbihiYi5yaWdodCAtIE1hdGguZmxvb3IoVyAvIDIpLCB0aGlzLndpbmRvdy5zY3JlZW4ud2lkdGggLSBXIC0gMjApKTtcbiAgICAgICAgICAgIHZhciB5ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oYmIuYm90dG9tIC0gTWF0aC5mbG9vcihIIC8gMiksIHRoaXMud2luZG93LnNjcmVlbi5oZWlnaHQgLSBIIC0gMjApKTtcbiAgICAgICAgICAgIHRoaXMud2luZG93Lm1vdmVUbyh4LCB5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFjdGl2ZSA9IG51bGw7XG4gICAgfTtcbiAgICBQb3B1cC5wcm90b3R5cGUudG9Kc29uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4geyB0eXBlOiAnJ1xuICAgICAgICB9O1xuICAgIH07XG4gICAgUG9wdXAucG9wdXBTZXR0aW5ncyA9IHtcbiAgICAgICAgc3RhdHVzOiAnbm8nLFxuICAgICAgICB0b29sYmFyOiAnbm8nLFxuICAgICAgICBsb2NhdGlvbmJhcjogJ25vJyxcbiAgICAgICAgbWVudWJhcjogJ25vJyxcbiAgICAgICAgZGlyZWN0b3JpZXM6ICdubycsXG4gICAgICAgIHBlcnNvbmFsYmFyOiAnbm8nLFxuICAgICAgICByZXNpemFibGU6ICd5ZXMnLFxuICAgICAgICBzY3JvbGxiYXJzOiAneWVzJyxcbiAgICAgICAgd2lkdGg6IDQwMCxcbiAgICAgICAgaGVpZ2h0OiAzMDAsXG4gICAgfTtcbiAgICByZXR1cm4gUG9wdXA7XG59KGFic3RyYWN0X3Bvc3RhYmxlX2pzXzEuQWJzdHJhY3RQb3N0YWJsZSkpO1xuZXhwb3J0cy5Qb3B1cCA9IFBvcHVwO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cG9wdXAuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX3JlYWQgPSAodGhpcyAmJiB0aGlzLl9fcmVhZCkgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gICAgaWYgKCFtKSByZXR1cm4gbztcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgICB0cnkge1xuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgICB9XG4gICAgcmV0dXJuIGFyO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuU2VsZWN0aW9uQm94ID0gZXhwb3J0cy5TZWxlY3Rpb25NZW51ID0gdm9pZCAwO1xudmFyIG1lbnVfdXRpbF9qc18xID0gcmVxdWlyZShcIi4vbWVudV91dGlsLmpzXCIpO1xudmFyIGh0bWxfY2xhc3Nlc19qc18xID0gcmVxdWlyZShcIi4vaHRtbF9jbGFzc2VzLmpzXCIpO1xudmFyIGFic3RyYWN0X21lbnVfanNfMSA9IHJlcXVpcmUoXCIuL2Fic3RyYWN0X21lbnUuanNcIik7XG52YXIgaW5mb19qc18xID0gcmVxdWlyZShcIi4vaW5mby5qc1wiKTtcbnZhciBTZWxlY3Rpb25NZW51ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU2VsZWN0aW9uTWVudSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTZWxlY3Rpb25NZW51KGFuY2hvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5hbmNob3IgPSBhbmNob3I7XG4gICAgICAgIF90aGlzLmNsYXNzTmFtZSA9IGh0bWxfY2xhc3Nlc19qc18xLkh0bWxDbGFzc2VzWydTRUxFQ1RJT05NRU5VJ107XG4gICAgICAgIF90aGlzLnZhcmlhYmxlUG9vbCA9IF90aGlzLmFuY2hvci5tZW51LnBvb2w7XG4gICAgICAgIF90aGlzLmJhc2VNZW51ID0gX3RoaXMuYW5jaG9yLm1lbnU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU2VsZWN0aW9uTWVudS5mcm9tSnNvbiA9IGZ1bmN0aW9uIChmYWN0b3J5LCBfYSwgc2IpIHtcbiAgICAgICAgdmFyIHRpdGxlID0gX2EudGl0bGUsIHZhbHVlcyA9IF9hLnZhbHVlcywgdmFyaWFibGUgPSBfYS52YXJpYWJsZTtcbiAgICAgICAgdmFyIHNlbGVjdGlvbiA9IG5ldyB0aGlzKHNiKTtcbiAgICAgICAgdmFyIHRpdCA9IGZhY3RvcnkuZ2V0KCdsYWJlbCcpKGZhY3RvcnksIHsgY29udGVudDogdGl0bGUgfHwgJycsIGlkOiB0aXRsZSB8fCAnaWQnIH0sIHNlbGVjdGlvbik7XG4gICAgICAgIHZhciBydWwgPSBmYWN0b3J5LmdldCgncnVsZScpKGZhY3RvcnksIHt9LCBzZWxlY3Rpb24pO1xuICAgICAgICB2YXIgcmFkaW9zID0gdmFsdWVzLm1hcChmdW5jdGlvbiAoeCkgeyByZXR1cm4gZmFjdG9yeS5nZXQoJ3JhZGlvJykoZmFjdG9yeSwgeyBjb250ZW50OiB4LCB2YXJpYWJsZTogdmFyaWFibGUsIGlkOiB4IH0sIHNlbGVjdGlvbik7IH0pO1xuICAgICAgICB2YXIgaXRlbXMgPSBbdGl0LCBydWxdLmNvbmNhdChyYWRpb3MpO1xuICAgICAgICBzZWxlY3Rpb24uaXRlbXMgPSBpdGVtcztcbiAgICAgICAgcmV0dXJuIHNlbGVjdGlvbjtcbiAgICB9O1xuICAgIFNlbGVjdGlvbk1lbnUucHJvdG90eXBlLmdlbmVyYXRlSHRtbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5nZW5lcmF0ZUh0bWwuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5pdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiBpdGVtLmh0bWwuY2xhc3NMaXN0LmFkZChodG1sX2NsYXNzZXNfanNfMS5IdG1sQ2xhc3Nlc1snU0VMRUNUSU9OSVRFTSddKTsgfSk7XG4gICAgfTtcbiAgICBTZWxlY3Rpb25NZW51LnByb3RvdHlwZS5kaXNwbGF5ID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIFNlbGVjdGlvbk1lbnUucHJvdG90eXBlLnJpZ2h0ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuYW5jaG9yLnJpZ2h0KGV2ZW50KTtcbiAgICB9O1xuICAgIFNlbGVjdGlvbk1lbnUucHJvdG90eXBlLmxlZnQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5hbmNob3IubGVmdChldmVudCk7XG4gICAgfTtcbiAgICByZXR1cm4gU2VsZWN0aW9uTWVudTtcbn0oYWJzdHJhY3RfbWVudV9qc18xLkFic3RyYWN0TWVudSkpO1xuZXhwb3J0cy5TZWxlY3Rpb25NZW51ID0gU2VsZWN0aW9uTWVudTtcbnZhciBTZWxlY3Rpb25Cb3ggPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTZWxlY3Rpb25Cb3gsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU2VsZWN0aW9uQm94KHRpdGxlLCBzaWduYXR1cmUsIHN0eWxlLCBncmlkKSB7XG4gICAgICAgIGlmIChzdHlsZSA9PT0gdm9pZCAwKSB7IHN0eWxlID0gXCJub25lXCI7IH1cbiAgICAgICAgaWYgKGdyaWQgPT09IHZvaWQgMCkgeyBncmlkID0gXCJ2ZXJ0aWNhbFwiOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHRpdGxlLCBudWxsLCBzaWduYXR1cmUpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnN0eWxlID0gc3R5bGU7XG4gICAgICAgIF90aGlzLmdyaWQgPSBncmlkO1xuICAgICAgICBfdGhpcy5fc2VsZWN0aW9ucyA9IFtdO1xuICAgICAgICBfdGhpcy5wcmVmaXggPSAnY3R4dC1zZWxlY3Rpb24nO1xuICAgICAgICBfdGhpcy5fYmFsYW5jZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFNlbGVjdGlvbkJveC5mcm9tSnNvbiA9IGZ1bmN0aW9uIChmYWN0b3J5LCBfYSwgY3R4dCkge1xuICAgICAgICB2YXIgdGl0bGUgPSBfYS50aXRsZSwgc2lnbmF0dXJlID0gX2Euc2lnbmF0dXJlLCBzZWxlY3Rpb25zID0gX2Euc2VsZWN0aW9ucywgb3JkZXIgPSBfYS5vcmRlciwgZ3JpZCA9IF9hLmdyaWQ7XG4gICAgICAgIGNvbnNvbGUubG9nKGdyaWQpO1xuICAgICAgICBjb25zb2xlLmxvZyhvcmRlcik7XG4gICAgICAgIHZhciBzYiA9IG5ldyB0aGlzKHRpdGxlLCBzaWduYXR1cmUsIG9yZGVyLCBncmlkKTtcbiAgICAgICAgc2IuYXR0YWNoTWVudShjdHh0KTtcbiAgICAgICAgdmFyIHNlbHMgPSBzZWxlY3Rpb25zLm1hcChmdW5jdGlvbiAoeCkgeyByZXR1cm4gZmFjdG9yeS5nZXQoJ3NlbGVjdGlvbk1lbnUnKShmYWN0b3J5LCB4LCBzYik7IH0pO1xuICAgICAgICBzYi5zZWxlY3Rpb25zID0gc2VscztcbiAgICAgICAgcmV0dXJuIHNiO1xuICAgIH07XG4gICAgU2VsZWN0aW9uQm94LnByb3RvdHlwZS5hdHRhY2hNZW51ID0gZnVuY3Rpb24gKG1lbnUpIHtcbiAgICAgICAgdGhpcy5tZW51ID0gbWVudTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTZWxlY3Rpb25Cb3gucHJvdG90eXBlLCBcInNlbGVjdGlvbnNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zZWxlY3Rpb25zO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChzZWxlY3Rpb25zKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgdGhpcy5fc2VsZWN0aW9ucyA9IFtdO1xuICAgICAgICAgICAgc2VsZWN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uICh4KSB7IHJldHVybiBfdGhpcy5hZGRTZWxlY3Rpb24oeCk7IH0pO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgU2VsZWN0aW9uQm94LnByb3RvdHlwZS5hZGRTZWxlY3Rpb24gPSBmdW5jdGlvbiAoc2VsZWN0aW9uKSB7XG4gICAgICAgIHNlbGVjdGlvbi5hbmNob3IgPSB0aGlzO1xuICAgICAgICB0aGlzLl9zZWxlY3Rpb25zLnB1c2goc2VsZWN0aW9uKTtcbiAgICB9O1xuICAgIFNlbGVjdGlvbkJveC5wcm90b3R5cGUucm93RGl2ID0gZnVuY3Rpb24gKHNlbHMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLmNvbnRlbnREaXYuYXBwZW5kQ2hpbGQoZGl2KTtcbiAgICAgICAgdmFyIHJlY3RzID0gc2Vscy5tYXAoZnVuY3Rpb24gKHNlbCkge1xuICAgICAgICAgICAgZGl2LmFwcGVuZENoaWxkKHNlbC5odG1sKTtcbiAgICAgICAgICAgIGlmICghc2VsLmh0bWwuaWQpIHtcbiAgICAgICAgICAgICAgICBzZWwuaHRtbC5pZCA9IF90aGlzLnByZWZpeCArIG1lbnVfdXRpbF9qc18xLk1lbnVVdGlsLmNvdW50ZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzZWwuaHRtbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBjb2x1bW4gPSByZWN0cy5tYXAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHgud2lkdGg7IH0pO1xuICAgICAgICB2YXIgd2lkdGggPSBjb2x1bW4ucmVkdWNlKGZ1bmN0aW9uICh4LCB5KSB7IHJldHVybiB4ICsgeTsgfSwgMCk7XG4gICAgICAgIHZhciBoZWlnaHQgPSByZWN0cy5yZWR1Y2UoZnVuY3Rpb24gKHgsIHkpIHsgcmV0dXJuIE1hdGgubWF4KHgsIHkuaGVpZ2h0KTsgfSwgMCk7XG4gICAgICAgIGRpdi5jbGFzc0xpc3QuYWRkKGh0bWxfY2xhc3Nlc19qc18xLkh0bWxDbGFzc2VzWydTRUxFQ1RJT05ESVZJREVSJ10pO1xuICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdzdHlsZScsICdoZWlnaHQ6ICcgKyBoZWlnaHQgKyAncHg7Jyk7XG4gICAgICAgIHJldHVybiBbZGl2LCB3aWR0aCwgaGVpZ2h0LCBjb2x1bW5dO1xuICAgIH07XG4gICAgU2VsZWN0aW9uQm94LnByb3RvdHlwZS5kaXNwbGF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRpc3BsYXkuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5vcmRlcigpO1xuICAgICAgICBpZiAoIXRoaXMuc2VsZWN0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb3V0ZXJEaXZzID0gW107XG4gICAgICAgIHZhciBtYXhXaWR0aCA9IDA7XG4gICAgICAgIHZhciBiYWxhbmNlZENvbHVtbiA9IFtdO1xuICAgICAgICB2YXIgY2h1bmtzID0gdGhpcy5nZXRDaHVua1NpemUodGhpcy5zZWxlY3Rpb25zLmxlbmd0aCk7XG4gICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgIHZhciBzZWxzID0gdGhpc18xLnNlbGVjdGlvbnMuc2xpY2UoaSwgaSArIGNodW5rcyk7XG4gICAgICAgICAgICB2YXIgX2EgPSBfX3JlYWQodGhpc18xLnJvd0RpdihzZWxzKSwgNCksIGRpdiA9IF9hWzBdLCB3aWR0aCA9IF9hWzFdLCBoZWlnaHQgPSBfYVsyXSwgY29sdW1uID0gX2FbM107XG4gICAgICAgICAgICBvdXRlckRpdnMucHVzaChkaXYpO1xuICAgICAgICAgICAgbWF4V2lkdGggPSBNYXRoLm1heChtYXhXaWR0aCwgd2lkdGgpO1xuICAgICAgICAgICAgc2Vscy5mb3JFYWNoKGZ1bmN0aW9uIChzZWwpIHsgcmV0dXJuIHNlbC5odG1sLnN0eWxlLmhlaWdodCA9IGhlaWdodCArICdweCc7IH0pO1xuICAgICAgICAgICAgYmFsYW5jZWRDb2x1bW4gPSB0aGlzXzEuY29tYmluZUNvbHVtbihiYWxhbmNlZENvbHVtbiwgY29sdW1uKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHRoaXNfMSA9IHRoaXM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zZWxlY3Rpb25zLmxlbmd0aDsgaSArPSBjaHVua3MpIHtcbiAgICAgICAgICAgIF9sb29wXzEoaSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2JhbGFuY2VkKSB7XG4gICAgICAgICAgICB0aGlzLmJhbGFuY2VDb2x1bW4ob3V0ZXJEaXZzLCBiYWxhbmNlZENvbHVtbik7XG4gICAgICAgICAgICBtYXhXaWR0aCA9IGJhbGFuY2VkQ29sdW1uLnJlZHVjZShmdW5jdGlvbiAoeCwgeSkgeyByZXR1cm4geCArIHk7IH0sIDIwKTtcbiAgICAgICAgfVxuICAgICAgICBvdXRlckRpdnMuZm9yRWFjaChmdW5jdGlvbiAoZGl2KSB7IHJldHVybiBkaXYuc3R5bGUud2lkdGggPSBtYXhXaWR0aCArICdweCc7IH0pO1xuICAgIH07XG4gICAgU2VsZWN0aW9uQm94LnByb3RvdHlwZS5nZXRDaHVua1NpemUgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICAgICAgICBzd2l0Y2ggKHRoaXMuZ3JpZCkge1xuICAgICAgICAgICAgY2FzZSBcInNxdWFyZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGguc3FydChzaXplKSk7XG4gICAgICAgICAgICBjYXNlIFwiaG9yaXpvbnRhbFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBzaXplIC8gU2VsZWN0aW9uQm94LmNodW5rU2l6ZTtcbiAgICAgICAgICAgIGNhc2UgXCJ2ZXJ0aWNhbFwiOlxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gU2VsZWN0aW9uQm94LmNodW5rU2l6ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU2VsZWN0aW9uQm94LnByb3RvdHlwZS5iYWxhbmNlQ29sdW1uID0gZnVuY3Rpb24gKGRpdnMsIGNvbHVtbikge1xuICAgICAgICBkaXZzLmZvckVhY2goZnVuY3Rpb24gKGRpdikge1xuICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gQXJyYXkuZnJvbShkaXYuY2hpbGRyZW4pO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGNoaWxkID0gdm9pZCAwOyBjaGlsZCA9IGNoaWxkcmVuW2ldOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjaGlsZC5zdHlsZS53aWR0aCA9IGNvbHVtbltpXSArICdweCc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgU2VsZWN0aW9uQm94LnByb3RvdHlwZS5jb21iaW5lQ29sdW1uID0gZnVuY3Rpb24gKGNvbDEsIGNvbDIpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHdoaWxlIChjb2wxW2ldIHx8IGNvbDJbaV0pIHtcbiAgICAgICAgICAgIGlmICghY29sMVtpXSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQoY29sMi5zbGljZShpKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWNvbDJbaV0pIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KGNvbDEuc2xpY2UoaSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0LnB1c2goTWF0aC5tYXgoY29sMVtpXSwgY29sMltpXSkpO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIDtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIFNlbGVjdGlvbkJveC5wcm90b3R5cGUubGVmdCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLm1vdmUoZXZlbnQsIGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICAgICAgcmV0dXJuIChpbmRleCA9PT0gMCA/IF90aGlzLnNlbGVjdGlvbnMubGVuZ3RoIDogaW5kZXgpIC0gMTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBTZWxlY3Rpb25Cb3gucHJvdG90eXBlLnJpZ2h0ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMubW92ZShldmVudCwgZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICByZXR1cm4gaW5kZXggPT09IF90aGlzLnNlbGVjdGlvbnMubGVuZ3RoIC0gMSA/IDAgOiBpbmRleCArIDE7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgU2VsZWN0aW9uQm94LnByb3RvdHlwZS5nZW5lcmF0ZUh0bWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZ2VuZXJhdGVIdG1sLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuaHRtbC5jbGFzc0xpc3QuYWRkKGh0bWxfY2xhc3Nlc19qc18xLkh0bWxDbGFzc2VzWydTRUxFQ1RJT04nXSk7XG4gICAgfTtcbiAgICBTZWxlY3Rpb25Cb3gucHJvdG90eXBlLmdlbmVyYXRlQ29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRpdiA9IF9zdXBlci5wcm90b3R5cGUuZ2VuZXJhdGVDb250ZW50LmNhbGwodGhpcyk7XG4gICAgICAgIGRpdi5jbGFzc0xpc3QuYWRkKGh0bWxfY2xhc3Nlc19qc18xLkh0bWxDbGFzc2VzWydTRUxFQ1RJT05CT1gnXSk7XG4gICAgICAgIGRpdi5yZW1vdmVBdHRyaWJ1dGUoJ3RhYmluZGV4Jyk7XG4gICAgICAgIHJldHVybiBkaXY7XG4gICAgfTtcbiAgICBTZWxlY3Rpb25Cb3gucHJvdG90eXBlLmZpbmRTZWxlY3Rpb24gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgdmFyIHNlbGVjdGlvbiA9IG51bGw7XG4gICAgICAgIGlmICh0YXJnZXQuaWQpIHtcbiAgICAgICAgICAgIHNlbGVjdGlvbiA9IHRoaXMuc2VsZWN0aW9ucy5maW5kKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4Lmh0bWwuaWQgPT09IHRhcmdldC5pZDsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzZWxlY3Rpb24pIHtcbiAgICAgICAgICAgIHZhciBpZF8xID0gdGFyZ2V0LnBhcmVudEVsZW1lbnQuaWQ7XG4gICAgICAgICAgICBzZWxlY3Rpb24gPSB0aGlzLnNlbGVjdGlvbnMuZmluZChmdW5jdGlvbiAoeCkgeyByZXR1cm4geC5odG1sLmlkID09PSBpZF8xOyB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VsZWN0aW9uO1xuICAgIH07XG4gICAgU2VsZWN0aW9uQm94LnByb3RvdHlwZS5tb3ZlID0gZnVuY3Rpb24gKGV2ZW50LCBpc05leHQpIHtcbiAgICAgICAgdmFyIHNlbGVjdGlvbiA9IHRoaXMuZmluZFNlbGVjdGlvbihldmVudCk7XG4gICAgICAgIGlmIChzZWxlY3Rpb24uZm9jdXNlZCkge1xuICAgICAgICAgICAgc2VsZWN0aW9uLmZvY3VzZWQudW5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuc2VsZWN0aW9ucy5pbmRleE9mKHNlbGVjdGlvbik7XG4gICAgICAgIHZhciBuZXh0ID0gaXNOZXh0KGluZGV4KTtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25zW25leHRdLmZvY3VzKCk7XG4gICAgfTtcbiAgICBTZWxlY3Rpb25Cb3gucHJvdG90eXBlLm9yZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNlbGVjdGlvbnMuc29ydChTZWxlY3Rpb25Cb3gub3JkZXJNZXRob2QuZ2V0KHRoaXMuc3R5bGUpKTtcbiAgICB9O1xuICAgIFNlbGVjdGlvbkJveC5wcm90b3R5cGUudG9Kc29uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4geyB0eXBlOiAnJ1xuICAgICAgICB9O1xuICAgIH07XG4gICAgU2VsZWN0aW9uQm94LmNodW5rU2l6ZSA9IDQ7XG4gICAgU2VsZWN0aW9uQm94Lm9yZGVyTWV0aG9kID0gbmV3IE1hcChbXG4gICAgICAgIFtcImFscGhhYmV0aWNhbFwiLCBmdW5jdGlvbiAoeCwgeSkgeyByZXR1cm4geC5pdGVtc1swXS5jb250ZW50LmxvY2FsZUNvbXBhcmUoeS5pdGVtc1swXS5jb250ZW50KTsgfV0sXG4gICAgICAgIFtcIm5vbmVcIiwgZnVuY3Rpb24gKF94LCBfeSkgeyByZXR1cm4gMTsgfV0sXG4gICAgICAgIFtcImRlY3JlYXNpbmdcIiwgZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgICAgICAgICB2YXIgeGwgPSB4Lml0ZW1zLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB2YXIgeWwgPSB5Lml0ZW1zLmxlbmd0aDtcbiAgICAgICAgICAgICAgICByZXR1cm4gKHhsIDwgeWwpID8gMSA6ICgoeWwgPCB4bCkgPyAtMSA6IDApO1xuICAgICAgICAgICAgfV0sXG4gICAgICAgIFtcImluY3JlYXNpbmdcIiwgZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgICAgICAgICB2YXIgeGwgPSB4Lml0ZW1zLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB2YXIgeWwgPSB5Lml0ZW1zLmxlbmd0aDtcbiAgICAgICAgICAgICAgICByZXR1cm4gKHhsIDwgeWwpID8gLTEgOiAoKHlsIDwgeGwpID8gMSA6IDApO1xuICAgICAgICAgICAgfV0sXG4gICAgXSk7XG4gICAgcmV0dXJuIFNlbGVjdGlvbkJveDtcbn0oaW5mb19qc18xLkluZm8pKTtcbmV4cG9ydHMuU2VsZWN0aW9uQm94ID0gU2VsZWN0aW9uQm94O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VsZWN0aW9uX2JveC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5TdWJNZW51ID0gdm9pZCAwO1xudmFyIGFic3RyYWN0X21lbnVfanNfMSA9IHJlcXVpcmUoXCIuL2Fic3RyYWN0X21lbnUuanNcIik7XG52YXIgU3ViTWVudSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFN1Yk1lbnUsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3ViTWVudShfYW5jaG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9hbmNob3IgPSBfYW5jaG9yO1xuICAgICAgICBfdGhpcy52YXJpYWJsZVBvb2wgPSBfdGhpcy5hbmNob3IubWVudS5wb29sO1xuICAgICAgICBfdGhpcy5zZXRCYXNlTWVudSgpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFN1Yk1lbnUuZnJvbUpzb24gPSBmdW5jdGlvbiAoZmFjdG9yeSwgX2EsIGFuY2hvcikge1xuICAgICAgICB2YXIgaXRzID0gX2EuaXRlbXM7XG4gICAgICAgIHZhciBzdWJtZW51ID0gbmV3IHRoaXMoYW5jaG9yKTtcbiAgICAgICAgdmFyIGl0ZW1MaXN0ID0gZmFjdG9yeS5nZXQoJ2l0ZW1zJykoZmFjdG9yeSwgaXRzLCBzdWJtZW51KTtcbiAgICAgICAgc3VibWVudS5pdGVtcyA9IGl0ZW1MaXN0O1xuICAgICAgICByZXR1cm4gc3VibWVudTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdWJNZW51LnByb3RvdHlwZSwgXCJhbmNob3JcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbmNob3I7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBTdWJNZW51LnByb3RvdHlwZS5wb3N0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuYW5jaG9yLm1lbnUuaXNQb3N0ZWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtb2JpbGVGbGFnID0gZmFsc2U7XG4gICAgICAgIHZhciBydGxGbGFnID0gZmFsc2U7XG4gICAgICAgIHZhciBtYXJnaW4gPSA1O1xuICAgICAgICB2YXIgcGFyZW50ID0gdGhpcy5hbmNob3IuaHRtbDtcbiAgICAgICAgdmFyIG1lbnUgPSB0aGlzLmh0bWw7XG4gICAgICAgIHZhciBiYXNlID0gdGhpcy5iYXNlTWVudS5mcmFtZTtcbiAgICAgICAgdmFyIG13ID0gcGFyZW50Lm9mZnNldFdpZHRoO1xuICAgICAgICB2YXIgeCA9IChtb2JpbGVGbGFnID8gMzAgOiBtdyAtIDIpO1xuICAgICAgICB2YXIgeSA9IDA7XG4gICAgICAgIHdoaWxlIChwYXJlbnQgJiYgcGFyZW50ICE9PSBiYXNlKSB7XG4gICAgICAgICAgICB4ICs9IHBhcmVudC5vZmZzZXRMZWZ0O1xuICAgICAgICAgICAgeSArPSBwYXJlbnQub2Zmc2V0VG9wO1xuICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFtb2JpbGVGbGFnKSB7XG4gICAgICAgICAgICBpZiAoKHJ0bEZsYWcgJiYgeCAtIG13IC0gbWVudS5vZmZzZXRXaWR0aCA+IG1hcmdpbikgfHxcbiAgICAgICAgICAgICAgICAoIXJ0bEZsYWcgJiYgeCArIG1lbnUub2Zmc2V0V2lkdGggPlxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5Lm9mZnNldFdpZHRoIC0gbWFyZ2luKSkge1xuICAgICAgICAgICAgICAgIHggPSBNYXRoLm1heChtYXJnaW4sIHggLSBtdyAtIG1lbnUub2Zmc2V0V2lkdGggKyA2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnBvc3QuY2FsbCh0aGlzLCB4LCB5KTtcbiAgICB9O1xuICAgIFN1Yk1lbnUucHJvdG90eXBlLmRpc3BsYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuYmFzZU1lbnUuZnJhbWUuYXBwZW5kQ2hpbGQodGhpcy5odG1sKTtcbiAgICB9O1xuICAgIFN1Yk1lbnUucHJvdG90eXBlLnNldEJhc2VNZW51ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWVudSA9IHRoaXM7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIG1lbnUgPSBtZW51LmFuY2hvci5tZW51O1xuICAgICAgICB9IHdoaWxlIChtZW51IGluc3RhbmNlb2YgU3ViTWVudSk7XG4gICAgICAgIHRoaXMuYmFzZU1lbnUgPSBtZW51O1xuICAgIH07XG4gICAgU3ViTWVudS5wcm90b3R5cGUubGVmdCA9IGZ1bmN0aW9uIChfZXZlbnQpIHtcbiAgICAgICAgdGhpcy5mb2N1c2VkID0gbnVsbDtcbiAgICAgICAgdGhpcy5hbmNob3IuZm9jdXMoKTtcbiAgICB9O1xuICAgIFN1Yk1lbnUucHJvdG90eXBlLnRvSnNvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogJydcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHJldHVybiBTdWJNZW51O1xufShhYnN0cmFjdF9tZW51X2pzXzEuQWJzdHJhY3RNZW51KSk7XG5leHBvcnRzLlN1Yk1lbnUgPSBTdWJNZW51O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3ViX21lbnUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlZhcmlhYmxlID0gdm9pZCAwO1xudmFyIG1lbnVfdXRpbF9qc18xID0gcmVxdWlyZShcIi4vbWVudV91dGlsLmpzXCIpO1xudmFyIFZhcmlhYmxlID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBWYXJpYWJsZShfbmFtZSwgZ2V0dGVyLCBzZXR0ZXIpIHtcbiAgICAgICAgdGhpcy5fbmFtZSA9IF9uYW1lO1xuICAgICAgICB0aGlzLmdldHRlciA9IGdldHRlcjtcbiAgICAgICAgdGhpcy5zZXR0ZXIgPSBzZXR0ZXI7XG4gICAgICAgIHRoaXMuaXRlbXMgPSBbXTtcbiAgICB9XG4gICAgVmFyaWFibGUuZnJvbUpzb24gPSBmdW5jdGlvbiAoX2ZhY3RvcnksIF9hLCBwb29sKSB7XG4gICAgICAgIHZhciBuYW1lID0gX2EubmFtZSwgZ2V0dGVyID0gX2EuZ2V0dGVyLCBzZXR0ZXIgPSBfYS5zZXR0ZXI7XG4gICAgICAgIHZhciB2YXJpYWJsZSA9IG5ldyB0aGlzKG5hbWUsIGdldHRlciwgc2V0dGVyKTtcbiAgICAgICAgcG9vbC5pbnNlcnQodmFyaWFibGUpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZhcmlhYmxlLnByb3RvdHlwZSwgXCJuYW1lXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmFtZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFZhcmlhYmxlLnByb3RvdHlwZS5nZXRWYWx1ZSA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXR0ZXIobm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIG1lbnVfdXRpbF9qc18xLk1lbnVVdGlsLmVycm9yKGUsICdDb21tYW5kIG9mIHZhcmlhYmxlICcgKyB0aGlzLm5hbWUgKyAnIGZhaWxlZC4nKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBWYXJpYWJsZS5wcm90b3R5cGUuc2V0VmFsdWUgPSBmdW5jdGlvbiAodmFsdWUsIG5vZGUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuc2V0dGVyKHZhbHVlLCBub2RlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgbWVudV91dGlsX2pzXzEuTWVudVV0aWwuZXJyb3IoZSwgJ0NvbW1hbmQgb2YgdmFyaWFibGUgJyArIHRoaXMubmFtZSArICcgZmFpbGVkLicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfTtcbiAgICBWYXJpYWJsZS5wcm90b3R5cGUucmVnaXN0ZXIgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICBpZiAodGhpcy5pdGVtcy5pbmRleE9mKGl0ZW0pID09PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5pdGVtcy5wdXNoKGl0ZW0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBWYXJpYWJsZS5wcm90b3R5cGUudW5yZWdpc3RlciA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuaXRlbXMuaW5kZXhPZihpdGVtKTtcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5pdGVtcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBWYXJpYWJsZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLml0ZW1zLmZvckVhY2goZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHgudXBkYXRlKCk7IH0pO1xuICAgIH07XG4gICAgVmFyaWFibGUucHJvdG90eXBlLnJlZ2lzdGVyQ2FsbGJhY2sgPSBmdW5jdGlvbiAoZnVuYykge1xuICAgICAgICB0aGlzLml0ZW1zLmZvckVhY2goZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHgucmVnaXN0ZXJDYWxsYmFjayhmdW5jKTsgfSk7XG4gICAgfTtcbiAgICBWYXJpYWJsZS5wcm90b3R5cGUudW5yZWdpc3RlckNhbGxiYWNrID0gZnVuY3Rpb24gKGZ1bmMpIHtcbiAgICAgICAgdGhpcy5pdGVtcy5mb3JFYWNoKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LnVucmVnaXN0ZXJDYWxsYmFjayhmdW5jKTsgfSk7XG4gICAgfTtcbiAgICBWYXJpYWJsZS5wcm90b3R5cGUudG9Kc29uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4geyB0eXBlOiAndmFyaWFibGUnLFxuICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgICAgICAgZ2V0dGVyOiB0aGlzLmdldHRlci50b1N0cmluZygpLFxuICAgICAgICAgICAgc2V0dGVyOiB0aGlzLnNldHRlci50b1N0cmluZygpIH07XG4gICAgfTtcbiAgICByZXR1cm4gVmFyaWFibGU7XG59KCkpO1xuZXhwb3J0cy5WYXJpYWJsZSA9IFZhcmlhYmxlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmFyaWFibGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlZhcmlhYmxlUG9vbCA9IHZvaWQgMDtcbnZhciBWYXJpYWJsZVBvb2wgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFZhcmlhYmxlUG9vbCgpIHtcbiAgICAgICAgdGhpcy5wb29sID0ge307XG4gICAgfVxuICAgIFZhcmlhYmxlUG9vbC5wcm90b3R5cGUuaW5zZXJ0ID0gZnVuY3Rpb24gKHZhcmlhYmxlKSB7XG4gICAgICAgIHRoaXMucG9vbFt2YXJpYWJsZS5uYW1lXSA9IHZhcmlhYmxlO1xuICAgIH07XG4gICAgVmFyaWFibGVQb29sLnByb3RvdHlwZS5sb29rdXAgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5wb29sW25hbWVdO1xuICAgIH07XG4gICAgVmFyaWFibGVQb29sLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICBkZWxldGUgdGhpcy5wb29sW25hbWVdO1xuICAgIH07XG4gICAgVmFyaWFibGVQb29sLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIHZhcmlhYmxlIGluIHRoaXMucG9vbCkge1xuICAgICAgICAgICAgdGhpcy5wb29sW3ZhcmlhYmxlXS51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFZhcmlhYmxlUG9vbDtcbn0oKSk7XG5leHBvcnRzLlZhcmlhYmxlUG9vbCA9IFZhcmlhYmxlUG9vbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZhcmlhYmxlX3Bvb2wuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==